!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).mdast=t()}(this,function(){"use strict";function v(e){if(e)throw e}function O(){var e,t,n,r,i,s=arguments[0],o=1,a=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},o=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});o<a;++o)if(null!=(e=arguments[o]))for(t in e)i=H(s,t),s!==(n=H(e,t))&&(c&&n&&(V(n)||(r=$(n)))?(i=r?(r=!1,i&&$(i)?i:[]):i&&V(i)?i:{},K(s,{name:t,newValue:O(c,i,n)})):void 0!==n&&K(s,{name:t,newValue:n}));return s}var N=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},D=Object.prototype.hasOwnProperty,_=Object.prototype.toString,M=Object.defineProperty,j=Object.getOwnPropertyDescriptor,$=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===_.call(e)},V=function(e){if(!e||"[object Object]"!==_.call(e))return!1;var t,n=D.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&D.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||D.call(e,t)},K=function(e,t){M&&"__proto__"===t.name?M(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},H=function(e,t){if("__proto__"===t){if(!D.call(e,t))return;if(j)return j(e,t).value}return e[t]};function W(e){var t;if("object"==typeof e&&null!==e)return!(null!==(t=Object.getPrototypeOf(e))&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function Q(){const c=[],t={run:function(...s){let o=-1;const a=s.pop();if("function"!=typeof a)throw new TypeError("Expected function as last argument, not "+a);!function e(t,...n){var r=c[++o];let i=-1;if(t)a(t);else{for(;++i<s.length;)null!==n[i]&&void 0!==n[i]||(n[i]=s[i]);s=n,r?function(r,n){let i;return function(...t){var n=r.length>t.length;let e;n&&t.push(s);try{e=r.apply(this,t)}catch(e){if(t=e,n&&i)throw t;return s(t)}n||(e instanceof Promise?e.then(o,s):(e instanceof Error?s:o)(e))};function s(e,...t){i||(i=!0,n(e,...t))}function o(e){s(null,e)}}(r,e)(...n):a(null,...n)}}(null,...s)},use:function(e){if("function"==typeof e)return c.push(e),t;throw new TypeError("Expected `middelware` to be a function, not "+e)}};return t}function J(e){return e&&"object"==typeof e?"position"in e||"type"in e?G(e.position):"start"in e||"end"in e?G(e):"line"in e||"column"in e?Y(e):"":""}function Y(e){return X(e&&e.line)+":"+X(e&&e.column)}function G(e){return Y(e&&e.start)+"-"+Y(e&&e.end)}function X(e){return e&&"number"==typeof e?e:1}class r extends Error{constructor(e,t,n){var r,i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};super(),"string"==typeof t&&(n=t,t=void 0),"string"==typeof n&&(-1===(r=n.indexOf(":"))?i[1]=n:(i[0]=n.slice(0,r),i[1]=n.slice(r+1))),t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=J(t)||"1:1",this.message="object"==typeof e?e.message:e,this.stack="object"==typeof e?e.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=i[0],this.ruleId=i[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}}r.prototype.file="",r.prototype.name="",r.prototype.reason="",r.prototype.message="",r.prototype.stack="",r.prototype.fatal=null,r.prototype.column=null,r.prototype.line=null,r.prototype.source=null,r.prototype.ruleId=null,r.prototype.position=null;const n={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');Z(e);let n=0,r=-1,i=e.length,s;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.charCodeAt(i)){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(47===e.charCodeAt(i)){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),-1<a&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));n===r?r=o:r<0&&(r=e.length);return e.slice(n,r)},dirname:function(e){if(Z(e),0===e.length)return".";let t=-1,n=e.length,r;for(;--n;)if(47===e.charCodeAt(n)){if(r){t=n;break}}else r=r||!0;return t<0?47===e.charCodeAt(0)?"/":".":1===t&&47===e.charCodeAt(0)?"//":e.slice(0,t)},extname:function(e){Z(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){var a=e.charCodeAt(t);if(47===a){if(o){r=t+1;break}}else n<0&&(o=!0,n=t+1),46===a?i<0?i=t:1!==s&&(s=1):-1<i&&(s=-1)}if(i<0||n<0||0===s||1===s&&i===n-1&&i===r+1)return"";return e.slice(i,n)},join:function(...e){let t=-1,n;for(;++t<e.length;)Z(e[t]),e[t]&&(n=void 0===n?e[t]:n+"/"+e[t]);return void 0===n?".":function(e){Z(e);var t=47===e.charCodeAt(0);let n=function(e,t){let n="",r=0,i=-1,s=0,o=-1,a,c;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(47===a)break;a=47}if(47===a){if(i!==o-1&&1!==s)if(i!==o-1&&2===s){if(n.length<2||2!==r||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){if((c=n.lastIndexOf("/"))!==n.length-1){r=c<0?(n="",0):(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),i=o,s=0;continue}}else if(0<n.length){n="",r=0,i=o,s=0;continue}t&&(n=0<n.length?n+"/..":"..",r=2)}else 0<n.length?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else 46===a&&-1<s?s++:s=-1}return n}(e,!t);0!==n.length||t||(n=".");0<n.length&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(n)},sep:"/"};function Z(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ee={cwd:function(){return"/"}};function te(e){return null!==e&&"object"==typeof e&&e.href&&e.origin}function ne(t){if("string"==typeof t)t=new URL(t);else if(!te(t))throw(n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`")).code="ERR_INVALID_ARG_TYPE",n;if("file:"!==t.protocol)throw(n=new TypeError("The URL must be of scheme file")).code="ERR_INVALID_URL_SCHEME",n;{var n=t;if(""!==n.hostname)throw(t=new TypeError('File URL host must be "localhost" or empty on darwin')).code="ERR_INVALID_FILE_URL_HOST",t;var r=n.pathname;let e=-1;for(;++e<r.length;)if(37===r.charCodeAt(e)&&50===r.charCodeAt(e+1)){var i=r.charCodeAt(e+2);if(70===i||102===i)throw(i=new TypeError("File URL path must not include encoded / characters")).code="ERR_INVALID_FILE_URL_PATH",i}return decodeURIComponent(r)}}const re=["history","path","basename","stem","extname","dirname"];class ie{constructor(e){let t,n=(t=e?"string"==typeof e||N(e)?{value:e}:te(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=ee.cwd(),this.value,this.stored,this.result,this.map,-1);for(;++n<re.length;){const r=re[n];r in t&&void 0!==t[r]&&(this[r]="history"===r?[...t[r]]:t[r])}let r;for(r in t)re.includes(r)||(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(e){oe(e=te(e)?ne(e):e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"==typeof this.path?n.dirname(this.path):void 0}set dirname(e){ae(this.basename,"dirname"),this.path=n.join(e||"",this.basename)}get basename(){return"string"==typeof this.path?n.basename(this.path):void 0}set basename(e){oe(e,"basename"),se(e,"basename"),this.path=n.join(this.dirname||"",e)}get extname(){return"string"==typeof this.path?n.extname(this.path):void 0}set extname(e){if(se(e,"extname"),ae(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=n.join(this.dirname,this.stem+(e||""))}get stem(){return"string"==typeof this.path?n.basename(this.path,this.extname):void 0}set stem(e){oe(e,"stem"),se(e,"stem"),this.path=n.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,n){e=new r(e,t,n);return this.path&&(e.name=this.path+":"+e.name,e.file=this.path),e.fatal=!1,this.messages.push(e),e}info(e,t,n){e=this.message(e,t,n);return e.fatal=null,e}fail(e,t,n){e=this.message(e,t,n);throw e.fatal=!0,e}}function se(e,t){if(e&&e.includes(n.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+n.sep+"`")}function oe(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ae(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const ce=function n(){const a=Q();const c=[];let u={};let l;let r=-1;f.data=e;f.Parser=void 0;f.Compiler=void 0;f.freeze=t;f.attachers=c;f.use=i;f.parse=s;f.stringify=o;f.run=h;f.runSync=d;f.process=p;f.processSync=m;return f;function f(){const e=n();let t=-1;for(;++t<c.length;)e.use(...c[t]);return e.data(O(!0,{},u)),e}function e(e,t){return"string"==typeof e?2===arguments.length?(de("data",l),u[e]=t,f):ue.call(u,e)&&u[e]||null:e?(de("data",l),u=e,f):u}function t(){if(!l){for(;++r<c.length;){const[e,...t]=c[r];if(!1!==t[0]){!0===t[0]&&(t[0]=void 0);const n=e.call(f,...t);"function"==typeof n&&a.use(n)}}l=!0,r=Number.POSITIVE_INFINITY}return f}function i(e,...t){let n;if(de("use",l),null!=e)if("function"==typeof e)o(e,...t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");(Array.isArray(e)?s:i)(e)}return n&&(u.settings=Object.assign(u.settings||{},n)),f;function r(e){if("function"==typeof e)o(e);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,...n)}else i(e)}}function i(e){s(e.plugins),e.settings&&(n=Object.assign(n||{},e.settings))}function s(e){let t=-1;if(null!=e){if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){const n=e[t];r(n)}}}function o(e,t){let n=-1,r;for(;++n<c.length;)if(c[n][0]===e){r=c[n];break}r?(W(r[1])&&W(t)&&(t=O(!0,r[1],t)),r[1]=t):c.push([...arguments])}}function s(e){f.freeze();const t=ge(e),n=f.Parser;return fe("parse",n),le(n,"parse")?new n(String(t),t).parse():n(String(t),t)}function o(e,t){f.freeze();const n=ge(t),r=f.Compiler;return he("stringify",r),pe(e),le(r,"compile")?new r(e,n).compile():r(e,n)}function h(s,t,o){if(pe(s),f.freeze(),o||"function"!=typeof t||(o=t,t=void 0),!o)return new Promise(e);function e(r,i){function e(e,t,n){t=t||s,e?i(e):r?r(t):o(null,t,n)}a.run(s,ge(t),e)}e(null,o)}function d(e,t){let n,r;return f.run(e,t,i),me("runSync","run",r),n;function i(e,t){v(e),n=t,r=!0}}function p(t,s){if(f.freeze(),fe("process",f.Parser),he("process",f.Compiler),!s)return new Promise(e);function e(n,r){const e=ge(t);function i(e,t){e||!t?r(e):n?n(t):s(null,t)}f.run(f.parse(e),e,(e,t,n)=>{if(!e&&t&&n){const r=f.stringify(t,n);void 0!==r&&null!==r&&(ye(r)?n.value=r:n.result=r),i(e,n)}else i(e)})}e(null,s)}function m(e){let t;f.freeze(),fe("processSync",f.Parser),he("processSync",f.Compiler);const n=ge(e);return f.process(n,r),me("processSync","process",t),n;function r(e){t=!0,v(e)}}}().freeze(),ue={}.hasOwnProperty;function le(e,t){return"function"==typeof e&&e.prototype&&(function(e){let t;for(t in e)if(ue.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function fe(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function he(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function de(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pe(e){if(!W(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function me(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ge(e){return t=e,Boolean(t&&"object"==typeof t&&"message"in t&&"messages"in t)?e:new ie(e);var t}function ye(e){return"string"==typeof e||N(e)}function ve(e,t){return e&&"object"==typeof e&&(e.value||(t?e.alt:"")||"children"in e&&be(e.children,t)||Array.isArray(e)&&be(e,t))||""}function be(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=ve(e[r],t);return n.join("")}function k(e,t,n,r){var i=e.length;let s=0,o;if(t=t<0?i<-t?0:i+t:i<t?i:t,n=0<n?n:0,r.length<1e4)(o=Array.from(r)).unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)(o=r.slice(s,s+1e4)).unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function b(e,t){return 0<e.length?(k(e,e.length,0,t),e):t}const ke={}.hasOwnProperty;function xe(e){var n={};let r=-1;for(;++r<e.length;){i=void 0;s=void 0;o=void 0;a=void 0;c=void 0;var i=n;var s=e[r];let t;for(t in s){var o=(ke.call(i,t)?i[t]:void 0)||(i[t]={}),a=s[t];let e;for(e in a){ke.call(o,e)||(o[e]=[]);var c=a[e];!function(e,t){let n=-1;var r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);k(e,0,0,r)}(o[e],Array.isArray(c)?c:c?[c]:[])}}}return n}const P=e(/[A-Za-z]/),we=e(/\d/),Se=e(/[\dA-Fa-f]/),z=e(/[\dA-Za-z]/),Ee=e(/[!-/:-@[-`{-~]/),Ae=e(/[#-'*+\--9=?A-Z^-~]/);function Ce(e){return null!==e&&(e<32||127===e)}function R(e){return null!==e&&(e<0||32===e)}function q(e){return null!==e&&e<-2}function U(e){return-2===e||-1===e||32===e}const Te=e(/\s/),Ie=e(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function e(t){return function(e){return null!==e&&t.test(String.fromCharCode(e))}}function B(t,n,r,e){const i=e?e-1:Number.POSITIVE_INFINITY;let s=0;return function(e){if(U(e))return t.enter(r),o(e);return n(e)};function o(e){return U(e)&&s++<i?(t.consume(e),o):(t.exit(r),n(e))}}const Fe={tokenize:function(n){const t=n.attempt(this.parser.constructs.contentInitial,function(e){if(null!==e)return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),B(n,t,"linePrefix");n.consume(e)},function(e){return n.enter("paragraph"),i(e)});let r;return t;function i(e){var t=n.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=t),r=t,s(e)}function s(e){if(null!==e)return q(e)?(n.consume(e),n.exit("chunkText"),i):(n.consume(e),s);n.exit("chunkText"),n.exit("paragraph"),n.consume(e)}}};const Oe={tokenize:function(r){const s=this,i=[];let o=0,a,n,c;return t;function t(e){var t;return(o<i.length?(t=i[o],s.containerState=t[1],r.attempt(t[0].continuation,u,l)):l)(e)}function u(r){if(o++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,a&&b();var i=s.events.length;let e=i,t;for(;e--;)if("exit"===s.events[e][0]&&"chunkFlow"===s.events[e][1].type){t=s.events[e][1].end;break}v(o);let n=i;for(;n<s.events.length;)s.events[n][1].end=Object.assign({},t),n++;return k(s.events,e+1,0,s.events.slice(i)),s.events.length=n,l(r)}return t(r)}function l(e){if(o===i.length){if(!a)return d(e);if(a.currentConstruct&&a.currentConstruct.concrete)return m(e);s.interrupt=Boolean(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return s.containerState={},r.check(Le,f,h)(e)}function f(e){return a&&b(),v(o),d(e)}function h(e){return s.parser.lazy[s.now().line]=o!==i.length,c=s.now().offset,m(e)}function d(e){return s.containerState={},r.attempt(Le,p,m)(e)}function p(e){return o++,i.push([s.currentConstruct,s.containerState]),d(e)}function m(e){if(null!==e)return a=a||s.parser.flow(s.now()),r.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:a}),g(e);a&&b(),v(0),r.consume(e)}function g(e){if(null!==e)return q(e)?(r.consume(e),y(r.exit("chunkFlow")),o=0,s.interrupt=void 0,t):(r.consume(e),g);y(r.exit("chunkFlow"),!0),v(0),r.consume(e)}function y(e,i){var t=s.sliceStream(e);if(i&&t.push(null),(e.previous=n)&&(n.next=e),n=e,a.defineSkip(e.start),a.write(t),s.parser.lazy[e.start.line]){let e=a.events.length;for(;e--;)if(a.events[e][1].start.offset<c&&(!a.events[e][1].end||a.events[e][1].end.offset>c))return;i=s.events.length;let t=i,n,r;for(;t--;)if("exit"===s.events[t][0]&&"chunkFlow"===s.events[t][1].type){if(n){r=s.events[t][1].end;break}n=!0}for(v(o),e=i;e<s.events.length;)s.events[e][1].end=Object.assign({},r),e++;k(s.events,t+1,0,s.events.slice(i)),s.events.length=e}}function v(e){let t=i.length;for(;t-- >e;){var n=i[t];s.containerState=n[1],n[0].exit.call(s,r)}i.length=e}function b(){a.write([null]),n=void 0,a=void 0,s.containerState._closeFlow=void 0}}},Le={tokenize:function(e,t,n){return B(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function Ne(e){return null===e||R(e)||Te(e)?1:Ie(e)?2:void 0}function De(e,t,n){var r=[];let i=-1;for(;++i<e.length;){var s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}var _e={name:"attention",tokenize:function(s,o){const a=this.parser.constructs.attentionMarkers.null,c=this.previous,u=Ne(c);let l;return function(e){return s.enter("attentionSequence"),f(l=e)};function f(e){var t,n,r,i;return e===l?(s.consume(e),f):(t=s.exit("attentionSequence"),r=!(n=Ne(e))||2===n&&u||a.includes(e),i=!u||2===u&&n||a.includes(c),t._open=Boolean(42===l?r:r&&(u||!i)),t._close=Boolean(42===l?i:i&&(n||!r)),o(e))}},resolveAll:function(e,t){let n=-1,r,i,s,o,a,c,u,l;for(;++n<e.length;)if("enter"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._close)for(r=n;r--;)if("exit"===e[r][0]&&"attentionSequence"===e[r][1].type&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)&&(!((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3)||(e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3)){c=1<e[r][1].end.offset-e[r][1].start.offset&&1<e[n][1].end.offset-e[n][1].start.offset?2:1;var f=Object.assign({},e[r][1].end),h=Object.assign({},e[n][1].start);Me(f,-c),Me(h,c),o={type:1<c?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:1<c?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:h},s={type:1<c?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:1<c?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=b(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=b(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=b(u,De(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=b(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(l=2,u=b(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):l=0,k(e,r-1,n-r+3,u),n=r+u.length-l-2;break}n=-1;for(;++n<e.length;)"attentionSequence"===e[n][1].type&&(e[n][1].type="data");return e}};function Me(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const je={tokenize:function(e,t,n){return B(e,function(e){return(null===e||q(e)?t:n)(e)},"linePrefix")},partial:!0};const Be={name:"blockQuote",tokenize:function(n,t,r){const i=this;return function(e){if(62!==e)return r(e);{var t=i.containerState;return t.open||(n.enter("blockQuote",{_container:!0}),t.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(e),n.exit("blockQuoteMarker"),s}};function s(e){return U(e)?(n.enter("blockQuotePrefixWhitespace"),n.consume(e),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(e))}},continuation:{tokenize:function(e,t,n){return B(e,e.attempt(Be,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};var t={name:"characterEscape",tokenize:function(t,n,r){return function(e){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(e),t.exit("escapeMarker"),i};function i(e){return Ee(e)?(t.enter("characterEscapeValue"),t.consume(e),t.exit("characterEscapeValue"),t.exit("characterEscape"),n):r(e)}}};const Pe={innerHTML:"",textContent:""};function ze(e){var t="&"+e+";",n=(Pe.innerHTML=t,Pe.textContent);return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}var i={name:"characterReference",tokenize:function(n,r,i){const s=this;let o=0,a,c;return function(e){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(e),n.exit("characterReferenceMarker"),t};function t(e){return 35===e?(n.enter("characterReferenceMarkerNumeric"),n.consume(e),n.exit("characterReferenceMarkerNumeric"),u):(n.enter("characterReferenceValue"),a=31,c=z,l(e))}function u(e){return 88===e||120===e?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(e),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,c=Se,l):(n.enter("characterReferenceValue"),a=7,c=we,l(e))}function l(e){var t;return 59===e&&o?(t=n.exit("characterReferenceValue"),c!==z||ze(s.sliceSerialize(t))?(n.enter("characterReferenceMarker"),n.consume(e),n.exit("characterReferenceMarker"),n.exit("characterReference"),r):i(e)):c(e)&&o++<a?(n.consume(e),l):i(e)}}};var Re={name:"codeFenced",tokenize:function(t,n,r){const i=this,s={tokenize:function(t,n,r){let i=0;return B(t,function(e){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),s(e)},"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function s(e){return e===u?(t.consume(e),i++,s):(i<c?r:(t.exit("codeFencedFenceSequence"),B(t,o,"whitespace")))(e)}function o(e){return(null===e||q(e)?(t.exit("codeFencedFence"),n):r)(e)}},partial:!0},o={tokenize:function(t,n,r){const i=this;return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s};function s(e){return(i.parser.lazy[i.now().line]?r:n)(e)}},partial:!0},e=this.events[this.events.length-1],a=e&&"linePrefix"===e[1].type?e[2].sliceSerialize(e[1],!0).length:0;let c=0,u;return function(e){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),l(u=e)};function l(e){return e===u?(t.consume(e),c++,l):(t.exit("codeFencedFenceSequence"),(c<3?r:B(t,f,"whitespace"))(e))}function f(e){return(null===e||q(e)?m:(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h))(e)}function h(e){return null===e||R(e)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),B(t,d,"whitespace")(e)):96===e&&e===u?r(e):(t.consume(e),h)}function d(e){return(null===e||q(e)?m:(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p))(e)}function p(e){return null===e||q(e)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(e)):96===e&&e===u?r(e):(t.consume(e),p)}function m(e){return t.exit("codeFencedFence"),(i.interrupt?n:g)(e)}function g(e){return(null===e?v:q(e)?t.attempt(o,t.attempt(s,v,a?B(t,g,"linePrefix",a+1):g),v):(t.enter("codeFlowValue"),y))(e)}function y(e){return null===e||q(e)?(t.exit("codeFlowValue"),g(e)):(t.consume(e),y)}function v(e){return t.exit("codeFenced"),n(e)}},concrete:!0};var s={name:"codeIndented",tokenize:function(t,n,r){const i=this;return function(e){return t.enter("codeIndented"),B(t,s,"linePrefix",5)(e)};function s(e){var t=i.events[i.events.length-1];return(t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length?o:r)(e)}function o(e){return(null===e?c:q(e)?t.attempt(qe,o,c):(t.enter("codeFlowValue"),a))(e)}function a(e){return null===e||q(e)?(t.exit("codeFlowValue"),o(e)):(t.consume(e),a)}function c(e){return t.exit("codeIndented"),n(e)}}};const qe={tokenize:function(t,n,r){const i=this;return s;function s(e){return i.parser.lazy[i.now().line]?r(e):q(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s):B(t,o,"linePrefix",5)(e)}function o(e){var t=i.events[i.events.length-1];return(t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length?n:q(e)?s:r)(e)}},partial:!0};function Ue(e){var t,n,r,i,s={};let o=-1,a,c,u;for(;++o<e.length;){for(;o in s;)o=s[o];if(t=e[o],o&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[o-1][1].type&&(i=t[1]._tokenizer.events,(c=0)<i.length&&"lineEndingBlank"===i[c][1].type&&(c+=2),c<i.length)&&"content"===i[c][1].type)for(;++c<i.length&&"content"!==i[c][1].type;)"chunkText"===i[c][1].type&&(i[c][1]._isInFirstContentOfListItem=!0,c++);if("enter"===t[0])t[1].contentType&&(Object.assign(s,function(e,t){var n=e[t][1],r=e[t][2];let i=t-1;var s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,c=[],u={};let l,f,h=-1,d=n,p=0,m=0;var g=[m];for(;d;){for(;e[++i][1]!==d;);s.push(i),d._tokenizer||(l=r.sliceStream(d),d.next||l.push(null),f&&o.defineSkip(d.start),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(l),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=(f=d).next}d=n;for(;++h<a.length;)"exit"===a[h][0]&&"enter"===a[h-1][0]&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(m=h+1,g.push(m),d._tokenizer=void 0,d.previous=void 0,d=d.next);o.events=[],d?(d._tokenizer=void 0,d.previous=void 0):g.pop();h=g.length;for(;h--;){var y=a.slice(g[h],g[h+1]);const m=s.pop();c.unshift([m,m+y.length-1]),k(e,m,2,y)}h=-1;for(;++h<c.length;)u[p+c[h][0]]=p+c[h][1],p+=c[h][1]-c[h][0]-1;return u}(e,o)),o=s[o],u=!0);else if(t[1]._container){for(c=o,a=void 0;c--&&("lineEnding"===(n=e[c])[1].type||"lineEndingBlank"===n[1].type);)"enter"===n[0]&&(a&&(e[a][1].type="lineEndingBlank"),n[1].type="lineEnding",a=c);a&&(t[1].end=Object.assign({},e[a][1].start),(r=e.slice(a,o)).unshift(t),k(e,a,o-a+1,r))}}return!u}const $e={tokenize:function(t,n){let r;return function(e){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(e)};function i(e){return null===e?s(e):q(e)?t.check(Ve,o,s)(e):(t.consume(e),i)}function s(e){return t.exit("chunkContent"),t.exit("content"),n(e)}function o(e){return t.consume(e),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}},resolve:function(e){return Ue(e),e}},Ve={tokenize:function(n,r,i){const s=this;return function(e){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),B(n,t,"linePrefix")};function t(e){var t;return(null===e||q(e)?i:(t=s.events[s.events.length-1],!s.parser.constructs.disable.null.includes("codeIndented")&&t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length?r:n.interrupt(s.parser.constructs.flow,i,r)))(e)}},partial:!0};function Ke(t,n,r,i,s,o,a,c,e){const u=e||Number.POSITIVE_INFINITY;let l=0;return function(e){if(60===e)return t.enter(i),t.enter(s),t.enter(o),t.consume(e),t.exit(o),f;if(null===e||41===e||Ce(e))return r(e);return t.enter(i),t.enter(a),t.enter(c),t.enter("chunkString",{contentType:"string"}),p(e)};function f(e){return 62===e?(t.enter(o),t.consume(e),t.exit(o),t.exit(s),t.exit(i),n):(t.enter(c),t.enter("chunkString",{contentType:"string"}),h(e))}function h(e){return 62===e?(t.exit("chunkString"),t.exit(c),f(e)):null===e||60===e||q(e)?r(e):(t.consume(e),92===e?d:h)}function d(e){return 60===e||62===e||92===e?(t.consume(e),h):h(e)}function p(e){return 40===e?++l>u?r(e):(t.consume(e),p):41===e?l--?(t.consume(e),p):(t.exit("chunkString"),t.exit(c),t.exit(a),t.exit(i),n(e)):null===e||R(e)?(l?r:(t.exit("chunkString"),t.exit(c),t.exit(a),t.exit(i),n))(e):Ce(e)?r(e):(t.consume(e),92===e?m:p)}function m(e){return 40===e||41===e||92===e?(t.consume(e),p):p(e)}}function He(t,n,r,i,s,o){const a=this;let c=0,u;return function(e){return t.enter(i),t.enter(s),t.consume(e),t.exit(s),t.enter(o),l};function l(e){return null===e||91===e||93===e&&!u||94===e&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs||999<c?r(e):93===e?(t.exit(o),t.enter(s),t.consume(e),t.exit(s),t.exit(i),n):q(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),l):(t.enter("chunkString",{contentType:"string"}),f(e))}function f(e){return null===e||91===e||93===e||q(e)||999<c++?(t.exit("chunkString"),l(e)):(t.consume(e),u=u||!U(e),92===e?h:f)}function h(e){return 91===e||92===e||93===e?(t.consume(e),c++,f):f(e)}}function We(t,n,r,i,s,o){let a;return function(e){return t.enter(i),t.enter(s),t.consume(e),t.exit(s),a=40===e?41:e,c};function c(e){return e===a?(t.enter(s),t.consume(e),t.exit(s),t.exit(i),n):(t.enter(o),u(e))}function u(e){return e===a?(t.exit(o),c(a)):null===e?r(e):q(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),B(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),l(e))}function l(e){return e===a||null===e||q(e)?(t.exit("chunkString"),u(e)):(t.consume(e),92===e?f:l)}function f(e){return e===a||92===e?(t.consume(e),l):l(e)}}function L(n,r){let i;return function e(t){if(q(t))return n.enter("lineEnding"),n.consume(t),n.exit("lineEnding"),i=!0,e;if(U(t))return B(n,e,i?"linePrefix":"lineSuffix")(t);return r(t)}}function w(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qe={tokenize:function(t,n,r){return function(e){return(R(e)?L(t,i):r)(e)};function i(e){return(34===e||39===e||40===e?We(t,B(t,s,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString"):r)(e)}function s(e){return(null===e||q(e)?n:r)(e)}},partial:!0};const Je=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ye=["pre","script","style","textarea"],Ge={tokenize:function(t,n,r){return function(e){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),t.attempt(je,n,r)}},partial:!0};var Xe={name:"labelEnd",tokenize:function(t,n,r){const i=this;let e=i.events.length,s,o;for(;e--;)if(("labelImage"===i.events[e][1].type||"labelLink"===i.events[e][1].type)&&!i.events[e][1]._balanced){s=i.events[e][1];break}return function(e){return s?s._inactive?c(e):(o=i.parser.defined.includes(w(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelEnd"),a):r(e)};function a(e){return(40===e?t.attempt(Ze,n,o?n:c):91===e?t.attempt(et,n,o?t.attempt(tt,n,c):c):o?n:c)(e)}function c(e){return s._balanced=!0,r(e)}},resolveTo:function(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if("link"===i.type||"labelLink"===i.type&&i._inactive)break;"enter"===e[n][0]&&"labelLink"===i.type&&(i._inactive=!0)}else if(o){if("enter"===e[n][0]&&("labelImage"===i.type||"labelLink"===i.type)&&!i._balanced&&(s=n,"labelLink"!==i.type)){r=2;break}}else"labelEnd"===i.type&&(o=n);var c={type:"labelLink"===e[s][1].type?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},l={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=b(a=[["enter",c,t],["enter",u,t]],e.slice(s+1,s+r+3)),a=b(a,[["enter",l,t]]),a=b(a,De(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=b(a,[["exit",l,t],e[o-2],e[o-1],["exit",u,t]]),a=b(a,e.slice(o+1)),a=b(a,[["exit",c,t]]),k(e,s,e.length,a),e},resolveAll:function(e){let t=-1,n;for(;++t<e.length;)"labelImage"!==(n=e[t][1]).type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++);return e}};const Ze={tokenize:function(t,n,r){return function(e){return t.enter("resource"),t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),L(t,i)};function i(e){return(41===e?a:Ke(t,s,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32))(e)}function s(e){return(R(e)?L(t,o):a)(e)}function o(e){return(34===e||39===e||40===e?We(t,L(t,a),r,"resourceTitle","resourceTitleMarker","resourceTitleString"):a)(e)}function a(e){return 41===e?(t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),t.exit("resource"),n):r(e)}}},et={tokenize:function(t,n,r){const i=this;return function(e){return He.call(i,t,s,r,"reference","referenceMarker","referenceString")(e)};function s(e){return(i.parser.defined.includes(w(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n:r)(e)}}},tt={tokenize:function(t,n,r){return function(e){return t.enter("reference"),t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),i};function i(e){return 93===e?(t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),t.exit("reference"),n):r(e)}}};var o={name:"lineEnding",tokenize:function(t,n){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),B(t,n,"linePrefix")}}};const nt={name:"thematicBreak",tokenize:function(t,n,r){let i=0,s;return function(e){return t.enter("thematicBreak"),o(s=e)};function o(e){return(e===s?(t.enter("thematicBreakSequence"),a):U(e)?B(t,o,"whitespace"):i<3||null!==e&&!q(e)?r:(t.exit("thematicBreak"),n))(e)}function a(e){return e===s?(t.consume(e),i++,a):(t.exit("thematicBreakSequence"),o(e))}}};const a={name:"list",tokenize:function(n,t,r){const i=this,e=i.events[i.events.length-1];let s=e&&"linePrefix"===e[1].type?e[2].sliceSerialize(e[1],!0).length:0,o=0;return function(e){var t=i.containerState.type||(42===e||43===e||45===e?"listUnordered":"listOrdered");if("listUnordered"===t?!i.containerState.marker||e===i.containerState.marker:we(e)){if(i.containerState.type||(i.containerState.type=t,n.enter(t,{_container:!0})),"listUnordered"===t)return n.enter("listItemPrefix"),(42===e||45===e?n.check(nt,r,c):c)(e);if(!i.interrupt||49===e)return n.enter("listItemPrefix"),n.enter("listItemValue"),a(e)}return r(e)};function a(e){return we(e)&&++o<10?(n.consume(e),a):((!i.interrupt||o<2)&&(i.containerState.marker?e===i.containerState.marker:41===e||46===e)?(n.exit("listItemValue"),c):r)(e)}function c(e){return n.enter("listItemMarker"),n.consume(e),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||e,n.check(je,i.interrupt?r:u,n.attempt(rt,f,l))}function u(e){return i.containerState.initialBlankLine=!0,s++,f(e)}function l(e){return U(e)?(n.enter("listItemPrefixWhitespace"),n.consume(e),n.exit("listItemPrefixWhitespace"),f):r(e)}function f(e){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(e)}},continuation:{tokenize:function(t,n,r){const i=this;return i.containerState._closeFlow=void 0,t.check(je,function(e){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,B(t,n,"listItemIndent",i.containerState.size+1)(e)},function(e){return(!i.containerState.furtherBlankLines&&U(e)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(it,n,s)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s))(e)});function s(e){return i.containerState._closeFlow=!0,i.interrupt=void 0,B(t,t.attempt(a,n,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(e)}}},exit:function(e){e.exit(this.containerState.type)}},rt={tokenize:function(e,n,r){const i=this;return B(e,function(e){var t=i.events[i.events.length-1];return(!U(e)&&t&&"listItemPrefixWhitespace"===t[1].type?n:r)(e)},"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},it={tokenize:function(e,n,r){const i=this;return B(e,function(e){var t=i.events[i.events.length-1];return(t&&"listItemIndent"===t[1].type&&t[2].sliceSerialize(t[1],!0).length===i.containerState.size?n:r)(e)},"listItemIndent",i.containerState.size+1)},partial:!0};var c={name:"setextUnderline",tokenize:function(t,n,r){const i=this;let e=i.events.length,s,o;for(;e--;)if("lineEnding"!==i.events[e][1].type&&"linePrefix"!==i.events[e][1].type&&"content"!==i.events[e][1].type){o="paragraph"===i.events[e][1].type;break}return function(e){return i.parser.lazy[i.now().line]||!i.interrupt&&!o?r(e):(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),a(s=e))};function a(e){return e===s?(t.consume(e),a):(t.exit("setextHeadingLineSequence"),B(t,c,"lineSuffix")(e))}function c(e){return(null===e||q(e)?(t.exit("setextHeadingLine"),n):r)(e)}},resolveTo:function(e,t){let n=e.length,r,i,s;for(;n--;)if("enter"===e[n][0]){if("content"===e[n][1].type){r=n;break}"paragraph"===e[n][1].type&&(i=n)}else"content"===e[n][1].type&&e.splice(n,1),s||"definition"!==e[n][1].type||(s=n);var o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o;return e.push(["exit",o,t]),e}};const st={tokenize:function(t){const n=this,r=t.attempt(je,function(e){if(null!==e)return t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),n.currentConstruct=void 0,r;t.consume(e)},t.attempt(this.parser.constructs.flowInitial,e,B(t,t.attempt(this.parser.constructs.flow,e,t.attempt($e,e)),"linePrefix")));return r;function e(e){if(null!==e)return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),n.currentConstruct=void 0,r;t.consume(e)}}};var ot={resolveAll:lt()};const at=ut("string"),ct=ut("text");function ut(c){return{tokenize:function(t){const i=this,s=this.parser.constructs[c],n=t.attempt(s,e,r);return e;function e(e){return(a(e)?n:r)(e)}function r(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return a(e)?(t.exit("data"),n(e)):(t.consume(e),o)}function a(e){if(null===e)return 1;var t=s[e];let n=-1;if(t)for(;++n<t.length;){var r=t[n];if(!r.previous||r.previous.call(i,i.previous))return 1}}},resolveAll:lt("text"===c?ft:void 0)}}function lt(i){return function(e,t){let n=-1,r;for(;++n<=e.length;)void 0===r?e[n]&&"data"===e[n][1].type&&(r=n,n++):e[n]&&"data"===e[n][1].type||(n!==r+2&&(e[r][1].end=e[n-1][1].end,e.splice(r+2,n-r-2),n=r+2),r=void 0);return i?i(e,t):e}}function ft(i,s){let o=0;for(;++o<=i.length;)if((o===i.length||"lineEnding"===i[o][1].type)&&"data"===i[o-1][1].type){var a,c=i[o-1][1],u=s.sliceStream(c);let e=u.length,t=-1,n=0,r;for(;e--;){var l=u[e];if("string"==typeof l){for(t=l.length;32===l.charCodeAt(t-1);)n++,t--;if(t)break;t=-1}else if(-2===l)r=!0,n++;else if(-1!==l){e++;break}}n&&(a={type:o===i.length||r||n<2?"lineSuffix":"hardBreakTrailing",start:{line:c.end.line,column:c.end.column-n,offset:c.end.offset-n,_index:c.start._index+e,_bufferIndex:e?t:c.start._bufferIndex+t},end:Object.assign({},c.end)},c.end=Object.assign({},a.start),c.start.offset===c.end.offset?Object.assign(c,a):(i.splice(o,0,["enter",a,s],["exit",a,s]),o+=2)),o++}return i}function ht(e,r,t){let d=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const n={},i=[];let o=[],p=[];const m={consume:function(e){q(e)?(d.line++,d.column=1,d.offset+=-3===e?2:1,v()):-1!==e&&(d.column++,d.offset++);d._bufferIndex<0?d._index++:(d._bufferIndex++,d._bufferIndex===o[d._index].length&&(d._bufferIndex=-1,d._index++));g.previous=e},enter:function(e,t){t=t||{};return t.type=e,t.start=y(),g.events.push(["enter",t,g]),p.push(t),t},exit:function(e){var t=p.pop();return t.end=y(),g.events.push(["exit",t,g]),t},attempt:l(function(e,t){f(e,t.from)}),check:l(u),interrupt:l(u,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:a,sliceSerialize:function(e,t){return function(t,n){let r=-1;var i=[];let s;for(;++r<t.length;){var o=t[r];let e;if("string"==typeof o)e=o;else switch(o){case-5:e="\r";break;case-4:e="\n";break;case-3:e="\r\n";break;case-2:e=n?" ":"\t";break;case-1:if(!n&&s)continue;e=" ";break;default:e=String.fromCharCode(o)}s=-2===o,i.push(e)}return i.join("")}(a(e),t)},now:y,defineSkip:function(e){n[e.line]=e.column,v()},write:function(e){var t;for(o=b(o,e);d._index<o.length;){var n=o[d._index];if("string"==typeof n)for(t=d._index,d._bufferIndex<0&&(d._bufferIndex=0);d._index===t&&d._bufferIndex<n.length;)c(n.charCodeAt(d._bufferIndex));else c(n)}return null===o[o.length-1]?(f(r,0),g.events=De(i,g.events,g),g.events):[]}};let s=r.tokenize.call(g,m);return r.resolveAll&&i.push(r),g;function a(t){{var n=o,r=t.start._index,i=t.start._bufferIndex,s=t.end._index,t=t.end._bufferIndex;let e;return r===s?e=[n[r].slice(i,t)]:(e=n.slice(r,s),-1<i&&(e[0]=e[0].slice(i)),0<t&&e.push(n[s].slice(0,t))),e}}function y(){return Object.assign({},d)}function c(e){s=s(e)}function u(e,t){t.restore()}function l(f,h){return function(e,t,n){let r,i,s,o;return Array.isArray(e)?a(e):"tokenize"in e?a([e]):function(r){return function(e){var t=null!==e&&r[e],n=null!==e&&r.null,t=[...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]];return a(t)(e)}}(e);function a(e){return r=e,(i=0)===e.length?n:c(e[i])}function c(t){return function(e){o=function(){const e=y(),t=g.previous,n=g.currentConstruct,r=g.events.length,i=Array.from(p);return{restore:function(){d=e,g.previous=t,g.currentConstruct=n,g.events.length=r,p=i,v()},from:r}}(),(s=t).partial||(g.currentConstruct=t);if(t.name&&g.parser.constructs.disable.null.includes(t.name))return l();return t.tokenize.call(h?Object.assign(Object.create(g),h):g,m,u,l)(e)}}function u(e){return f(s,o),t}function l(e){return o.restore(),++i<r.length?c(r[i]):n}}}function f(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&k(g.events,t,g.events.length-t,e.resolve(g.events.slice(t),g)),e.resolveTo&&(g.events=e.resolveTo(g.events,g))}function v(){d.line in n&&d.column<2&&(d.column=n[d.line],d.offset+=n[d.line]-1)}}var dt={[42]:a,43:a,45:a,48:a,49:a,50:a,51:a,52:a,53:a,54:a,55:a,56:a,57:a,62:Be},c={[35]:{name:"headingAtx",tokenize:function(t,n,r){const i=this;let s=0;return function(e){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(e)};function o(e){return 35===e&&s++<6?(t.consume(e),o):(null===e||R(e)?(t.exit("atxHeadingSequence"),i.interrupt?n:a):r)(e)}function a(e){return(35===e?(t.enter("atxHeadingSequence"),c):null===e||q(e)?(t.exit("atxHeading"),n):U(e)?B(t,a,"whitespace"):(t.enter("atxHeadingText"),u))(e)}function c(e){return 35===e?(t.consume(e),c):(t.exit("atxHeadingSequence"),a(e))}function u(e){return null===e||35===e||R(e)?(t.exit("atxHeadingText"),a(e)):(t.consume(e),u)}},resolve:function(e,t){let n=e.length-2,r=3,i,s;"whitespace"===e[r][1].type&&(r+=2);n-2>r&&"whitespace"===e[n][1].type&&(n-=2);"atxHeadingSequence"===e[n][1].type&&(r===n-1||n-4>r&&"whitespace"===e[n-2][1].type)&&(n-=r+1===n?2:4);n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},k(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]]));return e}},42:nt,45:[c,nt],60:{name:"htmlFlow",tokenize:function(t,n,r){const s=this;let i,o,a,c,u;return function(e){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(e),l};function l(e){return 33===e?(t.consume(e),f):47===e?(t.consume(e),p):63===e?(t.consume(e),i=3,s.interrupt?n:_):P(e)?(t.consume(e),a=String.fromCharCode(e),o=!0,m):r(e)}function f(e){return 45===e?(t.consume(e),i=2,h):91===e?(t.consume(e),i=5,a="CDATA[",c=0,d):P(e)?(t.consume(e),i=4,s.interrupt?n:_):r(e)}function h(e){return 45===e?(t.consume(e),s.interrupt?n:_):r(e)}function d(e){return e===a.charCodeAt(c++)?(t.consume(e),c===a.length?s.interrupt?n:T:d):r(e)}function p(e){return P(e)?(t.consume(e),a=String.fromCharCode(e),m):r(e)}function m(e){return null===e||47===e||62===e||R(e)?47!==e&&o&&Ye.includes(a.toLowerCase())?(i=1,(s.interrupt?n:T)(e)):Je.includes(a.toLowerCase())?(i=6,47===e?(t.consume(e),g):(s.interrupt?n:T)(e)):(i=7,(s.interrupt&&!s.parser.lazy[s.now().line]?r:o?v:y)(e)):45===e||z(e)?(t.consume(e),a+=String.fromCharCode(e),m):r(e)}function g(e){return 62===e?(t.consume(e),s.interrupt?n:T):r(e)}function y(e){return U(e)?(t.consume(e),y):A(e)}function v(e){return 47===e?(t.consume(e),A):58===e||95===e||P(e)?(t.consume(e),b):U(e)?(t.consume(e),v):A(e)}function b(e){return 45===e||46===e||58===e||95===e||z(e)?(t.consume(e),b):k(e)}function k(e){return 61===e?(t.consume(e),x):U(e)?(t.consume(e),k):v(e)}function x(e){return null===e||60===e||61===e||62===e||96===e?r(e):34===e||39===e?(t.consume(e),u=e,w):U(e)?(t.consume(e),x):(u=null,S(e))}function w(e){return null===e||q(e)?r(e):e===u?(t.consume(e),E):(t.consume(e),w)}function S(e){return null===e||34===e||39===e||60===e||61===e||62===e||96===e||R(e)?k(e):(t.consume(e),S)}function E(e){return(47===e||62===e||U(e)?v:r)(e)}function A(e){return 62===e?(t.consume(e),C):r(e)}function C(e){return U(e)?(t.consume(e),C):(null===e||q(e)?T:r)(e)}function T(e){return 45===e&&2===i?(t.consume(e),L):60===e&&1===i?(t.consume(e),N):62===e&&4===i?(t.consume(e),M):63===e&&3===i?(t.consume(e),_):93===e&&5===i?(t.consume(e),B):!q(e)||6!==i&&7!==i?null===e||q(e)?I(e):(t.consume(e),T):t.check(Ge,M,I)(e)}function I(e){return t.exit("htmlFlowData"),F(e)}function F(e){return(null===e?j:q(e)?t.attempt({tokenize:O,partial:!0},F,j):(t.enter("htmlFlowData"),T))(e)}function O(t,n,r){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i};function i(e){return(s.parser.lazy[s.now().line]?r:n)(e)}}function L(e){return 45===e?(t.consume(e),_):T(e)}function N(e){return 47===e?(t.consume(e),a="",D):T(e)}function D(e){return 62===e&&Ye.includes(a.toLowerCase())?(t.consume(e),M):P(e)&&a.length<8?(t.consume(e),a+=String.fromCharCode(e),D):T(e)}function B(e){return 93===e?(t.consume(e),_):T(e)}function _(e){return 62===e?(t.consume(e),M):45===e&&2===i?(t.consume(e),_):T(e)}function M(e){return null===e||q(e)?(t.exit("htmlFlowData"),j(e)):(t.consume(e),M)}function j(e){return t.exit("htmlFlow"),n(e)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););1<t&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},61:c,95:nt,96:Re,126:Re},pt=Object.freeze({__proto__:null,document:dt,contentInitial:{[91]:{name:"definition",tokenize:function(t,n,r){const i=this;let s;return function(e){return t.enter("definition"),He.call(i,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(e)};function o(e){return s=w(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),L(t,Ke(t,t.attempt(Qe,B(t,a,"whitespace"),B(t,a,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(e)}function a(e){return(null===e||q(e)?(t.exit("definition"),i.parser.defined.includes(s)||i.parser.defined.push(s),n):r)(e)}}}},flowInitial:{"-2":s,"-1":s,[32]:s},flow:c,string:{[38]:i,92:t},text:{"-5":o,"-4":o,"-3":o,[33]:{name:"labelStartImage",tokenize:function(t,n,r){const i=this;return function(e){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(e),t.exit("labelImageMarker"),s};function s(e){return 91===e?(t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelImage"),o):r(e)}function o(e){return(94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?r:n)(e)}},resolveAll:Xe.resolveAll},38:i,42:_e,60:[{name:"autolink",tokenize:function(t,n,r){let i=1;return function(e){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s};function s(e){return P(e)?(t.consume(e),o):(Ae(e)?u:r)(e)}function o(e){return(43===e||45===e||46===e||z(e)?a:u)(e)}function a(e){return 58===e?(t.consume(e),c):(43===e||45===e||46===e||z(e))&&i++<32?(t.consume(e),a):u(e)}function c(e){return 62===e?(t.exit("autolinkProtocol"),d(e)):null===e||32===e||60===e||Ce(e)?r(e):(t.consume(e),c)}function u(e){return 64===e?(t.consume(e),i=0,l):Ae(e)?(t.consume(e),u):r(e)}function l(e){return(z(e)?f:r)(e)}function f(e){return 46===e?(t.consume(e),i=0,l):(62===e?(t.exit("autolinkProtocol").type="autolinkEmail",d):h)(e)}function h(e){return(45===e||z(e))&&i++<63?(t.consume(e),45===e?h:f):r(e)}function d(e){return t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.exit("autolink"),n}}},{name:"htmlText",tokenize:function(t,n,r){const i=this;let s,o,a,c;return function(e){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(e),u};function u(e){return 33===e?(t.consume(e),l):47===e?(t.consume(e),S):63===e?(t.consume(e),x):P(e)?(t.consume(e),C):r(e)}function l(e){return 45===e?(t.consume(e),f):91===e?(t.consume(e),o="CDATA[",a=0,g):P(e)?(t.consume(e),k):r(e)}function f(e){return 45===e?(t.consume(e),h):r(e)}function h(e){return null===e||62===e?r(e):45===e?(t.consume(e),d):p(e)}function d(e){return(null===e||62===e?r:p)(e)}function p(e){return null===e?r(e):45===e?(t.consume(e),m):q(e)?(c=p,_(e)):(t.consume(e),p)}function m(e){return 45===e?(t.consume(e),j):p(e)}function g(e){return e===o.charCodeAt(a++)?(t.consume(e),a===o.length?y:g):r(e)}function y(e){return null===e?r(e):93===e?(t.consume(e),v):q(e)?(c=y,_(e)):(t.consume(e),y)}function v(e){return 93===e?(t.consume(e),b):y(e)}function b(e){return 62===e?j(e):93===e?(t.consume(e),b):y(e)}function k(e){return null===e||62===e?j(e):q(e)?(c=k,_(e)):(t.consume(e),k)}function x(e){return null===e?r(e):63===e?(t.consume(e),w):q(e)?(c=x,_(e)):(t.consume(e),x)}function w(e){return(62===e?j:x)(e)}function S(e){return P(e)?(t.consume(e),E):r(e)}function E(e){return 45===e||z(e)?(t.consume(e),E):A(e)}function A(e){return q(e)?(c=A,_(e)):U(e)?(t.consume(e),A):j(e)}function C(e){return 45===e||z(e)?(t.consume(e),C):(47===e||62===e||R(e)?T:r)(e)}function T(e){return 47===e?(t.consume(e),j):58===e||95===e||P(e)?(t.consume(e),I):q(e)?(c=T,_(e)):U(e)?(t.consume(e),T):j(e)}function I(e){return 45===e||46===e||58===e||95===e||z(e)?(t.consume(e),I):F(e)}function F(e){return 61===e?(t.consume(e),O):q(e)?(c=F,_(e)):U(e)?(t.consume(e),F):T(e)}function O(e){return null===e||60===e||61===e||62===e||96===e?r(e):34===e||39===e?(t.consume(e),s=e,L):q(e)?(c=O,_(e)):U(e)?(t.consume(e),O):(t.consume(e),s=void 0,D)}function L(e){return e===s?(t.consume(e),N):null===e?r(e):q(e)?(c=L,_(e)):(t.consume(e),L)}function N(e){return(62===e||47===e||R(e)?T:r)(e)}function D(e){return null===e||34===e||39===e||60===e||61===e||96===e?r(e):62===e||R(e)?T(e):(t.consume(e),D)}function _(e){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),B(t,M,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function M(e){return t.enter("htmlTextData"),c(e)}function j(e){return 62===e?(t.consume(e),t.exit("htmlTextData"),t.exit("htmlText"),n):r(e)}}}],91:{name:"labelStartLink",tokenize:function(t,n,r){const i=this;return function(e){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelLink"),s};function s(e){return(94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?r:n)(e)}},resolveAll:Xe.resolveAll},92:[{name:"hardBreakEscape",tokenize:function(t,n,r){return function(e){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(e),i};function i(e){return(q(e)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),n):r)(e)}}},t],93:Xe,95:_e,96:{name:"codeText",tokenize:function(t,n,r){let i=0,s,o;return function(e){return t.enter("codeText"),t.enter("codeTextSequence"),a(e)};function a(e){return 96===e?(t.consume(e),i++,a):(t.exit("codeTextSequence"),c(e))}function c(e){return null===e?r(e):96===e?(o=t.enter("codeTextSequence"),s=0,l(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),c):q(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(e))}function u(e){return null===e||32===e||96===e||q(e)?(t.exit("codeTextData"),c(e)):(t.consume(e),u)}function l(e){return 96===e?(t.consume(e),s++,l):(s===i?(t.exit("codeTextSequence"),t.exit("codeText"),n):(o.type="codeTextData",u))(e)}},resolve:function(e){let t=e.length-4,n=3,r,i;if(!("lineEnding"!==e[n][1].type&&"space"!==e[n][1].type||"lineEnding"!==e[t][1].type&&"space"!==e[t][1].type))for(r=n;++r<t;)if("codeTextData"===e[r][1].type){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}r=n-1,t++;for(;++r<=t;)void 0===i?r!==t&&"lineEnding"!==e[r][1].type&&(i=r):r!==t&&"lineEnding"!==e[r][1].type||(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}}},insideSpan:{null:[_e,ot]},attentionMarkers:{null:[42,95]},disable:{null:[]}});function mt(e={}){const n={defined:[],lazy:{},constructs:xe([pt].concat(e.extensions||[])),content:t(Fe),document:t(Oe),flow:t(st),string:t(at),text:t(ct)};return n;function t(t){return function(e){return ht(n,t,e)}}}const gt=/[\0\t\n\r]/g;function yt(){let u=1,l="",f=!0,h;return function(e,t,n){var r=[];let i,s,o,a,c;e=l+e.toString(t),o=0,l="",f&&(65279===e.charCodeAt(0)&&o++,f=void 0);for(;o<e.length;){if(gt.lastIndex=o,i=gt.exec(e),a=i&&void 0!==i.index?i.index:e.length,c=e.charCodeAt(a),!i){l=e.slice(o);break}if(10===c&&o===a&&h)r.push(-3),h=void 0;else switch(h&&(r.push(-5),h=void 0),o<a&&(r.push(e.slice(o,a)),u+=a-o),c){case 0:r.push(65533),u++;break;case 9:for(s=4*Math.ceil(u/4),r.push(-2);u++<s;)r.push(-1);break;case 10:r.push(-4),u=1;break;default:h=!0,u=1}o=a+1}n&&(h&&r.push(-5),l&&r.push(l),r.push(null));return r}}function vt(e,t){e=Number.parseInt(e,t);return e<9||11===e||13<e&&e<32||126<e&&e<160||55295<e&&e<57344||64975<e&&e<65008||65535==(65535&e)||65534==(65535&e)||1114111<e?"":String.fromCharCode(e)}const bt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kt(e){return e.replace(bt,xt)}function xt(e,t,n){if(t)return t;const r=n.charCodeAt(0);if(35!==r)return ze(n)||e;{const r=n.charCodeAt(1);t=120===r||88===r;return vt(n.slice(t?2:1),t?16:10)}}const wt={}.hasOwnProperty,St=function(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e={}){const u=function e(t,n){let r=-1;for(;++r<n.length;){const i=n[r];(Array.isArray(i)?e:Et)(t,i)}return t}({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:t(k),autolinkProtocol:r,autolinkEmail:r,atxHeading:t(y),blockQuote:t(function(){return{type:"blockquote",children:[]}}),characterEscape:r,characterReference:r,codeFenced:t(c),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:t(c,d),codeText:t(function(){return{type:"inlineCode",value:""}},d),codeTextData:r,data:r,codeFlowValue:r,definition:t(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:t(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:t(v),hardBreakTrailing:t(v),htmlFlow:t(b,d),htmlFlowData:r,htmlText:t(b,d),htmlTextData:r,image:t(function(){return{type:"image",title:null,url:"",alt:null}}),label:d,link:t(k),listItem:t(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){i.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),l("expectingFirstListItemValue"))},listOrdered:t(x,function(){l("expectingFirstListItemValue",!0)}),listUnordered:t(x),paragraph:t(function(){return{type:"paragraph",children:[]}}),reference:function(){l("referenceType","collapsed")},referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:t(y),strong:t(function(){return{type:"strong",children:[]}}),thematicBreak:t(function(){return{type:"thematicBreak"}})},exit:{atxHeading:n(),atxHeadingSequence:function(e){var t=this.stack[this.stack.length-1];t.depth||(e=this.sliceSerialize(e).length,t.depth=e)},autolink:n(),autolinkEmail:function(e){s.call(this,e);var t=this.stack[this.stack.length-1];t.url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){s.call(this,e);var t=this.stack[this.stack.length-1];t.url=this.sliceSerialize(e)},blockQuote:n(),characterEscapeValue:s,characterReferenceMarkerHexadecimal:a,characterReferenceMarkerNumeric:a,characterReferenceValue:function(e){var t=this.sliceSerialize(e),n=i.characterReferenceType;let r;n?(r=vt(t,"characterReferenceMarkerNumeric"===n?10:16),l("characterReferenceType")):r=ze(t);n=this.stack.pop();n.value+=r,n.position.end=h(e.end)},codeFenced:n(function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}),codeFencedFence:function(){i.flowCodeInside||(this.buffer(),l("flowCodeInside",!0))},codeFencedFenceInfo:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.lang=e},codeFencedFenceMeta:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.meta=e},codeFlowValue:s,codeIndented:n(function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:n(function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),codeTextData:s,data:s,definition:n(),definitionDestinationString:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.url=e},definitionLabelString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=w(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.title=e},emphasis:n(),hardBreakEscape:n(o),hardBreakTrailing:n(o),htmlFlow:n(function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),htmlFlowData:s,htmlText:n(function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),htmlTextData:s,image:n(function(){var e=this.stack[this.stack.length-1];i.inReference?(e.type+="Reference",e.referenceType=i.referenceType||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label);l("referenceType")}),label:function(){var e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];l("inReference",!0),"link"===n.type?n.children=e.children:n.alt=t},labelText:function(e){var t=this.stack[this.stack.length-2],e=this.sliceSerialize(e);t.label=kt(e),t.identifier=w(e).toLowerCase()},lineEnding:function(e){var t=this.stack[this.stack.length-1];i.atHardBreak?(t.children[t.children.length-1].position.end=h(e.end),l("atHardBreak")):!i.setextHeadingSlurpLineEnding&&u.canContainEols.includes(t.type)&&(r.call(this,e),s.call(this,e))},link:n(function(){var e=this.stack[this.stack.length-1];i.inReference?(e.type+="Reference",e.referenceType=i.referenceType||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label);l("referenceType")}),listItem:n(),listOrdered:n(),listUnordered:n(),paragraph:n(),referenceString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=w(this.sliceSerialize(e)).toLowerCase(),l("referenceType","full")},resourceDestinationString:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.url=e},resourceTitleString:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.title=e},resource:function(){l("inReference")},setextHeading:n(function(){l("setextHeadingSlurpLineEnding")}),setextHeadingLineSequence:function(e){var t=this.stack[this.stack.length-1];t.depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2},setextHeadingText:function(){l("setextHeadingSlurpLineEnding",!0)},strong:n(),thematicBreak:n()}},e.mdastExtensions||[]),i={};return function(e){let t={type:"root",children:[]};var n=[t],r=[],i=[],s={stack:n,tokenStack:r,config:u,enter:p,exit:m,buffer:d,resume:g,setData:l,getData:f};let o=-1;for(;++o<e.length;){var a;"listOrdered"!==e[o][1].type&&"listUnordered"!==e[o][1].type||("enter"===e[o][0]?i.push(o):(a=i.pop(),o=function(t,e,n){let r=e-1,i=-1,s=!1,o,a,c,u;for(;++r<=n;){var l=t[r];if("listUnordered"===l[1].type||"listOrdered"===l[1].type||"blockQuote"===l[1].type?("enter"===l[0]?i++:i--,u=void 0):"lineEndingBlank"===l[1].type?"enter"===l[0]&&(!o||u||i||(c=c||r),u=void 0):"linePrefix"!==l[1].type&&"listItemValue"!==l[1].type&&"listItemMarker"!==l[1].type&&"listItemPrefix"!==l[1].type&&"listItemPrefixWhitespace"!==l[1].type&&(u=void 0),!i&&"enter"===l[0]&&"listItemPrefix"===l[1].type||-1===i&&"exit"===l[0]&&("listUnordered"===l[1].type||"listOrdered"===l[1].type)){if(o){let e=r;for(a=void 0;e--;){var f=t[e];if("lineEnding"===f[1].type||"lineEndingBlank"===f[1].type)"exit"!==f[0]&&(a&&(t[a][1].type="lineEndingBlank",s=!0),f[1].type="lineEnding",a=e);else if("linePrefix"!==f[1].type&&"blockQuotePrefix"!==f[1].type&&"blockQuotePrefixWhitespace"!==f[1].type&&"blockQuoteMarker"!==f[1].type&&"listItemIndent"!==f[1].type)break}c&&(!a||c<a)&&(o._spread=!0),o.end=Object.assign({},a?t[a][1].start:l[1].end),t.splice(a||r,0,["exit",o,l[2]]),r++,n++}"listItemPrefix"===l[1].type&&(o={type:"listItem",_spread:!1,start:Object.assign({},l[1].start)},t.splice(r,0,["enter",o,l[2]]),r++,n++,c=void 0,u=!0)}}return t[e][1]._spread=s,n}(e,a,o)))}o=-1;for(;++o<e.length;){var c=u[e[o][0]];wt.call(c,e[o][1].type)&&c[e[o][1].type].call(Object.assign({sliceSerialize:e[o][2].sliceSerialize},s),e[o][1])}0<r.length&&((n=r[r.length-1])[1]||At).call(s,void 0,n[0]);t.position={start:h(0<e.length?e[0][1].start:{line:1,column:1,offset:0}),end:h(0<e.length?e[e.length-2][1].end:{line:1,column:1,offset:0})},o=-1;for(;++o<u.transforms.length;)t=u.transforms[o](t)||t;return t};function l(e,t){i[e]=t}function f(e){return i[e]}function h(e){return{line:e.line,column:e.column,offset:e.offset}}function t(t,n){return function(e){p.call(this,t(e),e),n&&n.call(this,e)}}function d(){this.stack.push({type:"fragment",children:[]})}function p(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:h(t.start)},e}function n(t){return function(e){t&&t.call(this,e);m.call(this,e)}}function m(e,t){var n=this.stack.pop(),r=this.tokenStack.pop();if(r)return r[0].type!==e.type&&(t||r[1]||At).call(this,e,r[0]),n.position.end=h(e.end),n;throw new Error("Cannot close `"+e.type+"` ("+J({start:e.start,end:e.end})+"): its not open")}function g(){var e=this.stack.pop(),{includeImageAlt:t=!0}=(t=void 0)||{};return ve(e,t)}function r(e){var t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:h(e.start)},t.children.push(n)),this.stack.push(n)}function s(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=h(e.end)}function o(){l("atHardBreak",!0)}function a(e){l("characterReferenceType",e.type)}function c(){return{type:"code",lang:null,meta:null,value:""}}function y(){return{type:"heading",depth:void 0,children:[]}}function v(){return{type:"break"}}function b(){return{type:"html",value:""}}function k(){return{type:"link",title:null,url:"",children:[]}}function x(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}(n)(function(e){for(;!Ue(e););return e}(mt(n).document().write(yt()(e,t,!0))))};function Et(e,t){let n;for(n in t){var r,i,s;wt.call(t,n)&&(r="canContainEols"===n||"transforms"===n,i=(wt.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),s=t[n])&&(r?e[n]=[...i,...s]:Object.assign(i,s))}}function At(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+J({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+J({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+J({start:t.start,end:t.end})+") is still open")}function Ct(n){Object.assign(this,{Parser:e=>{var t=this.data("settings");return St(e,Object.assign({},t,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Tt(t,n,r,i,s,o,a,c,u,l,f,h,d,p,m){let g,y;return function(e){return t.enter(i),t.enter(s),t.consume(e),t.exit(s),v};function v(e){return 35===e?(g=a,b(e)):46===e?(g=c,b(e)):58===e||95===e||P(e)?(t.enter(o),t.enter(u),t.consume(e),w):(m&&U(e)?B(t,v,"whitespace"):!m&&R(e)?L(t,v):O)(e)}function b(e){return t.enter(o),t.enter(g),t.enter(g+"Marker"),t.consume(e),t.exit(g+"Marker"),k}function k(e){return null===e||34===e||35===e||39===e||46===e||60===e||61===e||62===e||96===e||125===e||R(e)?r(e):(t.enter(g+"Value"),t.consume(e),x)}function x(e){return null===e||34===e||39===e||60===e||61===e||62===e||96===e?r(e):35===e||46===e||125===e||R(e)?(t.exit(g+"Value"),t.exit(g),t.exit(o),v(e)):(t.consume(e),x)}function w(e){return 45===e||46===e||58===e||95===e||z(e)?(t.consume(e),w):(t.exit(u),(m&&U(e)?B(t,S,"whitespace"):!m&&R(e)?L(t,S):S)(e))}function S(e){return 61===e?(t.enter(l),t.consume(e),t.exit(l),E):(t.exit(o),v(e))}function E(e){return null===e||60===e||61===e||62===e||96===e||125===e||m&&q(e)?r(e):34===e||39===e?(t.enter(f),t.enter(d),t.consume(e),t.exit(d),y=e,C):m&&U(e)?B(t,E,"whitespace")(e):!m&&R(e)?L(t,E)(e):(t.enter(h),t.enter(p),t.consume(e),y=void 0,A)}function A(e){return null===e||34===e||39===e||60===e||61===e||62===e||96===e?r(e):125===e||R(e)?(t.exit(p),t.exit(h),t.exit(o),v(e)):(t.consume(e),A)}function C(e){return e===y?(t.enter(d),t.consume(e),t.exit(d),t.exit(f),t.exit(o),F):(t.enter(h),T(e))}function T(e){return e===y?(t.exit(h),C(e)):null===e?r(e):q(e)?(m?r:L(t,T))(e):(t.enter(p),t.consume(e),I)}function I(e){return e===y||null===e||q(e)?(t.exit(p),T(e)):(t.consume(e),I)}function F(e){return(125===e||R(e)?v:O)(e)}function O(e){return 125===e?(t.enter(s),t.consume(e),t.exit(s),t.exit(i),n):r(e)}}function It(n,t,r,i,s,o,a){let c=0,u=0,l;return function(e){return n.enter(i),n.enter(s),n.consume(e),n.exit(s),f};function f(e){return 93===e?(n.enter(s),n.consume(e),n.exit(s),n.exit(i),t):(n.enter(o),h(e))}function h(e){var t;return(93!==e||u?(t=n.enter("chunkText",{contentType:"text",previous:l}),l&&(l.next=t),l=t,d):m)(e)}function d(e){return null===e||999<c||91===e&&32<++u?r(e):93!==e||u--?q(e)?a?r(e):(n.consume(e),n.exit("chunkText"),h):(n.consume(e),92===e?p:d):(n.exit("chunkText"),m(e))}function p(e){return 91===e||92===e||93===e?(n.consume(e),c++,d):d(e)}function m(e){return n.exit(o),n.enter(s),n.consume(e),n.exit(s),n.exit(i),t}}function Ft(t,n,r,i){const s=this;return function(e){if(P(e))return t.enter(i),t.consume(e),o;return r(e)};function o(e){return 45===e||95===e||z(e)?(t.consume(e),o):(t.exit(i),(45===s.previous||95===s.previous?r:n)(e))}}const Ot={tokenize:function(n,t,r){const i=this,e=i.events[i.events.length-1],s=e&&"linePrefix"===e[1].type?e[2].sliceSerialize(e[1],!0).length:0;let a=0,o;return function(e){return n.enter("directiveContainer"),n.enter("directiveContainerFence"),n.enter("directiveContainerSequence"),c(e)};function c(e){return 58===e?(n.consume(e),a++,c):(a<3?r:(n.exit("directiveContainerSequence"),Ft.call(i,n,u,r,"directiveContainerName")))(e)}function u(e){return(91===e?n.attempt(Lt,l,l):l)(e)}function l(e){return(123===e?n.attempt(Nt,f,f):f)(e)}function f(e){return B(n,h,"whitespace")(e)}function h(e){return n.exit("directiveContainerFence"),(null===e?d:q(e)?i.interrupt?t:n.attempt(Dt,p,d):r)(e)}function d(e){return n.exit("directiveContainer"),t(e)}function p(e){return(null===e?(n.exit("directiveContainer"),t):(n.enter("directiveContainerContent"),m))(e)}function m(e){return(null===e?k:n.attempt({tokenize:x,partial:!0},k,s?B(n,g,"linePrefix",s+1):g))(e)}function g(e){var t;return(null===e?k:(t=n.enter("chunkDocument",{contentType:"document",previous:o}),o&&(o.next=t),o=t,y))(e)}function y(e){var t;return null===e?(t=n.exit("chunkDocument"),i.parser.lazy[t.start.line]=!1,k(e)):q(e)?n.check(Dt,v,b)(e):(n.consume(e),y)}function v(e){n.consume(e);e=n.exit("chunkDocument");return i.parser.lazy[e.start.line]=!1,m}function b(e){var t=n.exit("chunkDocument");return i.parser.lazy[t.start.line]=!1,k(e)}function k(e){return n.exit("directiveContainerContent"),n.exit("directiveContainer"),t(e)}function x(t,n,r){let i=0;return B(t,function(e){return t.enter("directiveContainerFence"),t.enter("directiveContainerSequence"),s(e)},"linePrefix",4);function s(e){return 58===e?(t.consume(e),i++,s):(i<a?r:(t.exit("directiveContainerSequence"),B(t,o,"whitespace")))(e)}function o(e){return(null===e||q(e)?(t.exit("directiveContainerFence"),n):r)(e)}}},concrete:!0},Lt={tokenize:function(e,t,n){return It(e,t,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)},partial:!0},Nt={tokenize:function(e,t,n){return Tt(e,t,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)},partial:!0},Dt={tokenize:function(t,n,r){const i=this;return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s};function s(e){return(i.parser.lazy[i.now().line]?r:n)(e)}},partial:!0};const _t={tokenize:function(t,n,r){const i=this;return function(e){return t.enter("directiveLeaf"),t.enter("directiveLeafSequence"),t.consume(e),s};function s(e){return 58===e?(t.consume(e),t.exit("directiveLeafSequence"),Ft.call(i,t,o,r,"directiveLeafName")):r(e)}function o(e){return(91===e?t.attempt(Mt,a,a):a)(e)}function a(e){return(123===e?t.attempt(jt,c,c):c)(e)}function c(e){return B(t,u,"whitespace")(e)}function u(e){return(null===e||q(e)?(t.exit("directiveLeaf"),n):r)(e)}}},Mt={tokenize:function(e,t,n){return It(e,t,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)},partial:!0},jt={tokenize:function(e,t,n){return Tt(e,t,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)},partial:!0};const Bt={tokenize:function(t,n,r){const i=this;return function(e){return t.enter("directiveText"),t.enter("directiveTextMarker"),t.consume(e),t.exit("directiveTextMarker"),Ft.call(i,t,s,r,"directiveTextName")};function s(e){return(58===e?r:91===e?t.attempt(Pt,o,o):o)(e)}function o(e){return(123===e?t.attempt(zt,a,a):a)(e)}function a(e){return t.exit("directiveText"),n(e)}},previous:function(e){return 58!==e||"characterEscape"===this.events[this.events.length-1][1].type}},Pt={tokenize:function(e,t,n){return It(e,t,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")},partial:!0},zt={tokenize:function(e,t,n){return Tt(e,t,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")},partial:!0};const Rt=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],qt={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function Ut(e){e="string"==typeof e?e.charCodeAt(0):e;return 48<=e&&e<=57}function $t(e){e="string"==typeof e?e.charCodeAt(0):e;return 97<=e&&e<=102||65<=e&&e<=70||48<=e&&e<=57}function Vt(e){return 97<=(t="string"==typeof(t=e)?t.charCodeAt(0):t)&&t<=122||65<=t&&t<=90||Ut(e);var t}const Kt=String.fromCharCode,Ht=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Wt(u,l={}){var e="string"==typeof l.additional?l.additional.charCodeAt(0):l.additional;const f=[];let h=0,t=-1,d="",n,r,i=((n=l.position?"start"in l.position||"indent"in l.position?(r=l.position.indent,l.position.start):l.position:n)?n.line:0)||1,p=(n?n.column:0)||1,m=x(),s;for(h--;++h<=u.length;)if(10===s&&(p=(r?r[t]:0)||1),38===(s=u.charCodeAt(h))){var g=u.charCodeAt(h+1);if(9===g||10===g||12===g||32===g||38===g||60===g||Number.isNaN(g)||e&&g===e)d+=Kt(s),p++;else{var y=h+1;let e=y,t=y,n,r=(35===g?(t=++e,88===(g=u.charCodeAt(t))||120===g?(n="hexadecimal",t=++e):n="decimal"):n="named",""),i="",s="";var v,b="named"===n?Vt:"decimal"===n?Ut:$t;for(t--;++t<=u.length;){var k=u.charCodeAt(t);if(!b(k))break;s+=Kt(k),"named"===n&&Rt.includes(s)&&(r=s,i=ze(s))}let o=59===u.charCodeAt(t),a=(o&&(t++,g="named"===n&&ze(s))&&(r=s,i=g),1+t-y),c="";if(o||!1!==l.nonTerminated)if(s)if("named"===n)o&&!i?w(5,1):(r!==s&&(t=e+r.length,a=1+t-e,o=!1),o||(g=r?1:3,l.attribute?61===(v=u.charCodeAt(t))?(w(g,a),i=""):Vt(v)?i="":w(g,a):w(g,a))),c=i;else{o||w(2,a);let t=Number.parseInt(s,"hexadecimal"===n?16:10);if(55296<=(v=t)&&v<=57343||1114111<v)w(7,a),c=Kt(65533);else if(t in qt)w(6,a),c=qt[t];else{let e="";(1<=(g=t)&&g<=8||11===g||13<=g&&g<=31||127<=g&&g<=159||64976<=g&&g<=65007||65535==(65535&g)||65534==(65535&g))&&w(6,a),65535<t&&(t-=65536,e+=Kt(t>>>10|55296),t=56320|1023&t),c=e+Kt(t)}}else"named"!==n&&w(4,a);c?(S(),m=x(),h=t-1,p+=t-y+1,f.push(c),(g=x()).offset++,l.reference&&l.reference.call(l.referenceContext,c,{start:m,end:g},u.slice(y-1,t)),m=g):(s=u.slice(y-1,t),d+=s,p+=s.length,h=t-1)}}else 10===s&&(i++,t++,p=0),Number.isNaN(s)?S():(d+=Kt(s),p++);return f.join("");function x(){return{line:i,column:p,offset:h+((n?n.offset:0)||0)}}function w(e,t){var n;l.warning&&((n=x()).column+=t,n.offset+=t,l.warning.call(l.warningContext,Ht[e],n,e))}function S(){d&&(f.push(d),l.text&&l.text.call(l.textContext,d,{start:m,end:x()}),d="")}}function Qt(e,r){return e=e.replace(r.subset?function(e){var t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}(r.subset):/["&'<>`]/g,t),r.subset||r.escapeOnly?e:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(e,t,n){return r.format(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536,n.charCodeAt(t+2),r)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,t);function t(e,t,n){return r.format(e.charCodeAt(0),n.charCodeAt(t+1),r)}}function Jt(e){return"&#x"+e.toString(16).toUpperCase()+";"}const Yt=function(t){if(null==t)return Xt;if("string"==typeof t)return n=t,Gt(function(e){return e&&e.type===n});var n,r;if("object"==typeof t)if(Array.isArray(t)){var i=t;const s=[];let e=-1;for(;++e<i.length;)s[e]=Yt(i[e]);return Gt(function(...e){let t=-1;for(;++t<s.length;)if(s[t].call(this,...e))return!0;return!1})}else return r=t,Gt(function(e){let t;for(t in r)if(e[t]!==r[t])return!1;return!0});if("function"==typeof t)return Gt(t);throw new Error("Expected function, string, or object as test")};function Gt(t){return function(...e){return Boolean(t.call(this,...e))}}function Xt(){return!0}const Zt=function(e,c,u,l){"function"==typeof c&&"function"!=typeof u&&(l=u,u=c,c=null);const f=Yt(c),h=l?-1:1;!function i(s,o,a){const e="object"==typeof s&&null!==s?s:{};let t;"string"==typeof e.type&&(t="string"==typeof e.tagName?e.tagName:"string"==typeof e.name?e.name:void 0,Object.defineProperty(n,"name",{value:"node ("+e.type+(t?"<"+t+">":"")+")"}));return n;function n(){let e=[],t,n,r;if((c&&!f(s,o,a[a.length-1]||null)||!1!==(e=en(u(s,a)))[0])&&s.children&&"skip"!==e[0])for(n=(l?s.children.length:-1)+h,r=a.concat(s);-1<n&&n<s.children.length;){if(!1===(t=i(s.children[n],n,r)())[0])return t;n="number"==typeof t[1]?t[1]:n+h}return e}}(e,null,[])()};function en(e){return Array.isArray(e)?e:"number"==typeof e?[!0,e]:[e]}function f(e){var e=e||{},t=e.now||{};let r=e.lineShift||0,i=t.line||1,s=t.column||1;return{move:function(e=""){var t=e.split(/\r?\n|\r/g),n=t[t.length-1];return i+=t.length-1,s=1===t.length?s+n.length:1+n.length+r,e},current:function(){return{now:{line:i,column:s},lineShift:r}},shift:function(e){r+=e}}}function tn(i,s,e){var t=s.indexStack,n=i.children||[],r=f(e),o=[];let a=-1;for(t.push(-1);++a<n.length;){var c=n[a];t[t.length-1]=a,o.push(r.move(s.handle(c,i,s,{before:"\n",after:"\n",...r.current()}))),"list"!==c.type&&(s.bulletLastUsed=void 0),a<n.length-1&&o.push(r.move(function(e,t){let n=s.join.length;for(;n--;){var r=s.join[n](e,t,i,s);if(!0===r||1===r)break;if("number"==typeof r)return"\n".repeat(1+r);if(!1===r)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}(c,n[a+1])))}return t.pop(),o.join("")}function nn(n,r,e){var i=r.indexStack,s=n.children||[],o=[];let a=-1,c=e.before,u=(i.push(-1),f(e));for(;++a<s.length;){var l=s[a];let t;if((i[i.length-1]=a)+1<s.length){let e=r.handle.handlers[s[a+1].type];e&&e.peek&&(e=e.peek),t=e?e(s[a+1],n,r,{before:"",after:"",...u.current()}).charAt(0):""}else t=e.after;0<o.length&&("\r"===c||"\n"===c)&&"html"===l.type&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),c=" ",(u=f(e)).move(o.join(""))),o.push(u.move(r.handle(l,n,r,{...u.current(),before:c,after:t}))),c=o[o.length-1].slice(-1)}return i.pop(),o.join("")}const rn={}.hasOwnProperty,sn=/^[^\t\n\r "#'.<=>`}]+$/,on=(yn.peek=function(){return":"},{canContainEols:["textDirective"],enter:{directiveContainer:function(e){cn.call(this,"containerDirective",e)},directiveContainerAttributes:ln,directiveContainerLabel:function(e){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},e)},directiveLeaf:function(e){cn.call(this,"leafDirective",e)},directiveLeafAttributes:ln,directiveText:function(e){cn.call(this,"textDirective",e)},directiveTextAttributes:ln},exit:{directiveContainer:gn,directiveContainerAttributeClassValue:hn,directiveContainerAttributeIdValue:fn,directiveContainerAttributeName:pn,directiveContainerAttributeValue:dn,directiveContainerAttributes:mn,directiveContainerLabel:function(e){this.exit(e)},directiveContainerName:un,directiveLeaf:gn,directiveLeafAttributeClassValue:hn,directiveLeafAttributeIdValue:fn,directiveLeafAttributeName:pn,directiveLeafAttributeValue:dn,directiveLeafAttributes:mn,directiveLeafName:un,directiveText:gn,directiveTextAttributeClassValue:hn,directiveTextAttributeIdValue:fn,directiveTextAttributeName:pn,directiveTextAttributeValue:dn,directiveTextAttributes:mn,directiveTextName:un}}),an={unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:"\n",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}],handlers:{containerDirective:yn,leafDirective:yn,textDirective:yn}};function cn(e,t){this.enter({type:e,name:"",attributes:{},children:[]},t)}function un(e){this.stack[this.stack.length-1].name=this.sliceSerialize(e)}function ln(){this.setData("directiveAttributes",[]),this.buffer()}function fn(e){this.getData("directiveAttributes").push(["id",Wt(this.sliceSerialize(e),{attribute:!0})])}function hn(e){this.getData("directiveAttributes").push(["class",Wt(this.sliceSerialize(e),{attribute:!0})])}function dn(e){var t=this.getData("directiveAttributes");t[t.length-1][1]=Wt(this.sliceSerialize(e),{attribute:!0})}function pn(e){this.getData("directiveAttributes").push([this.sliceSerialize(e),""])}function mn(){var e=this.getData("directiveAttributes"),t={};let n=-1;for(;++n<e.length;){var r=e[n];"class"===r[0]&&t.class?t.class+=" "+r[1]:t[r[0]]=r[1]}this.setData("directiveAttributes"),this.resume(),this.stack[this.stack.length-1].attributes=t}function gn(e){this.exit(e)}function yn(t,e,n,r){var r=f(r),i=function(e){let i=0;"containerDirective"===e.type?(Zt(e,"containerDirective",function(e,t){let n=t.length,r=0;for(;n--;)"containerDirective"===t[n].type&&r++;r>i&&(i=r)}),i+=3):i="leafDirective"===e.type?2:1;return":".repeat(i)}(t);const s=n.enter(t.type);let o=r.move(i+(t.name||"")),a=t;if("containerDirective"===t.type&&(c=(t.children||[])[0],a=vn(c)?c:void 0),a&&a.children&&0<a.children.length){const s=n.enter("label");var c=n.enter(t.type+"Label");o=(o=(o+=r.move("["))+r.move(nn(a,n,{...r.current(),before:o,after:"]"})))+r.move("]"),c(),s()}if(o+=r.move(function(e,t){const n=function(e){if('"'!==(e=e.options.quote||'"')&&"'"!==e)throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}(t),r="textDirective"===e.type?[n]:[n,"\n","\r"],i=e.attributes||{},s=[];let o,a,c,u;for(u in i)if(rn.call(i,u)&&void 0!==i[u]&&null!==i[u]){var l=String(i[u]);if("id"===u)c=sn.test(l)?"#"+l:p("id",l);else if("class"===u){var f=l.split(/[\t\n\r ]+/g),h=[],d=[];let e=-1;for(;++e<f.length;)(sn.test(f[e])?d:h).push(f[e]);o=0<h.length?p("class",h.join(" ")):"",a=0<d.length?"."+d.join("."):""}else s.push(p(u,l))}o&&s.unshift(o);a&&s.unshift(a);c&&s.unshift(c);return 0<s.length?"{"+s.join(" ")+"}":"";function p(e,t){return e+(t?"="+n+(e=t,t={subset:r},Qt(e,Object.assign({format:Jt},t)))+n:"")}}(t,n)),"containerDirective"===t.type){c=(t.children||[])[0];let e=t;(e=vn(c)?Object.assign({},t,{children:t.children.slice(1)}):e)&&e.children&&0<e.children.length&&(o=(o+=r.move("\n"))+r.move(tn(e,n,r.current()))),o+=r.move("\n"+i)}return s(),o}function vn(e){return Boolean(e&&"paragraph"===e.type&&e.data&&e.data.directiveLabel)}function bn(){const n=this.data();function e(e,t){(n[e]||(n[e]=[])).push(t)}e("micromarkExtensions",{text:{[58]:Bt},flow:{[58]:[Ot,_t]}}),e("fromMarkdownExtensions",on),e("toMarkdownExtensions",an)}const kn={tokenize:function(t,n,r){return function(e){return t.consume(e),i};function i(e){return 87===e||119===e?(t.consume(e),s):r(e)}function s(e){return 87===e||119===e?(t.consume(e),o):r(e)}function o(e){return 46===e?(t.consume(e),a):r(e)}function a(e){return(null===e||q(e)?r:n)(e)}},partial:!0},xn={tokenize:function(t,n,r){let i,s;return o;function o(e){return 38===e?t.check(En,c,a)(e):46===e||95===e?t.check(Sn,c,a)(e):null===e||Ce(e)||Te(e)||45!==e&&Ie(e)?c(e):(t.consume(e),o)}function a(e){return 46===e?(s=i,i=void 0,t.consume(e)):(95===e&&(i=!0),t.consume(e)),o}function c(e){return(s||i?r:n)(e)}},partial:!0},wn={tokenize:function(t,n){let r=0;return i;function i(e){return 38===e?t.check(En,n,s)(e):(40===e&&r++,41===e?t.check(Sn,o,s)(e):In(e)?n(e):Tn(e)?t.check(Sn,n,s)(e):(t.consume(e),i))}function s(e){return t.consume(e),i}function o(e){return(--r<0?n:s)(e)}},partial:!0},Sn={tokenize:function(t,n,r){return function(e){return t.consume(e),i};function i(e){return Tn(e)?(t.consume(e),i):(In(e)?n:r)(e)}},partial:!0},En={tokenize:function(t,n,r){return function(e){return t.consume(e),i};function i(e){return P(e)?(t.consume(e),i):59===e?(t.consume(e),s):r(e)}function s(e){return(In(e)?n:r)(e)}},partial:!0};var Re={tokenize:function(t,n,r){const i=this;return function(e){if(87!==e&&119!==e||!On(i.previous)||Dn(i.events))return r(e);return t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(kn,t.attempt(xn,t.attempt(wn,s),r),r)(e)};function s(e){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),n(e)}},previous:On},dt={tokenize:function(t,n,r){const i=this;return function(e){if(72!==e&&104!==e||!Ln(i.previous)||Dn(i.events))return r(e);return t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(e),s};function s(e){return 84===e||116===e?(t.consume(e),o):r(e)}function o(e){return 84===e||116===e?(t.consume(e),a):r(e)}function a(e){return 80===e||112===e?(t.consume(e),c):r(e)}function c(e){return 83===e||115===e?(t.consume(e),u):u(e)}function u(e){return 58===e?(t.consume(e),l):r(e)}function l(e){return 47===e?(t.consume(e),f):r(e)}function f(e){return 47===e?(t.consume(e),h):r(e)}function h(e){return(null===e||Ce(e)||Te(e)||Ie(e)?r:t.attempt(xn,t.attempt(wn,d),r))(e)}function d(e){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),n(e)}},previous:Ln},u={tokenize:function(t,n,r){const i=this;let s,o;return function(e){return(Fn(e)&&Nn(i.previous)&&!Dn(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a):r)(e)};function a(e){return Fn(e)?(t.consume(e),a):64===e?(t.consume(e),c):r(e)}function c(e){return 46===e?t.check(Sn,h,u)(e):45===e||95===e?t.check(Sn,r,l)(e):z(e)?(!o&&we(e)&&(o=!0),t.consume(e),c):h(e)}function u(e){return t.consume(e),s=!0,o=void 0,c}function l(e){return t.consume(e),f}function f(e){return(46===e?t.check(Sn,r,u):c)(e)}function h(e){return(s&&!o?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),n):r)(e)}},previous:Nn},l={};const An={text:l};let Cn=48;for(;Cn<123;)l[Cn]=u,58===++Cn?Cn=65:91===Cn&&(Cn=97);function Tn(e){return 33===e||34===e||39===e||41===e||42===e||44===e||46===e||58===e||59===e||60===e||63===e||95===e||126===e}function In(e){return null===e||60===e||R(e)}function Fn(e){return 43===e||45===e||46===e||95===e||z(e)}function On(e){return null===e||40===e||42===e||95===e||126===e||R(e)}function Ln(e){return null===e||!P(e)}function Nn(e){return 47!==e&&Ln(e)}function Dn(e){let t=e.length,n=!1;for(;t--;){var r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return 0<e.length&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}l[43]=u,l[45]=u,l[46]=u,l[95]=u,l[72]=[u,dt],l[104]=[u,dt],l[87]=[u,Re],l[119]=[u,Re];const _n={tokenize:function(e,n,r){const i=this;return B(e,function(e){var t=i.events[i.events.length-1];return(t&&"gfmFootnoteDefinitionIndent"===t[1].type&&4===t[2].sliceSerialize(t[1],!0).length?n:r)(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function Mn(n,r,i){const s=this;let e=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a;for(;e--;){var t=s.events[e][1];if("labelImage"===t.type){a=t;break}if("gfmFootnoteCall"===t.type||"labelLink"===t.type||"label"===t.type||"image"===t.type||"link"===t.type)break}return function(e){if(!a||!a._balanced)return i(e);var t=w(s.sliceSerialize({start:a.end,end:s.now()}));return(94===t.charCodeAt(0)&&o.includes(t.slice(1))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(e),n.exit("gfmFootnoteCallLabelMarker"),r):i)(e)}}function jn(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";var r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)},s=(i.end.column++,i.end.offset++,i.end._bufferIndex++,{type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)}),o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},i=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...i),e}function Bn(n,r,i){const s=this,o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a=0,c;return function(e){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(e),n.exit("gfmFootnoteCallLabelMarker"),t};function t(e){return 94!==e?i(e):(n.enter("gfmFootnoteCallMarker"),n.consume(e),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",u)}function u(e){var t;return null===e||91===e||999<a++?i(e):93===e?c&&(n.exit("chunkString"),t=n.exit("gfmFootnoteCallString"),o.includes(w(s.sliceSerialize(t))))?(t=e,n.enter("gfmFootnoteCallLabelMarker"),n.consume(t),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),r):i(e):(n.consume(e),R(e)||(c=!0),92===e?l:u)}function l(e){return 91===e||92===e||93===e?(n.consume(e),a++,u):u(e)}}function Pn(n,t,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,a=0,c;return function(e){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(e),n.exit("gfmFootnoteDefinitionLabelMarker"),u};function u(e){return 94===e?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(e),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),l):r(e)}function l(e){var t;return null===e||91===e||999<a?r(e):93===e?c?(t=n.exit("gfmFootnoteDefinitionLabelString"),o=w(i.sliceSerialize(t)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(e),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),d):r(e):q(e)?(n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),a++,l):(n.enter("chunkString").contentType="string",f(e))}function f(e){return null===e||q(e)||91===e||93===e||999<a?(n.exit("chunkString"),l(e)):(R(e)||(c=!0),a++,n.consume(e),92===e?h:f)}function h(e){return 91===e||92===e||93===e?(n.consume(e),a++,f):f(e)}function d(e){return 58===e?(n.enter("definitionMarker"),n.consume(e),n.exit("definitionMarker"),B(n,p,"gfmFootnoteDefinitionWhitespace")):r(e)}function p(e){return s.includes(o)||s.push(o),t(e)}}function zn(e,t,n){return e.check(je,t,e.attempt(_n,t,n))}function Rn(e){e.exit("gfmFootnoteDefinition")}function qn(e={}){let l=e.singleTilde;e={tokenize:function(i,s,o){const a=this.previous,t=this.events;let c=0;return function(e){return(126!==a||"characterEscape"===t[t.length-1][1].type?(i.enter("strikethroughSequenceTemporary"),u):o)(e)};function u(e){var t,n,r=Ne(a);return 126===e?1<c?o(e):(i.consume(e),c++,u):(c<2&&!l?o:(t=i.exit("strikethroughSequenceTemporary"),n=Ne(e),t._open=!n||2===n&&Boolean(r),t._close=!r||2===r&&Boolean(n),s))(e)}},resolveAll:function(t,n){let r=-1;for(;++r<t.length;)if("enter"===t[r][0]&&"strikethroughSequenceTemporary"===t[r][1].type&&t[r][1]._close){let e=r;for(;e--;)if("exit"===t[e][0]&&"strikethroughSequenceTemporary"===t[e][1].type&&t[e][1]._open&&t[r][1].end.offset-t[r][1].start.offset==t[e][1].end.offset-t[e][1].start.offset){t[r][1].type="strikethroughSequence",t[e][1].type="strikethroughSequence";var i={type:"strikethrough",start:Object.assign({},t[e][1].start),end:Object.assign({},t[r][1].end)},s={type:"strikethroughText",start:Object.assign({},t[e][1].end),end:Object.assign({},t[r][1].start)},o=[["enter",i,n],["enter",t[e][1],n],["exit",t[e][1],n],["enter",s,n]];k(o,o.length,0,De(n.parser.constructs.insideSpan.null,t.slice(e+1,r),n)),k(o,o.length,0,[["exit",s,n],["enter",t[r][1],n],["exit",t[r][1],n],["exit",i,n]]),k(t,e-1,r-e+3,o),r=e+o.length-2;break}}r=-1;for(;++r<t.length;)"strikethroughSequenceTemporary"===t[r][1].type&&(t[r][1].type="data");return t}};return null!==l&&void 0!==l||(l=!0),{text:{[126]:e},insideSpan:{null:[e]},attentionMarkers:{null:[126]}}}const Un={flow:{null:{tokenize:function(r,t,i){const s=this,n=[];let o=0,a,c;return function(e){return r.enter("table")._align=n,r.enter("tableHead"),r.enter("tableRow"),(124!==e?(o++,r.enter("temporaryTableCellContent"),h):u)(e)};function u(e){return r.enter("tableCellDivider"),r.consume(e),r.exit("tableCellDivider"),a=!0,l}function l(e){if(null===e||q(e)){var t=e;if(null===t)return i(t);r.exit("tableRow"),r.exit("tableHead");const n=s.interrupt;return s.interrupt=!0,r.attempt({tokenize:F,partial:!0},function(e){return s.interrupt=n,r.enter("tableDelimiterRow"),p(e)},function(e){return s.interrupt=n,i(e)})(t)}return U(e)?(r.enter("whitespace"),r.consume(e),f):(a&&(a=void 0,o++),(124===e?u:(r.enter("temporaryTableCellContent"),h))(e))}function f(e){return U(e)?(r.consume(e),f):(r.exit("whitespace"),l(e))}function h(e){return null===e||124===e||R(e)?(r.exit("temporaryTableCellContent"),l(e)):(r.consume(e),92===e?d:h)}function d(e){return 92===e||124===e?(r.consume(e),h):h(e)}function p(e){return null===e||q(e)?b(e):U(e)?(r.enter("whitespace"),r.consume(e),m):45===e?(r.enter("tableDelimiterFiller"),r.consume(e),c=!0,n.push("none"),g):58===e?(r.enter("tableDelimiterAlignment"),r.consume(e),r.exit("tableDelimiterAlignment"),n.push("left"),y):124===e?(r.enter("tableCellDivider"),r.consume(e),r.exit("tableCellDivider"),p):i(e)}function m(e){return U(e)?(r.consume(e),m):(r.exit("whitespace"),p(e))}function g(e){return 45===e?(r.consume(e),g):(r.exit("tableDelimiterFiller"),58===e?(r.enter("tableDelimiterAlignment"),r.consume(e),r.exit("tableDelimiterAlignment"),n[n.length-1]="left"===n[n.length-1]?"center":"right",v):p(e))}function y(e){return 45===e?(r.enter("tableDelimiterFiller"),r.consume(e),c=!0,g):i(e)}function v(e){return null===e||q(e)?b(e):U(e)?(r.enter("whitespace"),r.consume(e),m):124===e?(r.enter("tableCellDivider"),r.consume(e),r.exit("tableCellDivider"),p):i(e)}function b(e){return r.exit("tableDelimiterRow"),(c&&o===n.length?null===e?k:r.check($n,k,r.attempt({tokenize:F,partial:!0},B(r,x,"linePrefix",4),k)):i)(e)}function k(e){return r.exit("table"),t(e)}function x(e){return r.enter("tableBody"),w(e)}function w(e){return r.enter("tableRow"),(124===e?S:(r.enter("temporaryTableCellContent"),C))(e)}function S(e){return r.enter("tableCellDivider"),r.consume(e),r.exit("tableCellDivider"),E}function E(e){var t;return null===e||q(e)?(t=e,r.exit("tableRow"),(null!==t?r.check($n,I,r.attempt({tokenize:F,partial:!0},B(r,w,"linePrefix",4),I)):I)(t)):U(e)?(r.enter("whitespace"),r.consume(e),A):(124===e?S:(r.enter("temporaryTableCellContent"),C))(e)}function A(e){return U(e)?(r.consume(e),A):(r.exit("whitespace"),E(e))}function C(e){return null===e||124===e||R(e)?(r.exit("temporaryTableCellContent"),E(e)):(r.consume(e),92===e?T:C)}function T(e){return 92===e||124===e?(r.consume(e),C):C(e)}function I(e){return r.exit("tableBody"),k(e)}function F(n,r,i){return function(e){return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),B(n,t,"linePrefix")};function t(e){var t;return(s.parser.lazy[s.now().line]||null===e||q(e)||(t=s.events[s.events.length-1],!s.parser.constructs.disable.null.includes("codeIndented")&&t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length)?i:(s._gfmTableDynamicInterruptHack=!0,n.check(s.parser.constructs.flow,function(e){return s._gfmTableDynamicInterruptHack=!1,i(e)},function(e){return s._gfmTableDynamicInterruptHack=!1,r(e)})))(e)}}},resolve:function(e,t){let n=-1,r,i,s,o,a,c,u;for(;++n<e.length;){var l,f,h=e[n][1];s&&("temporaryTableCellContent"===h.type&&(o=o||n,a=n),"tableCellDivider"!==h.type&&"tableRow"!==h.type||!a||(l={type:"tableContent",start:e[o][1].start,end:e[a][1].end},f={type:"chunkText",start:l.start,end:l.end,contentType:"text"},e.splice(o,a-o+1,["enter",l,t],["enter",f,t],["exit",f,t],["exit",l,t]),n-=a-o-3,o=void 0,a=void 0)),"exit"===e[n][0]&&void 0!==c&&c+(u?0:1)<n&&("tableCellDivider"===h.type||"tableRow"===h.type&&(c+3<n||"whitespace"!==e[c][1].type))&&(f={type:i?"tableDelimiter":r?"tableHeader":"tableData",start:e[c][1].start,end:e[n][1].end},e.splice(n+("tableCellDivider"===h.type?1:0),0,["exit",f,t]),e.splice(c,0,["enter",f,t]),n+=2,c=n+1,u=!0),"tableRow"===h.type&&(s="enter"===e[n][0])&&(c=n+1,u=!1),"tableDelimiterRow"===h.type&&(i="enter"===e[n][0])&&(c=n+1,u=!1),"tableHead"===h.type&&(r="enter"===e[n][0])}return e}}}},$n={tokenize:function(t,n,r){let i=0;return function(e){return t.enter("check"),t.consume(e),s};function s(e){return-1===e||32===e?(t.consume(e),4===++i?n:s):(null===e||R(e)?n:r)(e)}},partial:!0};const Vn={text:{[91]:{tokenize:function(t,n,r){const i=this;return function(e){return null===i.previous&&i._gfmTasklistFirstContentOfListItem?(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(e),t.exit("taskListCheckMarker"),s):r(e)};function s(e){return R(e)?(t.enter("taskListCheckValueUnchecked"),t.consume(e),t.exit("taskListCheckValueUnchecked"),o):88===e||120===e?(t.enter("taskListCheckValueChecked"),t.consume(e),t.exit("taskListCheckValueChecked"),o):r(e)}function o(e){return 93===e?(t.enter("taskListCheckMarker"),t.consume(e),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:Kn},n,r)):r(e)}}}}};function Kn(e,n,r){const i=this;return B(e,function(e){var t=i.events[i.events.length-1];return((t&&"whitespace"===t[1].type||q(e))&&null!==e?n:r)(e)},"whitespace")}function Hn(e){return xe([An,{document:{[91]:{tokenize:Pn,continuation:{tokenize:zn},exit:Rn}},text:{[91]:{tokenize:Bn},93:{add:"after",tokenize:Mn,resolveTo:jn}}},qn(e),Un,Vn])}function Wn(e,t){var n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}function Qn(e,t,n,r){let i,s;i=(i="string"==typeof t||t instanceof RegExp?(s=[[t,n]],r):(s=t,n))||{};const d=Yt(i.ignore||[]),p=function(t){var n=[];if("object"!=typeof t)throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let e=-1;for(;++e<t.length;)n.push([Yn(t[e][0]),Gn(t[e][1])])}else{let e;for(e in t)Jn.call(t,e)&&n.push([Yn(e),Gn(t[e])])}return n}(s);let m=-1;for(;++m<p.length;)Zt(e,"text",o);function o(e,o){let t=-1,n;for(;++t<o.length;){var r=o[t];if(d(r,n?n.children.indexOf(r):void 0,n))return;n=r}if(n){var a=e;var c=o;var e=c[c.length-1],u=p[m][0],l=p[m][1];let t=0;var f=e.children.indexOf(a);let n=!1,r=[],i,s=(u.lastIndex=0,u.exec(a.value));for(;s;){i=s.index;var h={index:s.index,input:s.input,stack:[...c,a]};let e=l(...s,h);if(!1!==(e="string"==typeof e?0<e.length?{type:"text",value:e}:void 0:e)&&(t!==i&&r.push({type:"text",value:a.value.slice(t,i)}),Array.isArray(e)?r.push(...e):e&&r.push(e),t=i+s[0].length,n=!0),!u.global)break;s=u.exec(a.value)}n?(t<a.value.length&&r.push({type:"text",value:a.value.slice(t)}),e.children.splice(f,1,...r)):r=[a];return f+r.length}}}const Jn={}.hasOwnProperty;function Yn(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function Gn(e){return"function"==typeof e?e:()=>e}s="phrasing",c=["autolink","link","image","label"];const Xn={transforms:[function(e){Qn(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,tr],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,nr]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:er,literalAutolinkHttp:er,literalAutolinkWww:er},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e);var t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}}},Zn={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:s,notInConstruct:c},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:s,notInConstruct:c},{character:":",before:"[ps]",after:"\\/",inConstruct:s,notInConstruct:c}]};function er(e){this.config.enter.autolinkProtocol.call(this,e)}function tr(e,t,n,r,i){let s="";return!!rr(i)&&(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!!function(e){e=e.split(".");if(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))return;return 1}(n))&&!!(i=function(e){var t=/[!"&'),.:;<>?\]}]+$/.exec(e);let n,r,i,s;if(t)for(e=e.slice(0,t.index),s=t[0],n=s.indexOf(")"),r=Wn(e,"("),i=Wn(e,")");-1!==n&&r>i;)e+=s.slice(0,n+1),s=s.slice(n+1),n=s.indexOf(")"),i++;return[e,s]}(n+r))[0]&&(n={type:"link",title:null,url:s+t+i[0],children:[{type:"text",value:t+i[0]}]},i[1]?[n,{type:"text",value:i[1]}]:n)}function nr(e,t,n,r){return!(!rr(r,!0)||/[_-\d]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function rr(e,t){var n=e.input.charCodeAt(e.index-1);return(0===e.index||Te(n)||Ie(n))&&(!t||47!==n)}function ir(e){return e.label||!e.identifier?e.label||"":kt(e.identifier)}const sr=/\r?\n|\r/g;function or(e,t){const n=[];let r=0,i=0;for(var s;s=sr.exec(e);)o(e.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(e.slice(r)),n.join("");function o(e){n.push(t(e,i,!e))}}function ar(e){var t;return e._compiled||(t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":""),e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")),e._compiled}function cr(e,t,n){if(!t)return n;"string"==typeof t&&(t=[t]);let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ur(e,t,n){var r,i,s=(n.before||"")+(t||"")+(n.after||""),o=[],a=[],c={};let u=-1;for(;++u<e.unsafe.length;){var l=e.unsafe[u];if(cr(r=e.stack,(i=l).inConstruct,!0)&&!cr(r,i.notInConstruct,!1))for(var f=ar(l);p=f.exec(s);){var h="before"in l||Boolean(l.atBreak),d="after"in l,p=p.index+(h?p[1].length:0);o.includes(p)?(c[p].before&&!h&&(c[p].before=!1),c[p].after&&!d&&(c[p].after=!1)):(o.push(p),c[p]={before:h,after:d})}}o.sort(lr);let m=n.before?n.before.length:0;var g=s.length-(n.after?n.after.length:0);for(u=-1;++u<o.length;){var y=o[u];y<m||g<=y||y+1<g&&o[u+1]===y+1&&c[y].after&&!c[y+1].before&&!c[y+1].after||o[u-1]===y-1&&c[y].before&&!c[y-1].before&&!c[y-1].after||(m!==y&&a.push(fr(s.slice(m,y),"\\")),m=y,!/[!-/:-@[-`{-~]/.test(s.charAt(y))||n.encode&&n.encode.includes(s.charAt(y))?(a.push("&#x"+s.charCodeAt(y).toString(16).toUpperCase()+";"),m++):a.push("\\"))}return a.push(fr(s.slice(m,g),n.after)),a.join("")}function lr(e,t){return e-t}function fr(e,t){var n,r=/\\(?=[!-/:-@[-`{-~])/g,i=[],s=[],o=e+t;let a=-1,c=0;for(;n=r.exec(o);)i.push(n.index);for(;++a<i.length;)c!==i[a]&&s.push(e.slice(c,i[a])),s.push("\\"),c=i[a];return s.push(e.slice(c)),s.join("")}function hr(){return{enter:{gfmFootnoteDefinition:function(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)},gfmFootnoteDefinitionLabelString:function(){this.buffer()},gfmFootnoteCall:function(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)},gfmFootnoteCallString:function(){this.buffer()}},exit:{gfmFootnoteDefinition:function(e){this.exit(e)},gfmFootnoteDefinitionLabelString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=w(this.sliceSerialize(e)).toLowerCase()},gfmFootnoteCall:function(e){this.exit(e)},gfmFootnoteCallString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=w(this.sliceSerialize(e)).toLowerCase()}}}}function dr(){return e.peek=function(){return"["},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:function(e,t,n,r){r=f(r);var i=r.move("[^");var s=n.enter("footnoteDefinition"),o=n.enter("label");return i+=r.move(ur(n,ir(e),{...r.current(),before:i,after:"]"})),o(),i+=r.move("]:"+(e.children&&0<e.children.length?" ":"")),r.shift(4),i+=r.move(or(tn(e,n,r.current()),function(e,t,n){if(t)return(n?"":"    ")+e;return e})),s(),i},footnoteReference:e}};function e(e,t,n,r){var r=f(r),i=r.move("[^"),s=n.enter("footnoteReference"),o=n.enter("reference");return i+=r.move(ur(n,ir(e),{...r.current(),before:i,after:"]"})),o(),s(),i+=r.move("]")}}const pr={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}};const mr={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]}],handlers:{delete:gr}};function gr(e,t,n,r){var r=f(r),i=n.enter("emphasis"),s=r.move("~~"),s=(s+=nn(e,n,{...r.current(),before:s,after:"~"}))+r.move("~~");return i(),s}function yr(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){var o,a=n.unsafe[s],c=ar(a);if(a.atBreak)for(;o=c.exec(r);){let e=o.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(o.index+1)}}return i+r+i}function vr(t,n={}){var e=(n.align||[]).concat(),r=n.stringLength||br,i=[],s=[],o=[],a=[];let c=0,u=-1;for(;++u<t.length;){const p=[],m=[];let e=-1;for(t[u].length>c&&(c=t[u].length);++e<t[u].length;){var l,f=null==(f=t[u][e])?"":String(f);!1!==n.alignDelimiters&&(l=r(f),m[e]=l,void 0===a[e]||l>a[e])&&(a[e]=l),p.push(f)}s[u]=p,o[u]=m}let h=-1;if("object"==typeof e&&"length"in e)for(;++h<c;)i[h]=kr(e[h]);else for(var d=kr(e);++h<c;)i[h]=d;h=-1;const p=[],m=[];for(;++h<c;){var g=i[h];let e="",t="";99===g?(e=":",t=":"):108===g?e=":":114===g&&(t=":");var g=!1===n.alignDelimiters?1:Math.max(1,a[h]-e.length-t.length),y=e+"-".repeat(g)+t;!1!==n.alignDelimiters&&((g=e.length+g+t.length)>a[h]&&(a[h]=g),m[h]=g),p[h]=y}s.splice(1,0,p),o.splice(1,0,m),u=-1;for(var v=[];++u<s.length;){const p=s[u],m=o[u];h=-1;for(var b=[];++h<c;){var k,x,w=p[h]||"";let e="",t="";!1!==n.alignDelimiters&&(k=a[h]-(m[h]||0),114===(x=i[h])?e=" ".repeat(k):t=99===x?k%2?(e=" ".repeat(k/2+.5)," ".repeat(k/2-.5)):e=" ".repeat(k/2):" ".repeat(k)),!1===n.delimiterStart||h||b.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===w||!1===n.delimiterStart&&!h||b.push(" "),!1!==n.alignDelimiters&&b.push(e),b.push(w),!1!==n.alignDelimiters&&b.push(t),!1!==n.padding&&b.push(" "),!1===n.delimiterEnd&&h===c-1||b.push("|")}v.push(!1===n.delimiterEnd?b.join("").replace(/ +$/,""):b.join(""))}return v.join("\n")}function br(e){return e.length}function kr(e){e="string"==typeof e?e.codePointAt(0):0;return 67===e||99===e?99:76===e||108===e?108:82===e||114===e?114:0}gr.peek=function(){return"~"},yr.peek=function(){return"`"};const xr={enter:{table:function(e){var t=e._align;this.enter({type:"table",align:t.map(e=>"none"===e?null:e),children:[]},e),this.setData("inTable",!0)},tableData:Sr,tableHeader:Sr,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,Er));var n=this.stack[this.stack.length-1];n.value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:wr,tableHeader:wr,tableRow:wr}};function wr(e){this.exit(e)}function Sr(e){this.enter({type:"tableCell",children:[]},e)}function Er(e,t){return"|"===t?t:e}function Ar(e){e=e||{};const n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,n,r){return s(function(e,t,n){var r=e.children;let i=-1;var s=[],e=t.enter("table");for(;++i<r.length;)s[i]=c(r[i],t,n);return e(),s}(e,n,r),e.align)},tableRow:function(e,t,n,r){e=c(e,n,r),n=s([e]);return n.slice(0,n.indexOf("\n"))},tableCell:a,inlineCode:function(e,t,n){let r=yr(e,0,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r}}};function a(e,t,n,r){var i=n.enter("tableCell"),s=n.enter("phrasing"),e=nn(e,n,{...r,before:o,after:o});return s(),i(),e}function s(e,t){return vr(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function c(e,t,n){var r=e.children;let i=-1;for(var s=[],e=t.enter("tableRow");++i<r.length;)s[i]=a(r[i],0,t,n);return e(),s}}function Cr(e,t,n,r){var i=function(e){if(1===(e=e.options.listItemIndent||"tab")||"1"===e)return"one";if("tab"!==e&&"one"!==e&&"mixed"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}(n);let s=n.bulletCurrent||function(e){if("*"!==(e=e.options.bullet||"*")&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}(n),o=(s=t&&"list"===t.type&&t.ordered?("number"==typeof t.start&&-1<t.start?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+s:s).length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(o=4*Math.ceil(o/4));i=f(r),i.move(s+" ".repeat(o-s.length)),i.shift(o),t=n.enter("listItem"),r=or(tn(e,n,i.current()),function(e,t,n){if(t)return(n?"":" ".repeat(o))+e;return(n?s:s+" ".repeat(o-s.length))+e});return t(),r}const Tr={exit:{taskListCheckValueChecked:Fr,taskListCheckValueUnchecked:Fr,paragraph:function(e){var t=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],r=t.children,i=n.children[0];let s=-1,o;if(t&&"listItem"===t.type&&"boolean"==typeof t.checked&&i&&"text"===i.type){for(;++s<r.length;){var a=r[s];if("paragraph"===a.type){o=a;break}}o===n&&(i.value=i.value.slice(1),0===i.value.length?n.children.shift():n.position&&i.position&&"number"==typeof i.position.start.offset&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}this.exit(e)}}},Ir={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n,r){const i=e.children[0],s="boolean"==typeof e.checked&&i&&"paragraph"===i.type,o="["+(e.checked?"x":" ")+"] ",a=f(r);s&&a.move(o);let c=Cr(e,t,n,{...r,...a.current()});s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+o}));return c}}};function Fr(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}function Or(e={}){const n=this.data();function t(e,t){(n[e]||(n[e]=[])).push(t)}t("micromarkExtensions",Hn(e)),t("fromMarkdownExtensions",[Xn,hr(),pr,xr,Tr]),t("toMarkdownExtensions",(e=e,{extensions:[Zn,dr(),mr,Ar(e),Ir]}))}const Lr={tokenize:function(t,n,r){const i=this,e=i.events[i.events.length-1],s=e&&"linePrefix"===e[1].type?e[2].sliceSerialize(e[1],!0).length:0;let a=0;return function(e){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),o(e)};function o(e){return 36===e?(t.consume(e),a++,o):(t.exit("mathFlowFenceSequence"),(a<2?r:B(t,c,"whitespace"))(e))}function c(e){return(null===e||q(e)?l:(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),u))(e)}function u(e){return null===e||q(e)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),l(e)):36===e?r(e):(t.consume(e),u)}function l(e){return t.exit("mathFlowFence"),(i.interrupt?n:f)(e)}function f(e){return(null===e?d:q(e)?t.attempt(Nr,t.attempt({tokenize:p,partial:!0},d,s?B(t,f,"linePrefix",s+1):f),d):(t.enter("mathFlowValue"),h))(e)}function h(e){return null===e||q(e)?(t.exit("mathFlowValue"),f(e)):(t.consume(e),h)}function d(e){return t.exit("mathFlow"),n(e)}function p(t,n,r){let i=0;return B(t,function(e){return t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),s(e)},"linePrefix",4);function s(e){return 36===e?(t.consume(e),i++,s):(i<a?r:(t.exit("mathFlowFenceSequence"),B(t,o,"whitespace")))(e)}function o(e){return(null===e||q(e)?(t.exit("mathFlowFence"),n):r)(e)}}},concrete:!0},Nr={tokenize:function(t,n,r){const i=this;return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s};function s(e){return(i.parser.lazy[i.now().line]?r:n)(e)}},partial:!0};function Dr(e={}){let f=e.singleDollarTextMath;return null!==f&&void 0!==f||(f=!0),{tokenize:function(t,n,r){let i=0,s,o;return function(e){return t.enter("mathText"),t.enter("mathTextSequence"),a(e)};function a(e){return 36===e?(t.consume(e),i++,a):(i<2&&!f?r:(t.exit("mathTextSequence"),c))(e)}function c(e){return null===e?r(e):36===e?(o=t.enter("mathTextSequence"),s=0,l(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),c):q(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),c):(t.enter("mathTextData"),u(e))}function u(e){return null===e||32===e||36===e||q(e)?(t.exit("mathTextData"),c(e)):(t.consume(e),u)}function l(e){return 36===e?(t.consume(e),s++,l):(s===i?(t.exit("mathTextSequence"),t.exit("mathText"),n):(o.type="mathTextData",u))(e)}},resolve:_r,previous:Mr}}function _r(e){let t=e.length-4,n=3,r,i;if(!("lineEnding"!==e[n][1].type&&"space"!==e[n][1].type||"lineEnding"!==e[t][1].type&&"space"!==e[t][1].type))for(r=n;++r<t;)if("mathTextData"===e[r][1].type){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}for(r=n-1,t++;++r<=t;)void 0===i?r!==t&&"lineEnding"!==e[r][1].type&&(i=r):r!==t&&"lineEnding"!==e[r][1].type||(e[i][1].type="mathTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Mr(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}function jr(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},e),this.buffer()}},exit:{mathFlow:function(e){var t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),e=this.exit(e);e.value=t,e.data.hChildren[0].value=t,this.setData("mathFlowInside")},mathFlowFence:function(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))},mathFlowFenceMeta:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.meta=e},mathFlowValue:e,mathText:function(e){var t=this.resume(),e=this.exit(e);e.value=t,e.data.hChildren[0].value=t},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}function Br(e={}){let i=e.singleDollarTextMath;return null!==i&&void 0!==i||(i=!0),t.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:["mathFlowMeta"]},{character:"\r",inConstruct:["mathFlowMeta"]},i?{character:"$",inConstruct:["mathFlowMeta","phrasing"]}:{character:"$",after:"\\$",inConstruct:["mathFlowMeta","phrasing"]},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(e,t,n,r){var i=e.value||"",s="$".repeat(Math.max(function(e,t){var n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if("string"!=typeof t||1!==t.length)throw new Error("Expected character");for(;-1!==r;)r===i?++s>o&&(o=s):s=1,i=r+1,r=n.indexOf(t,i);return o}(i,"$")+1,2)),o=n.enter("mathFlow"),r=f(r);let a=r.move(s);{var c;e.meta&&(c=n.enter("mathFlowMeta"),a+=r.move(ur(n,e.meta,{...r.current(),before:a,after:" ",encode:["$"]})),c())}a+=r.move("\n"),i&&(a+=r.move(i+"\n"));return a+=r.move(s),o(),a},inlineMath:t}};function t(e){var t=e.value||"";let n=1,r="";for(i||n++;new RegExp("(^|[^$])"+"\\$".repeat(n)+"([^$]|$)").test(t);)n++;/[^ \r\n]/.test(t)&&(/[ \r\n$]/.test(t.charAt(0))||/[ \r\n$]/.test(t.charAt(t.length-1)))&&(r=" ");e="$".repeat(n);return e+r+t+r+e}}function Pr(e={}){const n=this.data();var t;function r(e,t){(n[e]||(n[e]=[])).push(t)}r("micromarkExtensions",(t=e,{flow:{[36]:Lr},text:{[36]:Dr(t)}})),r("fromMarkdownExtensions",jr()),r("toMarkdownExtensions",Br(e))}const zr=function(e,t,n,r){"function"==typeof t&&"function"!=typeof n&&(r=n,n=t,t=null),Zt(e,t,function(e,t){t=t[t.length-1];return n(e,t?t.children.indexOf(e):null,t)},r)},Rr=/[\t ]*(?:\r?\n|\r)/g;function qr(){return e=>{zr(e,"text",(e,t,n)=>{var r=[];let i=0,s=(Rr.lastIndex=0,Rr.exec(e.value));for(;s;){var o=s.index;i!==o&&r.push({type:"text",value:e.value.slice(i,o)}),r.push({type:"break"}),i=o+s[0].length,s=Rr.exec(e.value)}if(0<r.length&&n&&"number"==typeof t)return i<e.value.length&&r.push({type:"text",value:e.value.slice(i)}),n.children.splice(t,1,...r),t+r.length})}}o={exports:{}};function Ur(t){for(var n,e,r,i=1,s=[].slice.call(arguments),o=0,a=t.length,c="",u=!1,l=!1,f=function(){return s[i++]};o<a;++o)if(n=t[o],u)switch(u=!1,"."==n?(l=!1,n=t[++o]):"0"==n&&"."==t[o+1]?(l=!0,n=t[o+=2]):l=!0,r=function(){for(var e="";/\d/.test(t[o]);)e+=t[o++],n=t[o];return 0<e.length?parseInt(e):null}(),n){case"b":c+=parseInt(f(),10).toString(2);break;case"c":"string"==typeof(e=f())||e instanceof String?c+=e:c+=String.fromCharCode(parseInt(e,10));break;case"d":c+=parseInt(f(),10);break;case"f":e=String(parseFloat(f()).toFixed(r||6)),c+=l?e:e.replace(/^0/,"");break;case"j":c+=JSON.stringify(f());break;case"o":c+="0"+parseInt(f(),10).toString(8);break;case"s":c+=f();break;case"x":c+="0x"+parseInt(f(),10).toString(16);break;case"X":c+="0x"+parseInt(f(),10).toString(16).toUpperCase();break;default:c+=n}else"%"===n?u=!0:c+=n;return c}(i=o.exports=Ur).format=Ur,i.vsprintf=function(e,t){return Ur.apply(null,[e].concat(t))},"undefined"!=typeof console&&"function"==typeof console.log&&(i.printf=function(){});var $r=o.exports;const Vr=Object.assign(Kr(Error),{eval:Kr(EvalError),range:Kr(RangeError),reference:Kr(ReferenceError),syntax:Kr(SyntaxError),type:Kr(TypeError),uri:Kr(URIError)});function Kr(n){return e.displayName=n.displayName||n.name,e;function e(e,...t){e=e&&$r(e,...t);return new n(e)}}const Hr={}.hasOwnProperty,Wr={yaml:"-",toml:"+"};function Qr(e="yaml"){var t=[];let n=-1;for(Array.isArray(e)||(e=[e]);++n<e.length;)t[n]=function(e){let t=e;if("string"==typeof t){if(!Hr.call(Wr,t))throw Vr("Missing matter definition for `%s`",t);t={type:t,marker:Wr[t]}}else if("object"!=typeof t)throw Vr("Expected matter to be an object, not `%j`",t);if(!Hr.call(t,"type"))throw Vr("Missing `type` in matter `%j`",t);if(Hr.call(t,"fence")||Hr.call(t,"marker"))return t;throw Vr("Missing `marker` or `fence` in matter `%j`",t)}(e[n]);return t}function Jr(l){const f=l.type,h=l.anywhere,d=f+"Value",c=f+"Fence",u=c+"Sequence",p={tokenize:function(t,n,r){let i=0;return function(e){return(e!==m.charCodeAt(i)?r:(t.enter(c),t.enter(u),s))(e)};function s(e){return i===m.length?(t.exit(u),(U(e)?(t.enter("whitespace"),o):a)(e)):e===m.charCodeAt(i++)?(t.consume(e),s):r(e)}function o(e){return U(e)?(t.consume(e),o):(t.exit("whitespace"),a(e))}function a(e){return(null===e||q(e)?(t.exit(c),n):r)(e)}},partial:!0};let m;return{tokenize:function(n,t,r){const i=this;return function(e){var t=i.now();if(1!==t.column||!h&&1!==t.line)return r(e);return n.enter(f),m=Yr(l,"open"),n.attempt(p,s,r)(e)};function s(e){return m=Yr(l,"close"),c(e)}function o(e){return(null===e||q(e)?c:(n.enter(d),a))(e)}function a(e){return null===e||q(e)?(n.exit(d),c(e)):(n.consume(e),a)}function c(e){return null===e?r(e):(n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),n.attempt(p,u,o))}function u(e){return n.exit(f),t(e)}},concrete:!0}}function Yr(e,t){return e.marker?Gr(e.marker,t).repeat(3):Gr(e.fence,t)}function Gr(e,t){return"string"==typeof e?e:e[t]}function Xr(e){var t=Qr(e),n={},r={};let i=-1;for(;++i<t.length;){var s=t[i];n[s.type]=function(t){return function(e){this.enter({type:t.type,value:""},e),this.buffer()}}(s),r[s.type]=Zr,r[s.type+"Value"]=ei}return{enter:n,exit:r}}function Zr(e){var t=this.resume();this.exit(e).value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function ei(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function ti(e){var t=[],n={},r=Qr(e);let i=-1;for(;++i<r.length;){var s=r[i];n[s.type]=function(e){const t=ni(e,"open"),n=ni(e,"close");return function(e){return t+(e.value?"\n"+e.value:"")+"\n"+n}}(s),t.push({atBreak:!0,character:ni(s,"open").charAt(0)})}return{unsafe:t,handlers:n}}function ni(e,t){return e.marker?ri(e.marker,t).repeat(3):ri(e.fence,t)}function ri(e,t){return"string"==typeof e?e:e[t]}function ii(e="yaml"){const n=this.data();function t(e,t){(n[e]||(n[e]=[])).push(t)}t("micromarkExtensions",function(e){var t,n,r=Qr(e),i={};let s=-1;for(;++s<r.length;)(n=Yr(t=r[s],"open").charCodeAt(0))in i?i[n].push(Jr(t)):i[n]=[Jr(t)];return{flow:i}}(e)),t("fromMarkdownExtensions",Xr(e)),t("toMarkdownExtensions",ti(e))}function si(a={}){return function(e,o){let i;function n(e){if(function({type:t,value:e}){var n=a[t];if(n&&"function"==typeof n)try{var r=n(e);if(r)return i?(o.data[i]=o.data[i]||{},Object.assign(o.data[i],r)):Object.assign(o.data,r),1}catch(e){return function({message:e,column:t,line:n,name:r},i){var s=a.throws?"fail":"message";o[s](e,{line:n,column:t},`parseFrontMatter:${i}:`+r)}(e,t)}}(e))return 1;var t=e.children;if(t)for(let e=0;e<t.length;e++)if(n(t[e]))return a.remove&&(t.splice(e,1),e--),1}"function"==typeof a&&(a.yaml=a),"function"!=typeof a&&a.name&&(i=a.name),n(e)}}const oi=Symbol.for("yaml.alias"),ai=Symbol.for("yaml.document"),ci=Symbol.for("yaml.map"),ui=Symbol.for("yaml.pair"),li=Symbol.for("yaml.scalar"),fi=Symbol.for("yaml.seq"),h=Symbol.for("yaml.node.type"),hi=e=>!!e&&"object"==typeof e&&e[h]===oi,di=e=>!!e&&"object"==typeof e&&e[h]===ai,pi=e=>!!e&&"object"==typeof e&&e[h]===ci,T=e=>!!e&&"object"==typeof e&&e[h]===ui,x=e=>!!e&&"object"==typeof e&&e[h]===li,mi=e=>!!e&&"object"==typeof e&&e[h]===fi;function S(e){if(e&&"object"==typeof e)switch(e[h]){case ci:case fi:return!0}return!1}function E(e){if(e&&"object"==typeof e)switch(e[h]){case oi:case ci:case li:case fi:return!0}return!1}class gi{constructor(e){Object.defineProperty(this,h,{value:e})}clone(){var e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const yi=Symbol("break visit");t=Symbol("skip children");const vi=Symbol("remove node");function bi(e,t){t=function(e){if("object"==typeof e&&(e.Collection||e.Node||e.Value))return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e);return e}(t);di(e)?ki(null,e.contents,t,Object.freeze([e]))===vi&&(e.contents=null):ki(null,e,t,Object.freeze([]))}function ki(e,t,n,r){s=e,o=t,a=r;var i="function"==typeof(i=n)?i(s,o,a):pi(o)?i.Map?.(s,o,a):mi(o)?i.Seq?.(s,o,a):T(o)?i.Pair?.(s,o,a):x(o)?i.Scalar?.(s,o,a):hi(o)?i.Alias?.(s,o,a):void 0;if(E(i)||T(i)){var s=e,o=r,a=i;if(S(o=o[o.length-1]))o.items[s]=a;else if(T(o))"key"===s?o.key=a:o.value=a;else{if(!di(o))throw s=hi(o)?"alias":"scalar",new Error(`Cannot replace node with ${s} parent`);o.contents=a}return ki(e,i,n,r)}if("symbol"!=typeof i)if(S(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){var c=ki(e,t.items[e],n,r);if("number"==typeof c)e=c-1;else{if(c===yi)return yi;c===vi&&(t.items.splice(e,1),--e)}}}else if(T(t)){r=Object.freeze(r.concat(t));s=ki("key",t.key,n,r);if(s===yi)return yi;s===vi&&(t.key=null);o=ki("value",t.value,n,r);if(o===yi)return yi;o===vi&&(t.value=null)}return i}bi.BREAK=yi,bi.SKIP=t,bi.REMOVE=vi;const xi={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class d{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},d.defaultYaml,e),this.tags=Object.assign({},d.defaultTags,t)}clone(){var e=new d(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){var e=new d(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:d.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},d.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:d.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},d.defaultTags),this.atNextDocument=!1);var n,r,i=e.trim().split(/[ \t]+/),s=i.shift();switch(s){case"%TAG":return 2!==i.length&&(t(0,"%TAG directive should contain exactly two parts"),i.length<2)?!1:([r,n]=i,this.tags[r]=n,!0);case"%YAML":return this.yaml.explicit=!0,1!==i.length?(t(0,"%YAML directive should contain exactly one part"),!1):([r]=i,"1.1"===r||"1.2"===r?(this.yaml.version=r,!0):(t(6,"Unsupported YAML version "+r,/^\d+\.\d+$/.test(r)),!1));default:return t(0,"Unknown directive "+s,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])t("Not a valid tag: "+e);else{if("<"===e[1])return"!"===(n=e.slice(2,-1))||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n);var[,n,r]=e.match(/^(.*!)([^!]*)$/),i=(r||t(`The ${e} tag has no suffix`),this.tags[n]);if(i)return i+decodeURIComponent(r);if("!"===n)return e;t("Could not resolve tag: "+e)}return null}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,e=>xi[e]);return"!"===e[0]?e:`!<${e}>`}toString(e){var t=this.yaml.explicit?["%YAML "+(this.yaml.version||"1.2")]:[],n=Object.entries(this.tags);let r;if(e&&0<n.length&&E(e.contents)){const i={};bi(e.contents,(e,t)=>{E(t)&&t.tag&&(i[t.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[s,o]of n)"!!"===s&&"tag:yaml.org,2002:"===o||e&&!r.some(e=>e.startsWith(o))||t.push(`%TAG ${s} `+o);return t.join("\n")}}function wi(e){if(/[\x00-\x19\s,[\]{}]/.test(e))throw e=JSON.stringify(e),new Error("Anchor must not contain whitespace or control characters: "+e);return 1}function Si(e){const n=new Set;return bi(e,{Value(e,t){t.anchor&&n.add(t.anchor)}}),n}function Ei(t,n){for(let e=1;;++e){1;{var r=""+t+e;if(!n.has(r))return r}}}d.defaultYaml={explicit:!1,version:"1.2"},d.defaultTags={"!!":"tag:yaml.org,2002:"};class Ai extends gi{constructor(e){super(oi),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n=void 0;return bi(e,{Node:(e,t)=>{if(t===this)return bi.BREAK;t.anchor===this.source&&(n=t)}}),n}toJSON(e,t){if(!t)return{source:this.source};var{anchors:t,doc:n,maxAliasCount:r}=t,i=this.resolve(n);if(!i)throw s="Unresolved alias (the anchor must be set before the alias): "+this.source,new ReferenceError(s);var s=t.get(i);if(!s||void 0===s.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(0<=r&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=function t(n,r,i){{if(hi(r)){const e=r.resolve(n),s=i&&e&&i.get(e);return s?s.count*s.aliasCount:0}if(S(r)){let e=0;for(const o of r.items){const a=t(n,o,i);a>e&&(e=a)}return e}if(T(r)){const c=t(n,r.key,i),u=t(n,r.value,i);return Math.max(c,u)}}return 1}(n,i,t)),s.count*s.aliasCount>r))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(e,t,n){var r,i="*"+this.source;if(e){if(wi(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source))throw r="Unresolved alias (the anchor must be set before the alias): "+this.source,new Error(r);if(e.implicitKey)return i+" "}return i}}function p(e,t,n){if(Array.isArray(e))return e.map((e,t)=>p(e,String(t),n));if(e&&"function"==typeof e.toJSON){if(!n||(r=e,!x(r)&&!S(r))||!r.anchor)return e.toJSON(t,n);const i={aliasCount:0,count:1,res:void 0};n.anchors.set(e,i),n.onCreate=e=>{i.res=e,delete n.onCreate};r=e.toJSON(t,n);return n.onCreate&&n.onCreate(r),r}var r;return"bigint"!=typeof e||n?.keep?e:Number(e)}const Ci=e=>!e||"function"!=typeof e&&"object"!=typeof e;class A extends gi{constructor(e){super(li),this.value=e}toJSON(e,t){return t?.keep?this.value:p(this.value,e,t)}toString(){return String(this.value)}}A.BLOCK_FOLDED="BLOCK_FOLDED",A.BLOCK_LITERAL="BLOCK_LITERAL",A.PLAIN="PLAIN",A.QUOTE_DOUBLE="QUOTE_DOUBLE",A.QUOTE_SINGLE="QUOTE_SINGLE";const Ti="tag:yaml.org,2002:";function Ii(e,t,n){if(E(e=di(e)?e.contents:e))return e;if(T(e))return(r=n.schema[ci].createNode?.(n.schema,null,n)).items.push(e),r;(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());var{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n;let c=void 0;if(r&&e&&"object"==typeof e){if(c=a.get(e))return c.anchor||(c.anchor=i(e)),new Ai(c.anchor);c={anchor:null,node:null},a.set(e,c)}let u=function(t,n,e){if(n){var r=e.filter(e=>e.tag===n),r=r.find(e=>!e.format)??r[0];if(r)return r;throw new Error(`Tag ${n} not found`)}return e.find(e=>e.identify?.(t)&&!e.format)}(e,t=t?.startsWith("!!")?Ti+t.slice(2):t,o.tags);if(!u){if(!(e=e&&"function"==typeof e.toJSON?e.toJSON():e)||"object"!=typeof e){const l=new A(e);return c&&(c.node=l),l}u=!(e instanceof Map)&&Symbol.iterator in Object(e)?o[fi]:o[ci]}s&&(s(u),delete n.onTagObj);const l=u?.createNode?u.createNode(n.schema,e,n):new A(e);return t&&(l.tag=t),c&&(c.node=l),l}function Fi(e,t,n){let r=n;for(let e=t.length-1;0<=e;--e){var i,s=t[e];r="number"==typeof s&&Number.isInteger(s)&&0<=s?((i=[])[s]=r,i):new Map([[s,r]])}return Ii(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Oi=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class Li extends gi{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(t){var e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(e.schema=t),e.items=e.items.map(e=>E(e)||T(e)?e.clone(t):e),this.range&&(e.range=this.range.slice()),e}addIn(e,t){if(Oi(e))this.add(t);else{var[e,...n]=e,r=this.get(e,!0);if(S(r))r.addIn(n,t);else{if(void 0!==r||!this.schema)throw new Error(`Expected YAML collection at ${e}. Remaining path: `+n);this.set(e,Fi(this.schema,n,t))}}}deleteIn(e){var[e,...t]=e;if(0===t.length)return this.delete(e);var n=this.get(e,!0);if(S(n))return n.deleteIn(t);throw new Error(`Expected YAML collection at ${e}. Remaining path: `+t)}getIn(e,t){var[e,...n]=e,e=this.get(e,!0);return 0===n.length?!t&&x(e)?e.value:e:S(e)?e.getIn(n,t):void 0}hasAllNullValues(t){return this.items.every(e=>{return!!T(e)&&(null==(e=e.value)||t&&x(e)&&null==e.value&&!e.commentBefore&&!e.comment&&!e.tag)})}hasIn(e){var[e,...t]=e;return 0===t.length?this.has(e):!!S(e=this.get(e,!0))&&e.hasIn(t)}setIn(e,t){var[e,...n]=e;if(0===n.length)this.set(e,t);else{var r=this.get(e,!0);if(S(r))r.setIn(n,t);else{if(void 0!==r||!this.schema)throw new Error(`Expected YAML collection at ${e}. Remaining path: `+n);this.set(e,Fi(this.schema,n,t))}}}}Li.maxFlowStringSingleLineLength=60;const Ni=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function C(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Di=(e,t,n)=>e.endsWith("\n")?C(n,t):n.includes("\n")?"\n"+C(n,t):(e.endsWith(" ")?"":" ")+n,_i="flow",Mi="block",ji="quoted";function Bi(t,n,r="flow",{indentAtStart:e,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;var c=Math.max(1+s,1+i-n.length);if(t.length<=c)return t;var u=[],l={};let f=i-n.length,h=("number"==typeof e&&(e>i-Math.max(2,s)?u.push(0):f=i-e),void 0),d=void 0,p=!1,m=-1,g=-1,y=-1;r===Mi&&-1!==(m=Pi(t,m))&&(f=m+c);for(let e;e=t[m+=1];){if(r===ji&&"\\"===e){switch(t[(g=m)+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}y=m}if("\n"===e)r===Mi&&(m=Pi(t,m)),f=m+c,h=void 0;else if(" "===e&&d&&" "!==d&&"\n"!==d&&"\t"!==d&&(v=t[m+1])&&" "!==v&&"\n"!==v&&"\t"!==v&&(h=m),m>=f)if(h)u.push(h),f=h+c,h=void 0;else if(r===ji){for(;" "===d||"\t"===d;)d=e,e=t[m+=1],p=!0;var v=m>y+1?m-2:g-1;if(l[v])return t;u.push(v),l[v]=!0,f=v+c,h=void 0}else p=!0;d=e}if(p&&a&&a(),0===u.length)return t;o&&o();let b=t.slice(0,u[0]);for(let e=0;e<u.length;++e){var k=u[e];const f=u[e+1]||t.length;0===k?b=`
`+n+t.slice(0,f):(r===ji&&l[k]&&(b+=t[k]+"\\"),b+=`
`+n+t.slice(k+1,f))}return b}function Pi(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){for(;(n=e[t+=1])&&"\n"!==n;);n=e[t+1]}return t}const zi=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Ri=e=>/^(%|---|\.\.\.)/m.test(e);function qi(e,t){var n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;var r=t["implicitKey"],i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(Ri(e)?"  ":"");let o="",a=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(o+=n.slice(a,e)+"\\ ",e+=1,a=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":o+=n.slice(a,e);var c=n.substr(e+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:"00"===c.substr(0,2)?o+="\\x"+c.substr(2):o+=n.substr(e,6)}e+=5,a=e+1;break;case"n":if(r||'"'===n[e+2]||n.length<i)e+=1;else{for(o+=n.slice(a,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)o+="\n",e+=2;o+=s," "===n[e+2]&&(o+="\\"),e+=1,a=e+1}break;default:e+=1}return o=a?o+n.slice(a):n,r?o:Bi(o,s,ji,zi(t))}function Ui(e,t){var n;return!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e)?qi(e,t):(n=t.indent||(Ri(e)?"  ":""),e="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
`+n)+"'",t.implicitKey?e:Bi(e,n,_i,zi(t)))}function $i(e,t){var n,r,i=t.options["singleQuote"];let s;return(s=!1!==i&&(n=e.includes('"'),r=e.includes("'"),n&&!r||(!r||n)&&i)?Ui:qi)(e,t)}function Vi({comment:e,type:t,value:n},r,i,s){var{blockQuote:o,commentString:a,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return $i(n,r);var u=r.indent||(r.forceBlockIndent||Ri(n)?"  ":""),o="literal"===o||"folded"!==o&&t!==A.BLOCK_FOLDED&&(t===A.BLOCK_LITERAL||!function(n,e,t){if(e&&!(e<0)){var r=e-t,i=n.length;if(!(i<=r)){for(let e=0,t=0;e<i;++e)if("\n"===n[e]){if(e-t>r)return 1;if(i-(t=e+1)<=r)return}return 1}}}(n,c,u.length));if(!n)return o?"|\n":">\n";let l,f;for(f=n.length;0<f;--f){var h=n[f-1];if("\n"!==h&&"\t"!==h&&" "!==h)break}let d=n.substring(f);t=d.indexOf("\n");-1===t?l="-":n===d||t!==d.length-1?(l="+",s&&s()):l="",d&&(n=n.slice(0,-d.length),d=(d="\n"===d[d.length-1]?d.slice(0,-1):d).replace(/\n+(?!\n|$)/g,"$&"+u));let p=!1,m,g=-1;for(m=0;m<n.length;++m){var y=n[m];if(" "===y)p=!0;else{if("\n"!==y)break;g=m}}let v=n.substring(0,g<m?g+1:m),b=(v&&(n=n.substring(v.length),v=v.replace(/\n+/g,"$&"+u)),(o?"|":">")+(p?u?"2":"1":"")+l);if(e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i)&&i(),o)return n=n.replace(/\n+/g,"$&"+u),b+`
`+u+v+n+d;n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&"+u);c=Bi(""+v+n+d,u,Mi,zi(r));return b+`
`+u+c}function Ki(e,h,d,p){const{implicitKey:m,inFlow:g}=h,y="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let t=e["type"];e=e=>{switch(e){case A.BLOCK_FOLDED:case A.BLOCK_LITERAL:return m||g?$i(y.value,h):Vi(y,h,d,p);case A.QUOTE_DOUBLE:return qi(y.value,h);case A.QUOTE_SINGLE:return Ui(y.value,h);case A.PLAIN:{var t=y;var n=h;var r=d;var i=p;var{type:s,value:o}=t,{actualString:a,implicitKey:c,indent:u,inFlow:l}=n;if(c&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return $i(o,n);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return c||l||!o.includes("\n")?$i(o,n):Vi(t,n,r,i);if(!c&&!l&&s!==A.PLAIN&&o.includes("\n"))return Vi(t,n,r,i);if(""===u&&Ri(o))return n.forceBlockIndent=!0,Vi(t,n,r,i);const f=o.replace(/\n+/g,`$&
`+u);if(a){var l=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(f),{compat:s,tags:t}=n.doc.schema;if(t.some(l)||s?.some(l))return $i(o,n)}return c?f:Bi(f,u,_i,zi(n));return}default:return null}};let n=e(t=t!==A.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(y.value)?A.QUOTE_DOUBLE:t);if(null===n){var{defaultKeyType:r,defaultStringType:i}=h.options,r=m&&r||i;if(null===(n=e(r)))throw new Error("Unsupported default string type "+r)}return n}function Hi(e,t){t=Object.assign({blockQuote:!0,commentString:Ni,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof t.indent?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function Wi(e,t,n,r){if(T(e))return e.toString(t,n,r);if(hi(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i=void 0;var s,o,a,c,e=E(e)?e:t.doc.createNode(e,{onTagObj:e=>i=e}),u=(i=i||function(e,t){if(t.tag){var n=e.filter(e=>e.tag===t.tag);if(0<n.length)return n.find(e=>e.format===t.format)??n[0]}let r=void 0,i;if(r=x(t)?(i=t.value,(n=e.filter(e=>e.identify?.(i))).find(e=>e.format===t.format)??n.find(e=>!e.format)):(i=t,e.find(e=>e.nodeClass&&i instanceof e.nodeClass)))return r;throw n=i?.constructor?.name??typeof i,new Error(`Tag not resolved for ${n} value`)}(t.doc.schema.tags,e),[l,s,{anchors:o,doc:a}]=[e,i,t],a.directives?(c=[],(u=(x(l)||S(l))&&l.anchor)&&wi(u)&&(o.add(u),c.push("&"+u)),(o=l.tag||(s.default?null:s.tag))&&c.push(a.directives.tagString(o)),c.join(" ")):""),l=(0<u.length&&(t.indentAtStart=(t.indentAtStart??0)+u.length+1),"function"==typeof i.stringify?i.stringify(e,t,n,r):x(e)?Ki(e,t,n,r):e.toString(t,n,r));return u?x(e)||"{"===l[0]||"["===l[0]?u+" "+l:u+`
`+t.indent+l:l}function Qi(e,t){"debug"!==e&&"warn"!==e||"undefined"!=typeof process&&process.emitWarning&&process.emitWarning(t)}const Ji="<<";function Yi(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&((i=n)===Ji||x(i)&&i.value===Ji&&(!i.type||i.type===A.PLAIN)))if(r=hi(r)?r.resolve(e.doc):r,mi(r))for(const s of r.items)Gi(e,t,s);else if(Array.isArray(r))for(const o of r)Gi(e,t,o);else Gi(e,t,r);else{i=p(n,"",e);t instanceof Map?t.set(i,p(r,i,e)):t instanceof Set?t.add(i):(n=p(r,r=function(t,e,n){if(null===e)return"";if("object"!=typeof e)return String(e);if(E(t)&&n&&n.doc){var r=Hi(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;t=t.toString(r);if(!n.mapKeyWarned){let e=JSON.stringify(t);40<e.length&&(e=e.substring(0,36)+'..."'),Qi(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return t}return JSON.stringify(e)}(n,i,e),e),r in t?Object.defineProperty(t,r,{value:n,writable:!0,enumerable:!0,configurable:!0}):t[r]=n)}var i;return t}function Gi(e,t,n){var r=e&&hi(n)?n.resolve(e.doc):n;if(!pi(r))throw new Error("Merge sources must be maps or map aliases");for(const[i,n]of r.toJSON(null,e,Map))t instanceof Map?t.has(i)||t.set(i,n):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Xi(e,t,n){e=Ii(e,void 0,n),t=Ii(t,void 0,n);return new I(e,t)}class I{constructor(e,t=null){Object.defineProperty(this,h,{value:ui}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return E(t)&&(t=t.clone(e)),E(n)&&(n=n.clone(e)),new I(t,n)}toJSON(e,t){return Yi(t,t?.mapAsMap?new Map:{},this)}toString(u,l,f){if(u?.doc){var[{key:u,value:l},f,h,d]=[this,u,l,f],{allNullValues:p,doc:m,indent:g,indentStep:y,options:{commentString:v,indentSeq:b,simpleKeys:k}}=f;let e=E(u)&&u.comment||null;if(k){if(e)throw new Error("With simple keys, key nodes cannot have comments");if(S(u))throw new Error("With simple keys, collection cannot be used as a key value")}let t=!k&&(!u||e&&null==l&&!f.inFlow||S(u)||(x(u)?u.type===A.BLOCK_FOLDED||u.type===A.BLOCK_LITERAL:"object"==typeof u)),n=(f=Object.assign({},f,{allNullValues:!1,implicitKey:!t&&(k||!p),indent:g+y}),!1),r=!1,i=Wi(u,f,()=>n=!0,()=>r=!0);if(!t&&!f.inFlow&&1024<i.length){if(k)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");t=!0}if(f.inFlow){if(p||null==l)return n&&h&&h(),""===i?"?":t?"? "+i:i}else if(p&&!k||null==l&&t)return i="? "+i,e&&!n?i+=Di(i,f.indent,v(e)):r&&d&&d(),i;n&&(e=null),t?(e&&(i+=Di(i,f.indent,v(e))),i=`? ${i}
${g}:`):(i+=":",e&&(i+=Di(i,f.indent,v(e))));let s="",o=null,a=(E(l)?(l.spaceBefore&&(s="\n"),l.commentBefore&&(u=v(l.commentBefore),s+=`
`+C(u,f.indent)),o=l.comment):l&&"object"==typeof l&&(l=m.createNode(l)),f.implicitKey=!1,t||e||!x(l)||(f.indentAtStart=i.length+1),r=!1,b||!(2<=y.length)||f.inFlow||t||!mi(l)||l.flow||l.tag||l.anchor||(f.indent=f.indent.substr(2)),!1),c=(p=Wi(l,f,()=>a=!0,()=>r=!0)," ");return s||e?c=""!==p||f.inFlow?s+`
`+f.indent:"\n"===s?"\n\n":s:!t&&S(l)?("["!==p[0]&&"{"!==p[0]||p.includes("\n"))&&(c=`
`+f.indent):""!==p&&"\n"!==p[0]||(c=""),i+=c+p,f.inFlow?a&&h&&h():o&&!a?i+=Di(i,f.indent,v(o)):r&&d&&d(),i}return JSON.stringify(this)}}function Zi(e,t,n){return(t.inFlow??e.flow?ts:es)(e,t,n)}function es({comment:e,items:r},i,{blockItemPrefix:s,flowChars:t,itemIndent:o,onChompKeep:n,onComment:a}){var{indent:c,options:{commentString:u}}=i,l=Object.assign({},i,{indent:o,type:null});let f=!1;var h=[];for(let n=0;n<r.length;++n){var d,p=r[n];let e=null,t=(E(p)?(!f&&p.spaceBefore&&h.push(""),ns(i,h,p.commentBefore,f),p.comment&&(e=p.comment)):T(p)&&(d=E(p.key)?p.key:null)&&(!f&&d.spaceBefore&&h.push(""),ns(i,h,d.commentBefore,f)),f=!1,Wi(p,l,()=>e=null,()=>f=!0));e&&(t+=Di(t,o,u(e))),f&&e&&(f=!1),h.push(s+t)}let m;if(0===h.length)m=t.start+t.end;else{m=h[0];for(let e=1;e<h.length;++e){var g=h[e];m+=g?`
`+c+g:"\n"}}return e?(m+="\n"+C(u(e),c),a&&a()):f&&n&&n(),m}function ts({comment:e,items:r},i,{flowChars:t,itemIndent:s,onComment:n}){var{indent:o,indentStep:a,options:{commentString:c}}=i,u=(s+=a,Object.assign({},i,{indent:s,inFlow:!0,type:null}));let l=!1,f=0;var h=[];for(let n=0;n<r.length;++n){var d,p,m=r[n];let e=null,t=(E(m)?(m.spaceBefore&&h.push(""),ns(i,h,m.commentBefore,!1),m.comment&&(e=m.comment)):T(m)&&((d=E(m.key)?m.key:null)&&(d.spaceBefore&&h.push(""),ns(i,h,d.commentBefore,!1),d.comment)&&(l=!0),(p=E(m.value)?m.value:null)?(p.comment&&(e=p.comment),p.commentBefore&&(l=!0)):null==m.value&&d&&d.comment&&(e=d.comment)),e&&(l=!0),Wi(m,u,()=>e=null));n<r.length-1&&(t+=","),e&&(t+=Di(t,s,c(e))),!l&&(h.length>f||t.includes("\n"))&&(l=!0),h.push(t),f=h.length}let g;var y,{start:t,end:v}=t;if(0===h.length)g=t+v;else if(l||(y=h.reduce((e,t)=>e+t.length+2,2),l=y>Li.maxFlowStringSingleLineLength),l){g=t;for(const b of h)g+=b?`
`+a+o+b:"\n";g+=`
`+o+v}else g=`${t} ${h.join(" ")} `+v;return e&&(g+=Di(g,c(e),o),n)&&n(),g}function ns({indent:e,options:{commentString:t}},n,r,i){(r=r&&i?r.replace(/^\n+/,""):r)&&(i=C(t(r),e),n.push(i.trimStart()))}function rs(e,t){var n=x(t)?t.value:t;for(const r of e)if(T(r)){if(r.key===t||r.key===n)return r;if(x(r.key)&&r.key.value===n)return r}}class F extends Li{constructor(e){super(ci,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=T(e)?e:e&&"object"==typeof e&&"key"in e?new I(e.key,e.value):new I(e,e?.value);e=rs(this.items,n.key);const r=this.schema?.sortMapEntries;if(e){if(!t)throw new Error(`Key ${n.key} already set`);x(e.value)&&Ci(n.value)?e.value.value=n.value:e.value=n.value}else!r||-1===(t=this.items.findIndex(e=>r(n,e)<0))?this.items.push(n):this.items.splice(t,0,n)}delete(e){e=rs(this.items,e);return!!e&&0<this.items.splice(this.items.indexOf(e),1).length}get(e,t){e=rs(this.items,e)?.value;return(!t&&x(e)?e.value:e)??void 0}has(e){return!!rs(this.items,e)}set(e,t){this.add(new I(e,t),!0)}toJSON(e,t,n){var r=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const i of this.items)Yi(t,r,i);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const r of this.items)if(!T(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Zi(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const is={collection:"map",createNode:function(e,n,r){const{keepUndefined:i,replacer:s}=r,o=new F(e);var t=(e,t)=>{if("function"==typeof s)t=s.call(n,e,t);else if(Array.isArray(s)&&!s.includes(e))return;void 0===t&&!i||o.items.push(Xi(e,t,r))};if(n instanceof Map)for(var[a,c]of n)t(a,c);else if(n&&"object"==typeof n)for(const u of Object.keys(n))t(u,n[u]);return"function"==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o},default:!0,nodeClass:F,tag:"tag:yaml.org,2002:map",resolve(e,t){return pi(e)||t("Expected a mapping for this tag"),e}};class ss extends Li{constructor(e){super(fi,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){e=os(e);return"number"==typeof e&&0<this.items.splice(e,1).length}get(e,t){var e=os(e);if("number"==typeof e)return e=this.items[e],!t&&x(e)?e.value:e}has(e){e=os(e);return"number"==typeof e&&e<this.items.length}set(e,t){var n=os(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);e=this.items[n];x(e)&&Ci(t)?e.value=t:this.items[n]=t}toJSON(e,t){var n=[];t?.onCreate&&t.onCreate(n);let r=0;for(const i of this.items)n.push(p(i,String(r++),t));return n}toString(e,t,n){return e?Zi(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function os(e){let t=x(e)?e.value:e;return"number"==typeof(t=t&&"string"==typeof t?Number(t):t)&&Number.isInteger(t)&&0<=t?t:null}const as={collection:"seq",createNode:function(e,t,n){var r,i=n["replacer"],s=new ss(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(var o of t)"function"==typeof i&&(r=t instanceof Set?o:String(e++),o=i.call(t,r,o)),s.items.push(Ii(o,void 0,n))}return s},default:!0,nodeClass:ss,tag:"tag:yaml.org,2002:seq",resolve(e,t){return mi(e)||t("Expected a sequence for this tag"),e}},cs={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return Ki(e,t=Object.assign({actualString:!0},t),n,r)}},us={identify:e=>null==e,createNode:()=>new A(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new A(null),stringify:({source:e},t)=>"string"==typeof e&&us.test.test(e)?e:t.options.nullStr},ls={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new A("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&ls.test.test(e)&&t===("t"===e[0]||"T"===e[0]))return e;return t?n.options.trueStr:n.options.falseStr}};function m({format:e,minFractionDigits:n,tag:t,value:r}){if("bigint"==typeof r)return String(r);var i="number"==typeof r?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&n&&(!t||"tag:yaml.org,2002:float"===t)&&/^\d/.test(s)){let e=s.indexOf("."),t=(e<0&&(e=s.length,s+="."),n-(s.length-e-1));for(;0<t--;)s+="0"}return s}Xe={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:m},_e={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){var t=Number(e.value);return isFinite(t)?t.toExponential():m(e)}},ot={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){var t=new A(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:m};const fs=e=>"bigint"==typeof e||Number.isInteger(e),hs=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function ds(e,t,n){var r=e["value"];return fs(r)&&0<=r?n+r.toString(t):m(e)}dt={identify:e=>fs(e)&&0<=e,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>hs(e,2,8,n),stringify:e=>ds(e,8,"0o")},Re={identify:fs,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>hs(e,0,10,n),stringify:m},s={identify:e=>fs(e)&&0<=e,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>hs(e,2,16,n),stringify:e=>ds(e,16,"0x")},c=[is,as,cs,us,ls,dt,Re,s,Xe,_e,ot];function ps(e){return"bigint"==typeof e||Number.isInteger(e)}i=({value:e})=>JSON.stringify(e),o=[is,as].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:i},{identify:e=>null==e,createNode:()=>new A(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:i},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:i},{identify:ps,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>ps(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:i}],{default:!0,tag:"",test:/^/,resolve(e,t){return t("Unresolved plain scalar "+JSON.stringify(e)),e}}),t={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"!=typeof atob)return t("This environment does not support reading binary tags; either Buffer or atob is required"),e;var n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r},stringify({comment:e,type:t,value:n},r,i,s){var o=n;let a;if("function"==typeof Buffer)a=(o instanceof Buffer?o:Buffer.from(o.buffer)).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let t="";for(let e=0;e<o.length;++e)t+=String.fromCharCode(o[e]);a=btoa(t)}}if((t=t||A.BLOCK_LITERAL)!==A.QUOTE_DOUBLE){var c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/c),l=new Array(u);for(let e=0,t=0;e<u;++e,t+=c)l[e]=a.substr(t,c);a=l.join(t===A.BLOCK_LITERAL?"\n":" ")}return Ki({comment:e,type:t,value:a},r,i,s)}};function ms(n,r){if(mi(n))for(let t=0;t<n.items.length;++t){let e=n.items[t];var i,s;T(e)||(pi(e)&&(1<e.items.length&&r("Each pair must have its own sequence indicator"),i=e.items[0]||new I(new A(null)),e.commentBefore&&(i.key.commentBefore=i.key.commentBefore?e.commentBefore+`
`+i.key.commentBefore:e.commentBefore),e.comment&&((s=i.value??i.key).comment=s.comment?e.comment+`
`+s.comment:e.comment),e=i),n.items[t]=T(e)?e:new I(e))}else r("Expected a sequence for this tag");return n}function gs(e,n,r){var i=r["replacer"],s=new ss(e);s.tag="tag:yaml.org,2002:pairs";let o=0;if(n&&Symbol.iterator in Object(n))for(var a of n){"function"==typeof i&&(a=i.call(n,String(o++),a));let e,t;if(Array.isArray(a)){if(2!==a.length)throw new TypeError("Expected [key, value] tuple: "+a);e=a[0],t=a[1]}else if(a&&a instanceof Object){var c=Object.keys(a);if(1!==c.length)throw new TypeError("Expected { key: value } tuple: "+a);e=c[0],t=a[e]}else e=a;s.items.push(Xi(e,t,r))}return s}i={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ms,createNode:gs};class ys extends ss{constructor(){super(),this.add=F.prototype.add.bind(this),this.delete=F.prototype.delete.bind(this),this.get=F.prototype.get.bind(this),this.has=F.prototype.has.bind(this),this.set=F.prototype.set.bind(this),this.tag=ys.tag}toJSON(e,n){if(!n)return super.toJSON(e);var r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let e,t;if(T(i)?(e=p(i.key,"",n),t=p(i.value,e,n)):e=p(i,"",n),r.has(e))throw new Error("Ordered maps must not include duplicate keys");r.set(e,t)}return r}}ys.tag="tag:yaml.org,2002:omap";var vs={collection:"seq",identify:e=>e instanceof Map,nodeClass:ys,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){var n,e=ms(e,t),r=[];for({key:n}of e.items)x(n)&&(r.includes(n.value)?t("Ordered maps must not include duplicate keys: "+n.value):r.push(n.value));return Object.assign(new ys,e)},createNode(e,t,n){e=gs(e,t,n),t=new ys;return t.items=e.items,t}};function bs({value:e,source:t},n){var r=e?ks:xs;return t&&r.test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const ks={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new A(!0),stringify:bs},xs={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new A(!1),stringify:bs};var ws={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:m},Ss={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){var t=Number(e.value);return isFinite(t)?t.toExponential():m(e)}},Es={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){var t=new A(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");return-1!==n&&"0"===(e=e.substring(n+1).replace(/_/g,""))[e.length-1]&&(t.minFractionDigits=e.length),t},stringify:m};const As=e=>"bigint"==typeof e||Number.isInteger(e);function Cs(e,t,n,{intAsBigInt:r}){var i=e[0];if("-"!==i&&"+"!==i||(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e="0b"+e;break;case 8:e="0o"+e;break;case 16:e="0x"+e}const s=BigInt(e);return"-"===i?BigInt(-1)*s:s}const s=parseInt(e,n);return"-"===i?-1*s:s}function Ts(e,t,n){var r=e["value"];return As(r)?(t=r.toString(t),r<0?"-"+n+t.substr(1):n+t):m(e)}var Is={identify:As,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Cs(e,2,2,n),stringify:e=>Ts(e,2,"0b")},Fs={identify:As,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Cs(e,1,8,n),stringify:e=>Ts(e,8,"0")},Os={identify:As,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Cs(e,0,10,n),stringify:m},Ls={identify:As,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Cs(e,2,16,n),stringify:e=>Ts(e,16,"0x")};class Ns extends F{constructor(e){super(e),this.tag=Ns.tag}add(e){let t;t=T(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new I(e.key,null):new I(e,null),rs(this.items,t.key)||this.items.push(t)}get(e,t){e=rs(this.items,e);return!t&&T(e)?x(e.key)?e.key.value:e.key:e}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);var n=rs(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new I(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}Ns.tag="tag:yaml.org,2002:set";var Ds={collection:"map",identify:e=>e instanceof Set,nodeClass:Ns,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(pi(e)){if(e.hasAllNullValues(!0))return Object.assign(new Ns,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){var r=n["replacer"],i=new Ns(e);if(t&&Symbol.iterator in Object(t))for(var s of t)"function"==typeof r&&(s=r.call(t,s,s)),i.items.push(Xi(s,null,n));return i}};function _s(e,t){var n=e[0],e="-"===n||"+"===n?e.substring(1):e;const r=e=>(t?BigInt:Number)(e);e=e.replace(/_/g,"").split(":").reduce((e,t)=>e*r(60)+r(t),r(0));return"-"===n?r(-1)*e:e}function Ms(e){let t=e["value"],n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return m(e);let r="";t<0&&(r="-",t*=n(-1));var e=n(60),i=[t%e];return t<60?i.unshift(0):(t=(t-i[0])/e,i.unshift(t%e),60<=t&&(t=(t-i[0])/e,i.unshift(t))),r+i.map(e=>e<10?"0"+String(e):String(e)).join(":").replace(/000000\d*$/,"")}var js={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>_s(e,n),stringify:Ms},Bs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>_s(e,!1),stringify:Ms};const Ps={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){e=e.match(Ps.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");var[,t,n,r,i,s,o]=e.map(Number),a=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,n-1,r,i||0,s||0,o||0,a);t=e[8];if(t&&"Z"!==t){let e=_s(t,!1);Math.abs(e)<30&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};Is=[is,as,cs,us,ks,xs,Is,Fs,Os,Ls,ws,Ss,Es,t,vs,i,Ds,js,Bs,Ps];const zs=new Map([["core",c],["failsafe",[is,as,cs]],["json",o],["yaml11",Is],["yaml-1.1",Is]]),Rs={binary:t,bool:ls,float:ot,floatExp:_e,floatNaN:Xe,floatTime:Bs,int:Re,intHex:s,intOct:dt,intTime:js,map:is,null:us,omap:vs,pairs:i,seq:as,set:Ds,timestamp:Ps},qs={"tag:yaml.org,2002:binary":t,"tag:yaml.org,2002:omap":vs,"tag:yaml.org,2002:pairs":i,"tag:yaml.org,2002:set":Ds,"tag:yaml.org,2002:timestamp":Ps};function Us(e,t){let n=zs.get(t);if(!n){var r;if(!Array.isArray(e))throw r=Array.from(zs.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", "),new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`);n=[]}if(Array.isArray(e))for(const i of e)n=n.concat(i);else"function"==typeof e&&(n=e(n.slice()));return n.map(e=>{if("string"!=typeof e)return e;var t=Rs[e];if(t)return t;t=Object.keys(Rs).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of `+t)})}const $s=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Vs{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:i,sortMapEntries:s,toStringDefaults:o}){this.compat=Array.isArray(e)?Us(e,"compat"):e?Us(null,e):null,this.merge=!!n,this.name="string"==typeof i&&i||"core",this.knownTags=r?qs:{},this.tags=Us(t,this.name),this.toStringOptions=o??null,Object.defineProperty(this,ci,{value:is}),Object.defineProperty(this,li,{value:cs}),Object.defineProperty(this,fi,{value:as}),this.sortMapEntries="function"==typeof s?s:!0===s?$s:null}clone(){var e=Object.create(Vs.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Ks{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,h,{value:ai});let r=null;"function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t,t=void 0);t=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);let i=(this.options=t)["version"];n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new d({version:i}),this.setSchema(i,n),this.contents=void 0===e?null:this.createNode(e,r,n)}clone(){var e=Object.create(Ks.prototype,{[h]:{value:ai}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=E(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Hs(this.contents)&&this.contents.add(e)}addIn(e,t){Hs(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){var n;return e.anchor||(n=Si(this),e.anchor=!t||n.has(t)?Ei(t||"a",n):t),new Ai(e.anchor)}createNode(e,t,n){let r=void 0;"function"==typeof t?(e=t.call({"":e},"",e),r=t):Array.isArray(t)?(0<(i=t.filter(e=>"number"==typeof e||e instanceof String||e instanceof Number).map(String)).length&&(t=t.concat(i)),r=t):void 0===n&&t&&(n=t,t=void 0);var{aliasDuplicateObjects:i,anchorPrefix:t,flow:n,keepUndefined:s,onTagObj:o,tag:a}=n??{},{onAnchor:t,setAnchors:c,sourceObjects:u}=function(t,n){const r=[],i=new Map;let s=null;return{onAnchor:e=>{r.push(e),s=s||Si(t);e=Ei(n,s);return s.add(e),e},setAnchors:()=>{for(const n of r){var e,t=i.get(n);if("object"!=typeof t||!t.anchor||!x(t.node)&&!S(t.node))throw(e=new Error("Failed to resolve repeated object (this should not happen)")).source=n,e;t.node.anchor=t.anchor}},sourceObjects:i}}(this,t||"a"),e=Ii(e,a,{aliasDuplicateObjects:i??!0,keepUndefined:s??!1,onAnchor:t,onTagObj:o,replacer:r,schema:this.schema,sourceObjects:u});return n&&S(e)&&(e.flow=!0),c(),e}createPair(e,t,n={}){e=this.createNode(e,null,n),t=this.createNode(t,null,n);return new I(e,t)}delete(e){return!!Hs(this.contents)&&this.contents.delete(e)}deleteIn(e){return Oi(e)?null!=this.contents&&!(this.contents=null):!!Hs(this.contents)&&this.contents.deleteIn(e)}get(e,t){return S(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Oi(e)?!t&&x(this.contents)?this.contents.value:this.contents:S(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!S(this.contents)&&this.contents.has(e)}hasIn(e){return Oi(e)?void 0!==this.contents:!!S(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=Fi(this.schema,[e],t):Hs(this.contents)&&this.contents.set(e,t)}setIn(e,t){Oi(e)?this.contents=t:null==this.contents?this.contents=Fi(this.schema,Array.from(e),t):Hs(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch(e="number"==typeof e?String(e):e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new d({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new d({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:var r=JSON.stringify(e);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: "+r)}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Vs(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){e={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100,stringify:Wi};const o=p(this.contents,t??"",e);if("function"==typeof i)for(const{count:a,res:o}of e.anchors.values())i(o,a);return"function"==typeof s?function n(r,e,t,i){if(i&&"object"==typeof i)if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e){var s=i[e],o=n(r,i,String(e),s);void 0===o?delete i[e]:o!==s&&(i[e]=o)}else if(i instanceof Map)for(const d of Array.from(i.keys())){var a=i.get(d),c=n(r,i,d,a);void 0===c?i.delete(d):c!==a&&i.set(d,c)}else if(i instanceof Set)for(const p of Array.from(i)){var u=n(r,i,p,p);void 0===u?i.delete(p):u!==p&&(i.delete(p),i.add(u))}else for(var[l,f]of Object.entries(i)){var h=n(r,i,l,f);void 0===h?delete i[l]:h!==f&&(i[l]=h)}return r.call(e,t,i)}(s,{"":o},"",o):o}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(i={}){if(0<this.errors.length)throw new Error("Document with errors cannot be stringified");if("indent"in i&&(!Number.isInteger(i.indent)||Number(i.indent)<=0))throw s=JSON.stringify(i.indent),new Error('"indent" option must be a positive integer, not '+s);{var s=this,o=[];let t=!0===i.directives;!1!==i.directives&&s.directives&&((a=s.directives.toString(s))?(o.push(a),t=!0):s.directives.docStart&&(t=!0)),t&&o.push("---");var a=Hi(s,i),i=a.options["commentString"];s.commentBefore&&(1!==o.length&&o.unshift(""),c=i(s.commentBefore),o.unshift(C(c,"")));let n=!1,r=null;if(s.contents){E(s.contents)&&(s.contents.spaceBefore&&t&&o.push(""),s.contents.commentBefore&&(c=i(s.contents.commentBefore),o.push(C(c,""))),a.forceBlockIndent=!!s.comment,r=s.contents.comment);var c=r?void 0:()=>n=!0;let e=Wi(s.contents,a,()=>r=null,c);r&&(e+=Di(e,"",i(r))),"|"!==e[0]&&">"!==e[0]||"---"!==o[o.length-1]?o.push(e):o[o.length-1]="--- "+e}else o.push(Wi(s.contents,a));if(s.directives?.docEnd)s.comment?(c=i(s.comment)).includes("\n")?(o.push("..."),o.push(C(c,""))):o.push("... "+c):o.push("...");else{let e=s.comment;(e=e&&n?e.replace(/^\n+/,""):e)&&(n&&!r||""===o[o.length-1]||o.push(""),o.push(C(i(e),"")))}return o.join("\n")+"\n"}}}function Hs(e){if(S(e))return 1;throw new Error("Expected a YAML collection as document contents")}class Ws extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}}class Qs extends Ws{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Js extends Ws{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Ys=(a,c)=>r=>{if(-1!==r.pos[0]){r.linePos=r.pos.map(e=>c.linePos(e));var{line:i,col:s}=r.linePos[0];r.message+=` at line ${i}, column `+s;let t=s-1,n=a.substring(c.lineStarts[i-1],c.lineStarts[i]).replace(/[\n\r]+$/,"");if(60<=t&&80<n.length&&(o=Math.min(t-39,n.length-79),n=""+n.substring(o),t-=o-1),80<n.length&&(n=n.substring(0,79)+""),1<i&&/^ *$/.test(n.substring(0,t))){let e=a.substring(c.lineStarts[i-2],c.lineStarts[i-1]);80<e.length&&(e=e.substring(0,79)+"\n"),n=e+n}if(/[^ ]/.test(n)){let e=1;var o=r.linePos[1],i=(o&&o.line===i&&o.col>s&&(e=Math.min(o.col-s,80-t))," ".repeat(t)+"^".repeat(e));r.message+=`:

${n}
${i}
`}}};function Gs(e,{flow:t,indicator:n,next:r,offset:i,onError:s,startOnNewline:o}){let a=!1,c=o,u=o,l="",f="",h=!1,d=!1,p=!1,m=null,g=null,y=null,v=null,b=null;for(const x of e)switch(p&&("space"!==x.type&&"newline"!==x.type&&"comma"!==x.type&&s(x.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),x.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===x.source[0]&&s(x,"TAB_AS_INDENT","Tabs are not allowed as indentation"),u=!0;break;case"comment":u||s(x,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var k=x.source.substring(1)||" ";l?l+=f+k:l=k,f="",c=!1;break;case"newline":c?l?l+=x.source:a=!0:f+=x.source,c=!0,h=!0,(m||g)&&(d=!0),u=!0;break;case"anchor":m&&s(x,"MULTIPLE_ANCHORS","A node can have at most one anchor"),x.source.endsWith(":")&&s(x.offset+x.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=x,null===b&&(b=x.offset),c=!1,u=!1,p=!0;break;case"tag":g&&s(x,"MULTIPLE_TAGS","A node can have at most one tag"),g=x,null===b&&(b=x.offset),c=!1,u=!1,p=!0;break;case n:(m||g)&&s(x,"BAD_PROP_ORDER",`Anchors and tags must be after the ${x.source} indicator`),v&&s(x,"UNEXPECTED_TOKEN",`Unexpected ${x.source} in `+(t??"collection")),v=x,c=!1,u=!1;break;case"comma":if(t){y&&s(x,"UNEXPECTED_TOKEN","Unexpected , in "+t),y=x,c=!1,u=!1;break}default:s(x,"UNEXPECTED_TOKEN",`Unexpected ${x.type} token`),c=!1,u=!1}o=e[e.length-1],e=o?o.offset+o.source.length:i;return p&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:v,spaceBefore:a,comment:l,hasNewline:h,hasNewlineAfterProp:d,anchor:m,tag:g,end:e,start:b??e}}function Xs(e){if(e)switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return 1;if(e.end)for(const t of e.end)if("newline"===t.type)return 1;return;case"flow-collection":for(const n of e.items){for(const r of n.start)if("newline"===r.type)return 1;if(n.sep)for(const i of n.sep)if("newline"===i.type)return 1;if(Xs(n.key)||Xs(n.value))return 1}return;default:return 1}}function Zs(e,t,n){var r;"flow-collection"!==t?.type||(r=t.end[0]).indent!==e||"]"!==r.source&&"}"!==r.source||!Xs(t)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}function eo(n,e,t){var r=n.options["uniqueKeys"];if(!1!==r){const i="function"==typeof r?r:(e,t)=>e===t||x(e)&&x(t)&&e.value===t.value&&!("<<"===e.value&&n.schema.merge);return e.some(e=>i(e.key,t))}}const to="All mapping items must start at the same column";function no(n,r,i,s){let o="";if(n){let e=!1,t="";for(const l of n){var{source:a,type:c}=l;switch(c){case"space":e=!0;break;case"comment":i&&!e&&s(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var u=a.substring(1)||" ";o?o+=t+u:o=u,t="";break;case"newline":o&&(t+=a),e=!0;break;default:s(l,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}r+=a.length}}return{comment:o,offset:r}}const ro="Block collections are not allowed within flow collections",io=e=>e&&("block-map"===e.type||"block-seq"===e.type);function so(e,t,n,r,i){let s;switch(n.type){case"block-map":s=function({composeNode:e,composeEmptyNode:t},n,r,i){var s=new F(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset,a=null;for(const m of r.items){var{start:c,key:u,sep:l,value:f}=m,h=Gs(c,{indicator:"explicit-key-ind",next:u??l?.[0],offset:o,onError:i,startOnNewline:!0}),d=!h.found;if(d){if(u&&("block-seq"===u.type?i(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==r.indent&&i(o,"BAD_INDENT",to)),!h.anchor&&!h.tag&&!l){a=h.end,h.comment&&(s.comment?s.comment+="\n"+h.comment:s.comment=h.comment);continue}(h.hasNewlineAfterProp||Xs(u))&&i(u??c[c.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==r.indent&&i(o,"BAD_INDENT",to);var p=h.end,c=u?e(n,u,h,i):t(n,p,c,null,h,i),p=(n.schema.compat&&Zs(r.indent,u,i),eo(n,s.items,c)&&i(p,"DUPLICATE_KEY","Map keys must be unique"),Gs(l??[],{indicator:"map-value-ind",next:f,offset:c.range[2],onError:i,startOnNewline:!u||"block-scalar"===u.type}));o=p.end,p.found?(d&&("block-map"!==f?.type||p.hasNewline||i(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict)&&h.start<p.found.offset-1024&&i(c.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"),u=f?e(n,f,p,i):t(n,o,l,null,p,i),n.schema.compat&&Zs(r.indent,f,i),o=u.range[2],h=new I(c,u),n.options.keepSourceTokens&&(h.srcToken=m),s.items.push(h)):(d&&i(c.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),p.comment&&(c.comment?c.comment+="\n"+p.comment:c.comment=p.comment),l=new I(c),n.options.keepSourceTokens&&(l.srcToken=m),s.items.push(l))}return a&&a<o&&i(a,"IMPOSSIBLE","Map comment with trailing content"),s.range=[r.offset,o,a??o],s}(e,t,n,i);break;case"block-seq":s=function({composeNode:e,composeEmptyNode:t},n,r,i){var s,o,a=new ss(n.schema);n.atRoot&&(n.atRoot=!1);let c=r.offset,u=null;for({start:s,value:o}of r.items){var l=Gs(s,{indicator:"seq-item-ind",next:o,offset:c,onError:i,startOnNewline:!0});if(!l.found){if(!(l.anchor||l.tag||o)){u=l.end,l.comment&&(a.comment=l.comment);continue}o&&"block-seq"===o.type?i(l.end,"BAD_INDENT","All sequence items must start at the same column"):i(c,"MISSING_CHAR","Sequence item without - indicator")}l=o?e(n,o,l,i):t(n,l.end,s,null,l,i);n.schema.compat&&Zs(r.indent,o,i),c=l.range[2],a.items.push(l)}return a.range=[r.offset,c,u??c],a}(e,t,n,i);break;case"flow-collection":s=function({composeNode:t,composeEmptyNode:n},r,i,s){var e,o="{"===i.start.source,a=o?"flow map":"flow sequence",c=new(o?F:ss)(r.schema);c.flow=!0,(e=r.atRoot)&&(r.atRoot=!1);let u=i.offset+i.start.source.length;for(let e=0;e<i.items.length;++e){var l=i.items[e],{start:f,key:h,sep:d,value:p}=l,m=Gs(f,{flow:a,indicator:"explicit-key-ind",next:h??d?.[0],offset:u,onError:s,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||d||p)){0===e&&m.comma?s(m.comma,"UNEXPECTED_TOKEN","Unexpected , in "+a):e<i.items.length-1&&s(m.start,"UNEXPECTED_TOKEN","Unexpected empty item in "+a),m.comment&&(c.comment?c.comment+="\n"+m.comment:c.comment=m.comment),u=m.end;continue}!o&&r.options.strict&&Xs(h)&&s(h,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===e)m.comma&&s(m.comma,"UNEXPECTED_TOKEN","Unexpected , in "+a);else if(m.comma||s(m.start,"MISSING_CHAR",`Missing , between ${a} items`),m.comment){let t="";e:for(const A of f)switch(A.type){case"comma":case"space":break;case"comment":t=A.source.substring(1);break e;default:break e}if(t){let e=c.items[c.items.length-1];(e=T(e)?e.value??e.key:e).comment?e.comment+="\n"+t:e.comment=t,m.comment=m.comment.substring(t.length+1)}}if(o||d||m.found){var g=m.end,y=h?t(r,h,m,s):n(r,g,f,null,m,s),v=(io(h)&&s(y.range,"BLOCK_IN_FLOW",ro),Gs(d??[],{flow:a,indicator:"map-value-ind",next:p,offset:y.range[2],onError:s,startOnNewline:!1}));if(v.found){if(!o&&!m.found&&r.options.strict){if(d)for(const C of d){if(C===v.found)break;if("newline"===C.type){s(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<v.found.offset-1024&&s(v.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else p&&("source"in p&&p.source&&":"===p.source[0]?s(p,"MISSING_CHAR","Missing space after : in "+a):s(v.start,"MISSING_CHAR",`Missing , or : between ${a} items`));var h=p?t(r,p,v,s):v.found?n(r,v.end,d,null,v,s):null,b=(h?io(p)&&s(h.range,"BLOCK_IN_FLOW",ro):v.comment&&(y.comment?y.comment+="\n"+v.comment:y.comment=v.comment),new I(y,h));r.options.keepSourceTokens&&(b.srcToken=l),o?(eo(r,(l=c).items,y)&&s(g,"DUPLICATE_KEY","Map keys must be unique"),l.items.push(b)):((y=new F(r.schema)).flow=!0,y.items.push(b),c.items.push(y)),u=h?h.range[2]:v.end}else{g=p?t(r,p,m,s):n(r,m.end,d,null,m,s);c.items.push(g),u=g.range[2],io(p)&&s(g.range,"BLOCK_IN_FLOW",ro)}}var k,x=o?"}":"]",[w,...S]=i.end;let E=u;return w&&w.source===x?E=w.offset+w.source.length:(k=a[0].toUpperCase()+a.substring(1),s(u,e?"MISSING_CHAR":"BAD_INDENT",e?k+" must end with a "+x:k+" in block collection must be sufficiently indented and end with a "+x),w&&1!==w.source.length&&S.unshift(w)),0<S.length?((e=no(S,E,r.options.strict,s)).comment&&(c.comment?c.comment+="\n"+e.comment:c.comment=e.comment),c.range=[i.offset,E,e.offset]):c.range=[i.offset,E,E],c}(e,t,n,i)}if(!r)return s;const o=t.directives.tagName(r.source,e=>i(r,"TAG_RESOLVE_FAILED",e));if(!o)return s;var a=s.constructor;if("!"===o||o===a.tagName)return s.tag=a.tagName,s;const c=pi(s)?"map":"seq";let u=t.schema.tags.find(e=>e.collection===c&&e.tag===o);if(!u){a=t.schema.knownTags[o];if(!a||a.collection!==c)return i(r,"TAG_RESOLVE_FAILED","Unresolved tag: "+o,!0),s.tag=o,s;t.schema.tags.push(Object.assign({},a,{default:!1})),u=a}a=u.resolve(s,e=>i(r,"TAG_RESOLVE_FAILED",e),t.options),a=E(a)?a:new A(a);return a.range=s.range,a.tag=o,u?.format&&(a.format=u.format),a}function oo(t,e,r){var n=t.offset,i=function({offset:t,props:n},r,i){if("block-scalar-header"!==n[0].type)return i(n[0],"IMPOSSIBLE","Block scalar header not found"),null;var s=n[0]["source"],e=s[0];let o=0,a="",c=-1;for(let e=1;e<s.length;++e){var u,l=s[e];a||"-"!==l&&"+"!==l?(u=Number(l),!o&&u?o=u:-1===c&&(c=t+e)):a=l}-1!==c&&i(c,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: "+s);let f=!1,h="",d=s.length;for(let e=1;e<n.length;++e){var p=n[e];switch(p.type){case"space":f=!0;case"newline":d+=p.source.length;break;case"comment":r&&!f&&i(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=p.source.length,h=p.source.substring(1);break;case"error":i(p,"UNEXPECTED_TOKEN",p.message),d+=p.source.length;break;default:var m="Unexpected token in block scalar header: "+p.type,m=(i(p,"UNEXPECTED_TOKEN",m),p.source);m&&"string"==typeof m&&(d+=m.length)}}return{mode:e,indent:o,chomp:a,comment:h,length:d}}(t,e,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};var s=">"===i.mode?A.BLOCK_FOLDED:A.BLOCK_LITERAL,o=t.source?function(e){var t=e.split(/\n( *)/),e=t[0],n=e.match(/^( *)/),n=n?.[1]?[n[1],e.slice(n[1].length)]:["",e],r=[n];for(let e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);return r}(t.source):[];let a=o.length;for(let e=o.length-1;0<=e;--e){var c=o[e][1];if(""!==c&&"\r"!==c)break;a=e}if(0===a){const p="+"===i.chomp&&0<o.length?"\n".repeat(Math.max(1,o.length-1)):"";let e=n+i.length;return t.source&&(e+=t.source.length),{value:p,type:s,comment:i.comment,range:[n,e,e]}}let u=t.indent+i.indent,l=t.offset+i.length,f=0;for(let e=0;e<a;++e){var[h,d]=o[e];if(""!==d&&"\r"!==d){h.length<u&&r(l+h.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),0===i.indent&&(u=h.length),f=e;break}0===i.indent&&h.length>u&&(u=h.length),l+=h.length+d.length+1}for(let e=o.length-1;e>=a;--e)o[e][0].length>u&&(a=e+1);let p="",m="",g=!1;for(let e=0;e<f;++e)p+=o[e][0].slice(u)+"\n";for(let n=f;n<a;++n){let[e,t]=o[n];l+=e.length+t.length+1;var y,v="\r"===t[t.length-1];(t=v?t.slice(0,-1):t)&&e.length<u&&(y=i.indent?"explicit indentation indicator":"first line",r(l-t.length-(v?2:1),"BAD_INDENT","Block scalar lines must not be less indented than their "+y),e=""),s===A.BLOCK_LITERAL?(p+=m+e.slice(u)+t,m="\n"):e.length>u||"\t"===t[0]?(" "===m?m="\n":g||"\n"!==m||(m="\n\n"),p+=m+e.slice(u)+t,m="\n",g=!0):""===t?"\n"===m?p+="\n":m="\n":(p+=m+t,m=" ",g=!1)}switch(i.chomp){case"-":break;case"+":for(let e=a;e<o.length;++e)p+="\n"+o[e][0].slice(u);"\n"!==p[p.length-1]&&(p+="\n");break;default:p+="\n"}e=n+i.length+t.source.length;return{value:p,type:s,comment:i.comment,range:[n,e,e]}}function ao(e,t,r){const{offset:i,type:n,source:s,end:o}=e;let a,c;var u=(e,t,n)=>r(i+e,t,n);switch(n){case"scalar":a=A.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n="block scalar indicator "+e[0];break;case"@":case"`":n="reserved character "+e[0]}n&&t(0,"BAD_SCALAR_START","Plain value cannot start with "+n);return co(e)}(s,u);break;case"single-quoted-scalar":a=A.QUOTE_SINGLE,c=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return co(e.slice(1,-1)).replace(/''/g,"'")}(s,u);break;case"double-quoted-scalar":a=A.QUOTE_DOUBLE,c=function(n,r){let i="";for(let t=1;t<n.length-1;++t){var s=n[t];if("\r"!==s||"\n"!==n[t+1])if("\n"===s){var{fold:o,offset:a}=function(e,t){let n="",r=e[t+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==e[t+2]);)"\n"===r&&(n+="\n"),t+=1,r=e[t+1];n=n||" ";return{fold:n,offset:t}}(n,t);i+=o,t=a}else if("\\"===s){let e=n[++t];o=uo[e];if(o)i+=o;else if("\n"===e)for(e=n[t+1];" "===e||"\t"===e;)e=n[++t+1];else if("\r"===e&&"\n"===n[t+1])for(e=n[++t+1];" "===e||"\t"===e;)e=n[++t+1];else"x"===e||"u"===e||"U"===e?(a={x:2,u:4,U:8}[e],i+=function(e,t,n,r){var i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i),s=s?parseInt(i,16):NaN;if(isNaN(s))return i=e.substr(t-2,n+2),r(t-2,"BAD_DQ_ESCAPE","Invalid escape sequence "+i),i;return String.fromCodePoint(s)}(n,t+1,a,r),t+=a):(c=n.substr(t-1,2),r(t-1,"BAD_DQ_ESCAPE","Invalid escape sequence "+c),i+=c)}else if(" "===s||"\t"===s){var c=t;let e=n[t+1];for(;" "===e||"\t"===e;)e=n[++t+1];"\n"===e||"\r"===e&&"\n"===n[t+2]||(i+=t>c?n.slice(c,t+1):s)}else i+=s}'"'===n[n.length-1]&&1!==n.length||r(n.length,"MISSING_CHAR",'Missing closing "quote');return i}(s,u);break;default:return r(e,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: "+n),{value:"",type:null,comment:"",range:[i,i+s.length,i+s.length]}}var l=i+s.length,t=no(o,l,t,r);return{value:c,type:a,comment:t.comment,range:[i,l,t.offset]}}function co(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],s=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)""===r[1]?"\n"===s?i+=s:s="\n":(i+=s+r[1],s=" "),o=n.lastIndex;var a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),i+s+(r?.[1]??"")}const uo={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function lo(t,n,r,i){var{value:s,type:e,comment:o,range:a}=("block-scalar"===n.type?oo:ao)(n,t.options.strict,i),c=r?t.directives.tagName(r.source,e=>i(r,"TAG_RESOLVE_FAILED",e)):null,u=r&&c?function(e,t,n,r,i){if("!"!==n){var s=[];for(const a of e.tags)if(!a.collection&&a.tag===n){if(!a.default||!a.test)return a;s.push(a)}for(const c of s)if(c.test?.test(t))return c;var o=e.knownTags[n];if(o&&!o.collection)return e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o;i(r,"TAG_RESOLVE_FAILED","Unresolved tag: "+n,"tag:yaml.org,2002:str"!==n)}return e[li]}(t.schema,s,c,r,i):"scalar"===n.type?function({directives:e,schema:t},n,r,i){var s=t.tags.find(e=>e.default&&e.test?.test(n))||t[li];{var o;t.compat&&(t=t.compat.find(e=>e.default&&e.test?.test(n))??t[li],s.tag!==t.tag)&&(o=e.tagString(s.tag),e=e.tagString(t.tag),i(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${o} or `+e,!0))}return s}(t,s,n,i):t.schema[li];let l;try{var f=u.resolve(s,e=>i(r??n,"TAG_RESOLVE_FAILED",e),t.options);l=x(f)?f:new A(f)}catch(e){t=e instanceof Error?e.message:String(e);i(r??n,"TAG_RESOLVE_FAILED",t),l=new A(s)}return l.range=a,l.source=s,e&&(l.type=e),c&&(l.tag=c),u.format&&(l.format=u.format),o&&(l.comment=o),l}const fo={composeNode:ho,composeEmptyNode:po};function ho(e,t,n,r){var{spaceBefore:i,comment:s,anchor:o,tag:a}=n;let c,u=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:r},i){var s=new Ai(n.substring(1));""===s.source&&i(t,"BAD_ALIAS","Alias cannot be an empty string");s.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);n=t+n.length,r=no(r,n,e.strict,i);s.range=[t,n,r.offset],r.comment&&(s.comment=r.comment);return s}(e,t,r),(o||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=lo(e,t,a,r),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=so(fo,e,t,a,r),o&&(c.anchor=o.source.substring(1));break;default:r(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=po(e,t.offset,void 0,null,n,r),u=!1}return o&&""===c.anchor&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),s&&("scalar"===t.type&&""===t.source?c.comment=s:c.commentBefore=s),e.options.keepSourceTokens&&u&&(c.srcToken=t),c}function po(e,t,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:c},u){e=lo(e,{type:"scalar",offset:function(n,r,e){if(r)for(let t=(e=null===e?r.length:e)-1;0<=t;--t){let e=r[t];switch(e.type){case"space":case"comment":case"newline":n-=e.source.length;continue}for(e=r[++t];"space"===e?.type;)n+=e.source.length,e=r[++t];break}return n}(t,n,r),indent:-1,source:""},a,u);return o&&(e.anchor=o.source.substring(1),""===e.anchor)&&u(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(e.spaceBefore=!0),s&&(e.comment=s,e.range[2]=c),e}function mo(e){var t;return"number"==typeof e?[e,e+1]:Array.isArray(e)?2===e.length?e:[e[0],e[1]]:({offset:e,source:t}=e,[e,e+("string"==typeof t?t.length:1)])}function go(t){let n="",r=!1,i=!1;for(let e=0;e<t.length;++e){var s=t[e];switch(s[0]){case"#":n+=(""===n?"":i?"\n\n":"\n")+(s.substring(1)||" "),r=!0,i=!1;break;case"%":"#"!==t[e+1]?.[0]&&(e+=1),r=!1;break;default:r||(i=!0),r=!1}}return{comment:n,afterEmptyLine:i}}class yo{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,r)=>{e=mo(e);r?this.warnings.push(new Js(e,t,n)):this.errors.push(new Qs(e,t,n))},this.directives=new d({version:e.version||"1.2"}),this.options=e}decorate(e,t){var{comment:n,afterEmptyLine:r}=go(this.prelude);if(n){var i=e.contents;if(t)e.comment=e.comment?e.comment+`
`+n:n;else if(r||e.directives.docStart||!i)e.commentBefore=n;else if(S(i)&&!i.flow&&0<i.items.length){let e=i.items[0];r=(e=T(e)?e.key:e).commentBefore;e.commentBefore=r?n+`
`+r:n}else{r=i.commentBefore;i.commentBefore=r?n+`
`+r:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:go(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const r of e)yield*this.next(r);yield*this.end(t,n)}*next(i){switch(i.type){case"directive":this.directives.add(i.source,(e,t,n)=>{var r=mo(i);r[0]+=e,this.onError(r,"BAD_DIRECTIVE",t,n)}),this.prelude.push(i.source),this.atDirectives=!0;break;case"document":[e,t,{offset:n,start:r,value:s,end:o},a]=[this.options,this.directives,i,this.onError],t=Object.assign({_directives:t},e),t={atRoot:!0,directives:(e=new Ks(void 0,t)).directives,options:e.options,schema:e.schema},(c=Gs(r,{indicator:"doc-start",next:s??o?.[0],offset:n,onError:a,startOnNewline:!0})).found&&(e.directives.docStart=!0,!s||"block-map"!==s.type&&"block-seq"!==s.type||c.hasNewline||a(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),e.contents=s?ho(t,s,c,a):po(t,c.end,r,null,c,a),s=e.contents.range[2],(t=no(o,s,!1,a)).comment&&(e.comment=t.comment),e.range=[n,s,t.offset];r=e;this.atDirectives&&!r.directives.docStart&&this.onError(i,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break;case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(i.source);break;case"error":c=i.source?i.message+": "+JSON.stringify(i.source):i.message,o=new Qs(mo(i),"UNEXPECTED_TOKEN",c);(this.atDirectives||!this.doc?this:this.doc).errors.push(o);break;case"doc-end":this.doc?(this.doc.directives.docEnd=!0,a=no(i.end,i.offset+i.source.length,this.doc.options.strict,this.onError),this.decorate(this.doc,!0),a.comment&&(n=this.doc.comment,this.doc.comment=n?n+`
`+a.comment:a.comment),this.doc.range[2]=a.offset):this.errors.push(new Qs(mo(i),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break;default:this.errors.push(new Qs(mo(i),"UNEXPECTED_TOKEN","Unsupported token "+i.type))}var e,t,n,r,s,o,a,c}*end(e=!1,t=-1){this.doc?(this.decorate(this.doc,!0),yield this.doc,this.doc=null):e&&(e=Object.assign({_directives:this.directives},this.options),e=new Ks(void 0,e),this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),e.range=[0,t,t],this.decorate(e,!1),yield e)}}function g(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const vo="0123456789ABCDEFabcdef".split(""),bo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),ko=",[]{}".split(""),xo=" ,[]{}\n\r\t".split(""),wo=e=>!e||xo.includes(e);class So{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(t){let n=this.buffer[t];if(0<this.indentNext){let e=0;for(;" "===n;)n=this.buffer[++e+t];if("\r"===n){var r=this.buffer[e+t+1];if("\n"===r||!r&&!this.atEnd)return t+e+1}return"\n"===n||e>=this.indentNext||!n&&!this.atEnd?t+e:-1}if("-"===n||"."===n){r=this.buffer.substr(t,3);if(("---"===r||"..."===r)&&g(this.buffer[t+3]))return-1}return t}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&--e,this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(null===t)return this.setNext("stream");if("\ufeff"===t[0]&&(yield*this.pushCount(1),t=t.substring(1)),"%"===t[0]){let e=t.length;var n=t.indexOf("#");for(-1===n||" "!==(i=t[n-1])&&"\t"!==i||(e=n-1);;){var r=t[e-1];if(" "!==r&&"\t"!==r)break;--e}var i=(yield*this.pushCount(e))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}return this.atLineEnd()?(n=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"):(yield"",yield*this.parseLineStart())}*parseLineStart(){var e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");e=this.peek(3);if("---"===e&&g(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&g(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!g(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){var[e,t]=this.peek(2);return t||this.atEnd?"-"!==e&&"?"!==e&&":"!==e||!g(t)?"doc":(e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()):this.setNext("block-start")}*parseDocument(){yield*this.pushSpaces(!0);var e=this.getLine();if(null===e)return this.setNext("doc");var t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(wo),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t=(t+=yield*this.parseBlockScalarHeader())+(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;for(;0<(e=yield*this.pushNewline())?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,0<e+(t+=yield*this.pushSpaces(!0)););var r=this.getLine();if(null===r)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==r[0]||0===n&&(r.startsWith("---")||r.startsWith("..."))&&g(r[3]))&&!(n===this.indentNext-1&&1===this.flowLevel&&("]"===r[0]||"}"===r[0])))return this.flowLevel=0,yield"",yield*this.parseLineStart();let i=0;for(;","===r[i];)i=(i+=yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(r[i+=yield*this.pushIndicators()]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,--this.flowLevel,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(wo),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":var s=this.charAt(1);if(this.flowKey||g(s)||","===s)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow";default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){var e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}var n=this.buffer.substring(0,t);let r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){var i=this.continueScalar(r+1);if(-1===i)break;r=n.indexOf("\n",i)}-1!==r&&(t=r-("\r"===n[r-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){var t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if("0"<t&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil(e=>g(e)||"#"===e)}*parseBlockScalar(){let n=this.pos-1,r=0,t;e:for(let e=this.pos;t=this.buffer[e];++e)switch(t){case" ":r+=1;break;case"\n":n=e,r=0;break;case"\r":var i=this.buffer[e+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if("\n"===i)break;default:break e}if(!t&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{var e=this.continueScalar(n+1);if(-1===e)break;n=this.buffer.indexOf("\n",e)}while(-1!==n);if(-1===n){if(!this.atEnd)return this.setNext("block-scalar");n=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=n-1,t=this.buffer[e];"\r"===t&&(t=this.buffer[--e]);for(var s=e;" "===t||"\t"===t;)t=this.buffer[--e];if(!("\n"===t&&e>=this.pos&&e+1+r>s))break;n=e}return yield"",yield*this.pushToIndex(n+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){var t=0<this.flowLevel;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(":"===i){var s=this.buffer[r+1];if(g(s)||t&&","===s)break;n=r}else if(g(i)){let e=this.buffer[r+1];if("\r"===i&&("\n"===e?(r+=1,i="\n",e=this.buffer[r+1]):n=r),"#"===e||t&&ko.includes(e))break;if("\n"===i){s=this.continueScalar(r+1);if(-1===s)break;r=Math.max(r,s-2)}}else{if(t&&ko.includes(i))break;n=r}return i||this.atEnd?(yield"",yield*this.pushToIndex(n+1,!0),t?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return 0<e?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){e=this.buffer.slice(this.pos,e);return e?(yield e,this.pos+=e.length,e.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(wo))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":var e=0<this.flowLevel,t=this.charAt(1);if(g(t)||e&&ko.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!g(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(bo.includes(t))t=this.buffer[++e];else{if("%"!==t||!vo.includes(this.buffer[e+1])||!vo.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){var e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1;for(var n;" "===(n=this.buffer[++t])||e&&"\t"===n;);var r=t-this.pos;return 0<r&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Eo{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){var r=t+n>>1;this.lineStarts[r]<e?t=1+r:n=r}var i;return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:(i=this.lineStarts[t-1],{line:t,col:e-i+1})}}}function y(t,n){for(let e=0;e<t.length;++e)if(t[e].type===n)return 1}function Ao(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Co(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return 1;default:return}}function To(e){switch(e.type){case"document":return e.start;case"block-map":var t=e.items[e.items.length-1];return t.sep??t.start;case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Io(e){if(0===e.length)return[];let t=e.length;e:for(;0<=--t;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function Fo(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||y(t.start,"explicit-key-ind")||y(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,Co(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Oo{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new So,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)this.atScalar=!1,yield*this.step(),this.offset+=e.length;else{var t=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else yield*this.pop({type:"error",offset:this.offset,message:"Not a YAML token: "+e,source:e}),this.offset+=e.length}}*end(){for(;0<this.stack.length;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){var e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;0<this.stack.length;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{var n=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in n?n.indent:0:"flow-collection"===t.type&&"document"===n.type&&(t.indent=0),"flow-collection"===t.type&&Fo(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":var r=n.items[n.items.length-1];if(r.value)return n.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!r.sep)return Object.assign(r,{key:t,sep:[]}),void(this.onKeyLine=!y(r.start,"explicit-key-ind"));r.value=t;break;case"block-seq":r=n.items[n.items.length-1];r.value?n.items.push({start:[],value:t}):r.value=t;break;case"flow-collection":r=n.items[n.items.length-1];return void(!r||r.value?n.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]}));default:yield*this.pop(),yield*this.pop(t)}"document"!==n.type&&"block-map"!==n.type&&"block-seq"!==n.type||"block-map"!==t.type&&"block-seq"!==t.type||(e=t.items[t.items.length-1])&&!e.sep&&!e.value&&0<e.start.length&&-1===Ao(e.start)&&(0===t.indent||e.start.every(e=>"comment"!==e.type||e.indent<t.indent))&&("document"===n.type?n.end=e.start:n.items.push({start:e.start}),t.items.splice(-1,1))}else yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":var e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==Ao(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}var t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if("map-value-ind"===this.type){var n=Io(To(this.peek(2)));let e;t.end?((e=t.end).push(this.sourceToken),delete t.end):e=[this.sourceToken];n={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:e}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=n}else yield*this.lineEnd(t)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var n=t.items[t.items.length-1];switch(this.type){case"newline":return this.onKeyLine=!1,void(n.value?(e="end"in n.value?n.value.end:void 0,"comment"===(Array.isArray(e)?e[e.length-1]:void 0)?.type?e?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})):(n.sep||n.start).push(this.sourceToken));case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){var e=t.items[t.items.length-2]?.value?.end;if(Array.isArray(e))return Array.prototype.push.apply(e,n.start),e.push(this.sourceToken),void t.items.pop()}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){var r,i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let e=[];if(i&&n.sep&&!n.value){var s=[];for(let e=0;e<n.sep.length;++e){var o=n.sep[e];switch(o.type){case"newline":s.push(e);break;case"space":break;case"comment":o.indent>t.indent&&(s.length=0);break;default:s.length=0}}2<=s.length&&(e=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":return void(i||n.value?(e.push(this.sourceToken),t.items.push({start:e}),this.onKeyLine=!0):(n.sep||n.start).push(this.sourceToken));case"explicit-key-ind":return n.sep||y(n.start,"explicit-key-ind")?i||n.value?(e.push(this.sourceToken),t.items.push({start:e})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):n.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":return y(n.start,"explicit-key-ind")?n.sep?n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):y(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]}):Co(n.key)&&!y(n.sep,"newline")?(r=Io(n.start),a=n.key,(c=n.sep).push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:a,sep:c}]})):0<e.length?n.sep=n.sep.concat(e,this.sourceToken):n.sep.push(this.sourceToken):y(n.start,"newline")?Object.assign(n,{key:null,sep:[this.sourceToken]}):(r=Io(n.start),this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]})):n.sep?n.value||i?t.items.push({start:e,key:null,sep:[this.sourceToken]}):y(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]}),void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var a=this.flowScalar(this.type);return void(i||n.value?(t.items.push({start:e,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0));default:var c=this.startBlockValue(t);if(c)return i&&"block-seq"!==c.type&&y(n.start,"explicit-key-ind")&&t.items.push({start:e}),void this.stack.push(c)}}yield*this.pop(),yield*this.step()}*blockSequence(e){var t=e.items[e.items.length-1];switch(this.type){case"newline":return void(t.value?(n="end"in t.value?t.value.end:void 0,"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})):t.start.push(this.sourceToken));case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){var n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||y(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){var r=this.startBlockValue(e);if(r)return void this.stack.push(r)}yield*this.pop(),yield*this.step()}*flowCollection(e){var t,n=e.items[e.items.length-1];if("flow-error-end"===this.type)for(;yield*this.pop(),(t=this.peek(1))&&"flow-collection"===t.type;);else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken));case"map-value-ind":return void(!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!n||n.value?e.items.push({start:[this.sourceToken]}):(n.sep||n.start).push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var r=this.flowScalar(this.type);return void(!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]}));case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}var i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{var s,i=this.peek(2);"block-map"===i.type&&("map-value-ind"===this.type&&i.indent===e.indent||"newline"===this.type&&!i.items[i.items.length-1].sep)?(yield*this.pop(),yield*this.step()):"map-value-ind"===this.type&&"flow-collection"!==i.type?(i=Io(To(i)),Fo(e),(s=e.end.splice(1,e.end.length)).push(this.sourceToken),i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:s}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=i):yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":this.onKeyLine=!0;var t=Io(To(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]};case"map-value-ind":this.onKeyLine=!0;t=Io(To(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every(e=>"newline"===e.type||"space"===e.type)}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type)&&(yield*this.pop())}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Lo(e,t={}){n=!1!==t.prettyErrors;var{lineCounter:n,prettyErrors:r}={lineCounter:t.lineCounter||n&&new Eo||null,prettyErrors:n},i=new Oo(n?.addNewLine);let s=null;for(const o of new yo(t).compose(i.parse(e),!0,e.length))if(s){if("silent"!==s.options.logLevel){s.errors.push(new Qs(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else s=o;return r&&n&&(s.errors.forEach(Ys(e,n)),s.warnings.forEach(Ys(e,n))),s}function No(e,t,n){let r=void 0;"function"==typeof t?r=t:void 0===n&&t&&"object"==typeof t&&(n=t);const i=Lo(e,n);if(!i)return null;if(i.warnings.forEach(e=>Qi(i.options.logLevel,e)),0<i.errors.length){if("silent"!==i.options.logLevel)throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function Do(e,t){return e}function _o(e){this.Compiler=Do}function Mo(t,n,r){var i=/[^\t\n\f />"'=]/,s=[];let o="",a="",c=!0,u=!1;for(let e=n+r.leftDelimiter.length;e<t.length;e++){if(t.slice(e,e+r.rightDelimiter.length)===r.rightDelimiter){""!==o&&s.push([o,a]);break}var l=t.charAt(e);"="===l&&c?c=!1:"."===l&&""===o?("."===t.charAt(e+1)?(o="css-module",e+=1):o="class",c=!1):"#"===l&&""===o?(o="id",c=!1):'"'===l&&""===a?u=!0:'"'===l&&u?u=!1:" "!==l||u?c&&-1===l.search(i)||(c?o+=l:a+=l):""!==o&&(s.push([o,a]),o="",a="",c=!0)}if(r.allowedAttributes&&r.allowedAttributes.length){const f=r.allowedAttributes;return s.filter(function(e){const t=e[0];return f.some(function(e){return t===e||e instanceof RegExp&&e.test(t)})})}return s}function jo(){return function(e,t){zr(e,"code",(e,t,n)=>{var r=e.meta;e.attributes=function(e){const t={};var n,r;return e&&(r=e.lastIndexOf((n={leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:[]}).leftDelimiter),Mo(e,r,n).forEach(e=>{t[e[0]]=e[1]})),t}(r)})}}_o.Compiler=Do;const Bo={gfm:!0,math:!1,plugins:[]};return function(e,t=Bo){var t={DEFAULT_OPTIONS:Bo,...t},n=[];return n.push([Ct]),t.math&&n.push([Pr]),n.push([bn]),n.push([qr]),n.push([ii,["yaml"]]),n.push([si,{yaml:No}]),n.push([jo]),t.gfm&&n.push([Or]),t.plugins&&0<t.plugins.length&&n.push(t.plugins),(n=(t=ce().use(n).use(_o).processSync(e)).result)&&n.children&&n.children[0]&&"yaml"===n.children[0].type&&(n.children[0].data=t.data),t.result}});
