/* esm.sh - esbuild bundle(tiny-request-router@1.2.2) es2022 production */
var o=function(){return o=Object.assign||function(n){for(var e,r=1,f=arguments.length;r<f;r++){e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},o.apply(this,arguments)};function H(i){for(var n=[],e=0;e<i.length;){var r=i[e];if(r==="*"||r==="+"||r==="?"){n.push({type:"MODIFIER",index:e,value:i[e++]});continue}if(r==="\\"){n.push({type:"ESCAPED_CHAR",index:e++,value:i[e++]});continue}if(r==="{"){n.push({type:"OPEN",index:e,value:i[e++]});continue}if(r==="}"){n.push({type:"CLOSE",index:e,value:i[e++]});continue}if(r===":"){for(var f="",t=e+1;t<i.length;){var a=i.charCodeAt(t);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){f+=i[t++];continue}break}if(!f)throw new TypeError("Missing parameter name at "+e);n.push({type:"NAME",index:e,value:f}),e=t;continue}if(r==="("){var l=1,h="",t=e+1;if(i[t]==="?")throw new TypeError('Pattern cannot start with "?" at '+t);for(;t<i.length;){if(i[t]==="\\"){h+=i[t++]+i[t++];continue}if(i[t]===")"){if(l--,l===0){t++;break}}else if(i[t]==="("&&(l++,i[t+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+t);h+=i[t++]}if(l)throw new TypeError("Unbalanced pattern at "+e);if(!h)throw new TypeError("Missing pattern at "+e);n.push({type:"PATTERN",index:e,value:h}),e=t;continue}n.push({type:"CHAR",index:e,value:i[e++]})}return n.push({type:"END",index:e,value:""}),n}function M(i,n){n===void 0&&(n={});for(var e=H(i),r=n.prefixes,f=r===void 0?"./":r,t="[^"+T(n.delimiter||"/#?")+"]+?",a=[],l=0,h=0,d="",v=function(c){if(h<e.length&&e[h].type===c)return e[h++].value},x=function(c){var A=v(c);if(A!==void 0)return A;var P=e[h],N=P.type,D=P.index;throw new TypeError("Unexpected "+N+" at "+D+", expected "+c)},y=function(){for(var c="",A;A=v("CHAR")||v("ESCAPED_CHAR");)c+=A;return c};h<e.length;){var p=v("CHAR"),m=v("NAME"),w=v("PATTERN");if(m||w){var u=p||"";f.indexOf(u)===-1&&(d+=u,u=""),d&&(a.push(d),d=""),a.push({name:m||l++,prefix:u,suffix:"",pattern:w||t,modifier:v("MODIFIER")||""});continue}var s=p||v("ESCAPED_CHAR");if(s){d+=s;continue}d&&(a.push(d),d="");var E=v("OPEN");if(E){var u=y(),R=v("NAME")||"",g=v("PATTERN")||"",C=y();x("CLOSE"),a.push({name:R||(g?l++:""),pattern:R&&!g?t:g,prefix:u,suffix:C,modifier:v("MODIFIER")||""});continue}x("END")}return a}function T(i){return i.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function O(i){return i&&i.sensitive?"":"i"}function S(i,n){if(!n)return i;var e=i.source.match(/\((?!\?)/g);if(e)for(var r=0;r<e.length;r++)n.push({name:r,prefix:"",suffix:"",modifier:"",pattern:""});return i}function I(i,n,e){var r=i.map(function(f){return _(f,n,e).source});return new RegExp("(?:"+r.join("|")+")",O(e))}function L(i,n,e){return b(M(i,e),n,e)}function b(i,n,e){e===void 0&&(e={});for(var r=e.strict,f=r===void 0?!1:r,t=e.start,a=t===void 0?!0:t,l=e.end,h=l===void 0?!0:l,d=e.encode,v=d===void 0?function(c){return c}:d,x="["+T(e.endsWith||"")+"]|$",y="["+T(e.delimiter||"/#?")+"]",p=a?"^":"",m=0,w=i;m<w.length;m++){var u=w[m];if(typeof u=="string")p+=T(v(u));else{var s=T(v(u.prefix)),E=T(v(u.suffix));if(u.pattern)if(n&&n.push(u),s||E)if(u.modifier==="+"||u.modifier==="*"){var R=u.modifier==="*"?"?":"";p+="(?:"+s+"((?:"+u.pattern+")(?:"+E+s+"(?:"+u.pattern+"))*)"+E+")"+R}else p+="(?:"+s+"("+u.pattern+")"+E+")"+u.modifier;else p+="("+u.pattern+")"+u.modifier;else p+="(?:"+s+E+")"+u.modifier}}if(h)f||(p+=y+"?"),p+=e.endsWith?"(?="+x+")":"$";else{var g=i[i.length-1],C=typeof g=="string"?y.indexOf(g[g.length-1])>-1:g===void 0;f||(p+="(?:"+y+"(?="+x+"))?"),C||(p+="(?="+y+"|"+x+")")}return new RegExp(p,O(e))}function _(i,n,e){return i instanceof RegExp?S(i,n):Array.isArray(i)?I(i,n,e):L(i,n,e)}var F=function(){function i(){this.routes=[]}return i.prototype.all=function(n,e,r){return r===void 0&&(r={}),this._push("ALL",n,e,r)},i.prototype.get=function(n,e,r){return r===void 0&&(r={}),this._push("GET",n,e,r)},i.prototype.post=function(n,e,r){return r===void 0&&(r={}),this._push("POST",n,e,r)},i.prototype.put=function(n,e,r){return r===void 0&&(r={}),this._push("PUT",n,e,r)},i.prototype.patch=function(n,e,r){return r===void 0&&(r={}),this._push("PATCH",n,e,r)},i.prototype.delete=function(n,e,r){return r===void 0&&(r={}),this._push("DELETE",n,e,r)},i.prototype.head=function(n,e,r){return r===void 0&&(r={}),this._push("HEAD",n,e,r)},i.prototype.options=function(n,e,r){return r===void 0&&(r={}),this._push("OPTIONS",n,e,r)},i.prototype.match=function(n,e){for(var r=0,f=this.routes;r<f.length;r++){var t=f[r];if(!(t.method!==n&&t.method!=="ALL")){if(t.path==="(.*)")return o(o({},t),{params:{0:t.path}});if(t.path==="/"&&t.options.end===!1)return o(o({},t),{params:{}});var a=t.regexp.exec(e);if(!(!a||!a.length))return o(o({},t),{matches:a,params:$(a,t.keys)})}}return null},i.prototype._push=function(n,e,r,f){var t=[];e==="*"&&(e="(.*)");var a=_(e,t,f);return this.routes.push({method:n,path:e,handler:r,keys:t,options:f,regexp:a}),this},i}(),$=function(i,n){for(var e={},r=1;r<i.length;r++){var f=n[r-1],t=f.name,a=i[r];a!==void 0&&(e[t]=a)}return e};export{F as Router,_ as pathToRegexp};
/*!
 * tiny-request-router v1.2.2 by berstend
 * https://github.com/berstend/tiny-request-router#readme
 * @license MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
