/* esm.sh - esbuild bundle(astring@1.8.3) es2022 production */var{stringify:I}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var y={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},u=17,M={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:u,ClassExpression:u,FunctionExpression:u,ObjectExpression:u,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function f(e,i){let{generator:r}=e;if(e.write("("),i!=null&&i.length>0){r[i[0].type](i[0],e);let{length:t}=i;for(let n=1;n<t;n++){let l=i[n];e.write(", "),r[l.type](l,e)}}e.write(")")}function D(e,i,r,t){let n=e.expressionsPrecedence[i.type];if(n===u)return!0;let l=e.expressionsPrecedence[r.type];return n!==l?!t&&n===15&&l===14&&r.operator==="**"||n<l:n!==13&&n!==14?!1:i.operator==="**"&&r.operator==="**"?!t:t?y[i.operator]<=y[r.operator]:y[i.operator]<y[r.operator]}function a(e,i,r,t){let{generator:n}=e;D(e,i,r,t)?(e.write("("),n[i.type](i,e),e.write(")")):n[i.type](i,e)}function q(e,i,r,t){let n=i.split(`
`),l=n.length-1;if(e.write(n[0].trim()),l>0){e.write(t);for(let s=1;s<l;s++)e.write(r+n[s].trim()+t);e.write(r+n[l].trim())}}function w(e,i,r,t){let{length:n}=i;for(let l=0;l<n;l++){let s=i[l];e.write(r),s.type[0]==="L"?e.write("// "+s.value.trim()+`
`,s):(e.write("/*"),q(e,s.value,r,t),e.write("*/"+t))}}function O(e){let i=e;for(;i!=null;){let{type:r}=i;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")i=i.object;else return!1}}function x(e,i){let{generator:r}=e,{declarations:t}=i;e.write(i.kind+" ");let{length:n}=t;if(n>0){r.VariableDeclarator(t[0],e);for(let l=1;l<n;l++)e.write(", "),r.VariableDeclarator(t[l],e)}}var S,C,P,v,k,L,T={Program(e,i){let r=i.indent.repeat(i.indentLevel),{lineEnd:t,writeComments:n}=i;n&&e.comments!=null&&w(i,e.comments,r,t);let l=e.body,{length:s}=l;for(let p=0;p<s;p++){let c=l[p];n&&c.comments!=null&&w(i,c.comments,r,t),i.write(r),this[c.type](c,i),i.write(t)}n&&e.trailingComments!=null&&w(i,e.trailingComments,r,t)},BlockStatement:L=function(e,i){let r=i.indent.repeat(i.indentLevel++),{lineEnd:t,writeComments:n}=i,l=r+i.indent;i.write("{");let s=e.body;if(s!=null&&s.length>0){i.write(t),n&&e.comments!=null&&w(i,e.comments,l,t);let{length:p}=s;for(let c=0;c<p;c++){let o=s[c];n&&o.comments!=null&&w(i,o.comments,l,t),i.write(l),this[o.type](o,i),i.write(t)}i.write(r)}else n&&e.comments!=null&&(i.write(t),w(i,e.comments,l,t),i.write(r));n&&e.trailingComments!=null&&w(i,e.trailingComments,l,t),i.write("}"),i.indentLevel--},ClassBody:L,StaticBlock(e,i){i.write("static "),this.BlockStatement(e,i)},EmptyStatement(e,i){i.write(";")},ExpressionStatement(e,i){let r=i.expressionsPrecedence[e.expression.type];r===u||r===3&&e.expression.left.type[0]==="O"?(i.write("("),this[e.expression.type](e.expression,i),i.write(")")):this[e.expression.type](e.expression,i),i.write(";")},IfStatement(e,i){i.write("if ("),this[e.test.type](e.test,i),i.write(") "),this[e.consequent.type](e.consequent,i),e.alternate!=null&&(i.write(" else "),this[e.alternate.type](e.alternate,i))},LabeledStatement(e,i){this[e.label.type](e.label,i),i.write(": "),this[e.body.type](e.body,i)},BreakStatement(e,i){i.write("break"),e.label!=null&&(i.write(" "),this[e.label.type](e.label,i)),i.write(";")},ContinueStatement(e,i){i.write("continue"),e.label!=null&&(i.write(" "),this[e.label.type](e.label,i)),i.write(";")},WithStatement(e,i){i.write("with ("),this[e.object.type](e.object,i),i.write(") "),this[e.body.type](e.body,i)},SwitchStatement(e,i){let r=i.indent.repeat(i.indentLevel++),{lineEnd:t,writeComments:n}=i;i.indentLevel++;let l=r+i.indent,s=l+i.indent;i.write("switch ("),this[e.discriminant.type](e.discriminant,i),i.write(") {"+t);let{cases:p}=e,{length:c}=p;for(let o=0;o<c;o++){let m=p[o];n&&m.comments!=null&&w(i,m.comments,l,t),m.test?(i.write(l+"case "),this[m.test.type](m.test,i),i.write(":"+t)):i.write(l+"default:"+t);let{consequent:b}=m,{length:A}=b;for(let g=0;g<A;g++){let h=b[g];n&&h.comments!=null&&w(i,h.comments,s,t),i.write(s),this[h.type](h,i),i.write(t)}}i.indentLevel-=2,i.write(r+"}")},ReturnStatement(e,i){i.write("return"),e.argument&&(i.write(" "),this[e.argument.type](e.argument,i)),i.write(";")},ThrowStatement(e,i){i.write("throw "),this[e.argument.type](e.argument,i),i.write(";")},TryStatement(e,i){if(i.write("try "),this[e.block.type](e.block,i),e.handler){let{handler:r}=e;r.param==null?i.write(" catch "):(i.write(" catch ("),this[r.param.type](r.param,i),i.write(") ")),this[r.body.type](r.body,i)}e.finalizer&&(i.write(" finally "),this[e.finalizer.type](e.finalizer,i))},WhileStatement(e,i){i.write("while ("),this[e.test.type](e.test,i),i.write(") "),this[e.body.type](e.body,i)},DoWhileStatement(e,i){i.write("do "),this[e.body.type](e.body,i),i.write(" while ("),this[e.test.type](e.test,i),i.write(");")},ForStatement(e,i){if(i.write("for ("),e.init!=null){let{init:r}=e;r.type[0]==="V"?x(i,r):this[r.type](r,i)}i.write("; "),e.test&&this[e.test.type](e.test,i),i.write("; "),e.update&&this[e.update.type](e.update,i),i.write(") "),this[e.body.type](e.body,i)},ForInStatement:S=function(e,i){i.write(`for ${e.await?"await ":""}(`);let{left:r}=e;r.type[0]==="V"?x(i,r):this[r.type](r,i),i.write(e.type[3]==="I"?" in ":" of "),this[e.right.type](e.right,i),i.write(") "),this[e.body.type](e.body,i)},ForOfStatement:S,DebuggerStatement(e,i){i.write("debugger;",e)},FunctionDeclaration:C=function(e,i){i.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),f(i,e.params),i.write(" "),this[e.body.type](e.body,i)},FunctionExpression:C,VariableDeclaration(e,i){x(i,e),i.write(";")},VariableDeclarator(e,i){this[e.id.type](e.id,i),e.init!=null&&(i.write(" = "),this[e.init.type](e.init,i))},ClassDeclaration(e,i){if(i.write("class "+(e.id?`${e.id.name} `:""),e),e.superClass){i.write("extends ");let{superClass:r}=e,{type:t}=r,n=i.expressionsPrecedence[t];(t[0]!=="C"||t[1]!=="l"||t[5]!=="E")&&(n===u||n<i.expressionsPrecedence.ClassExpression)?(i.write("("),this[e.superClass.type](r,i),i.write(")")):this[r.type](r,i),i.write(" ")}this.ClassBody(e.body,i)},ImportDeclaration(e,i){i.write("import ");let{specifiers:r}=e,{length:t}=r,n=0;if(t>0){for(;n<t;){n>0&&i.write(", ");let l=r[n],s=l.type[6];if(s==="D")i.write(l.local.name,l),n++;else if(s==="N")i.write("* as "+l.local.name,l),n++;else break}if(n<t){for(i.write("{");;){let l=r[n],{name:s}=l.imported;if(i.write(s,l),s!==l.local.name&&i.write(" as "+l.local.name),++n<t)i.write(", ");else break}i.write("}")}i.write(" from ")}this.Literal(e.source,i),i.write(";")},ImportExpression(e,i){i.write("import("),this[e.source.type](e.source,i),i.write(")")},ExportDefaultDeclaration(e,i){i.write("export default "),this[e.declaration.type](e.declaration,i),i.expressionsPrecedence[e.declaration.type]!=null&&e.declaration.type[0]!=="F"&&i.write(";")},ExportNamedDeclaration(e,i){if(i.write("export "),e.declaration)this[e.declaration.type](e.declaration,i);else{i.write("{");let{specifiers:r}=e,{length:t}=r;if(t>0)for(let n=0;;){let l=r[n],{name:s}=l.local;if(i.write(s,l),s!==l.exported.name&&i.write(" as "+l.exported.name),++n<t)i.write(", ");else break}i.write("}"),e.source&&(i.write(" from "),this.Literal(e.source,i)),i.write(";")}},ExportAllDeclaration(e,i){e.exported!=null?i.write("export * as "+e.exported.name+" from "):i.write("export * from "),this.Literal(e.source,i),i.write(";")},MethodDefinition(e,i){e.static&&i.write("static ");let r=e.kind[0];(r==="g"||r==="s")&&i.write(e.kind+" "),e.value.async&&i.write("async "),e.value.generator&&i.write("*"),e.computed?(i.write("["),this[e.key.type](e.key,i),i.write("]")):this[e.key.type](e.key,i),f(i,e.value.params),i.write(" "),this[e.value.body.type](e.value.body,i)},ClassExpression(e,i){this.ClassDeclaration(e,i)},ArrowFunctionExpression(e,i){i.write(e.async?"async ":"",e);let{params:r}=e;r!=null&&(r.length===1&&r[0].type[0]==="I"?i.write(r[0].name,r[0]):f(i,e.params)),i.write(" => "),e.body.type[0]==="O"?(i.write("("),this.ObjectExpression(e.body,i),i.write(")")):this[e.body.type](e.body,i)},ThisExpression(e,i){i.write("this",e)},Super(e,i){i.write("super",e)},RestElement:P=function(e,i){i.write("..."),this[e.argument.type](e.argument,i)},SpreadElement:P,YieldExpression(e,i){i.write(e.delegate?"yield*":"yield"),e.argument&&(i.write(" "),this[e.argument.type](e.argument,i))},AwaitExpression(e,i){i.write("await ",e),a(i,e.argument,e)},TemplateLiteral(e,i){let{quasis:r,expressions:t}=e;i.write("`");let{length:n}=t;for(let s=0;s<n;s++){let p=t[s],c=r[s];i.write(c.value.raw,c),i.write("${"),this[p.type](p,i),i.write("}")}let l=r[r.length-1];i.write(l.value.raw,l),i.write("`")},TemplateElement(e,i){i.write(e.value.raw,e)},TaggedTemplateExpression(e,i){a(i,e.tag,e),this[e.quasi.type](e.quasi,i)},ArrayExpression:k=function(e,i){if(i.write("["),e.elements.length>0){let{elements:r}=e,{length:t}=r;for(let n=0;;){let l=r[n];if(l!=null&&this[l.type](l,i),++n<t)i.write(", ");else{l==null&&i.write(", ");break}}}i.write("]")},ArrayPattern:k,ObjectExpression(e,i){let r=i.indent.repeat(i.indentLevel++),{lineEnd:t,writeComments:n}=i,l=r+i.indent;if(i.write("{"),e.properties.length>0){i.write(t),n&&e.comments!=null&&w(i,e.comments,l,t);let s=","+t,{properties:p}=e,{length:c}=p;for(let o=0;;){let m=p[o];if(n&&m.comments!=null&&w(i,m.comments,l,t),i.write(l),this[m.type](m,i),++o<c)i.write(s);else break}i.write(t),n&&e.trailingComments!=null&&w(i,e.trailingComments,l,t),i.write(r+"}")}else n?e.comments!=null?(i.write(t),w(i,e.comments,l,t),e.trailingComments!=null&&w(i,e.trailingComments,l,t),i.write(r+"}")):e.trailingComments!=null?(i.write(t),w(i,e.trailingComments,l,t),i.write(r+"}")):i.write("}"):i.write("}");i.indentLevel--},Property(e,i){e.method||e.kind[0]!=="i"?this.MethodDefinition(e,i):(e.shorthand||(e.computed?(i.write("["),this[e.key.type](e.key,i),i.write("]")):this[e.key.type](e.key,i),i.write(": ")),this[e.value.type](e.value,i))},PropertyDefinition(e,i){e.static&&i.write("static "),this[e.key.type](e.key,i),e.value!=null&&(i.write(" = "),this[e.value.type](e.value,i))},ObjectPattern(e,i){if(i.write("{"),e.properties.length>0){let{properties:r}=e,{length:t}=r;for(let n=0;this[r[n].type](r[n],i),++n<t;)i.write(", ")}i.write("}")},SequenceExpression(e,i){f(i,e.expressions)},UnaryExpression(e,i){if(e.prefix){let{operator:r,argument:t,argument:{type:n}}=e;i.write(r);let l=D(i,t,e);!l&&(r.length>1||n[0]==="U"&&(n[1]==="n"||n[1]==="p")&&t.prefix&&t.operator[0]===r&&(r==="+"||r==="-"))&&i.write(" "),l?(i.write(r.length>1?" (":"("),this[n](t,i),i.write(")")):this[n](t,i)}else this[e.argument.type](e.argument,i),i.write(e.operator)},UpdateExpression(e,i){e.prefix?(i.write(e.operator),this[e.argument.type](e.argument,i)):(this[e.argument.type](e.argument,i),i.write(e.operator))},AssignmentExpression(e,i){this[e.left.type](e.left,i),i.write(" "+e.operator+" "),this[e.right.type](e.right,i)},AssignmentPattern(e,i){this[e.left.type](e.left,i),i.write(" = "),this[e.right.type](e.right,i)},BinaryExpression:v=function(e,i){let r=e.operator==="in";r&&i.write("("),a(i,e.left,e,!1),i.write(" "+e.operator+" "),a(i,e.right,e,!0),r&&i.write(")")},LogicalExpression:v,ConditionalExpression(e,i){let{test:r}=e,t=i.expressionsPrecedence[r.type];t===u||t<=i.expressionsPrecedence.ConditionalExpression?(i.write("("),this[r.type](r,i),i.write(")")):this[r.type](r,i),i.write(" ? "),this[e.consequent.type](e.consequent,i),i.write(" : "),this[e.alternate.type](e.alternate,i)},NewExpression(e,i){i.write("new ");let r=i.expressionsPrecedence[e.callee.type];r===u||r<i.expressionsPrecedence.CallExpression||O(e.callee)?(i.write("("),this[e.callee.type](e.callee,i),i.write(")")):this[e.callee.type](e.callee,i),f(i,e.arguments)},CallExpression(e,i){let r=i.expressionsPrecedence[e.callee.type];r===u||r<i.expressionsPrecedence.CallExpression?(i.write("("),this[e.callee.type](e.callee,i),i.write(")")):this[e.callee.type](e.callee,i),e.optional&&i.write("?."),f(i,e.arguments)},ChainExpression(e,i){this[e.expression.type](e.expression,i)},MemberExpression(e,i){let r=i.expressionsPrecedence[e.object.type];r===u||r<i.expressionsPrecedence.MemberExpression?(i.write("("),this[e.object.type](e.object,i),i.write(")")):this[e.object.type](e.object,i),e.computed?(e.optional&&i.write("?."),i.write("["),this[e.property.type](e.property,i),i.write("]")):(e.optional?i.write("?."):i.write("."),this[e.property.type](e.property,i))},MetaProperty(e,i){i.write(e.meta.name+"."+e.property.name,e)},Identifier(e,i){i.write(e.name,e)},PrivateIdentifier(e,i){i.write(`#${e.name}`,e)},Literal(e,i){e.raw!=null?i.write(e.raw,e):e.regex!=null?this.RegExpLiteral(e,i):e.bigint!=null?i.write(e.bigint+"n",e):i.write(I(e.value),e)},RegExpLiteral(e,i){let{regex:r}=e;i.write(`/${r.pattern}/${r.flags}`,e)}},j={},R=T,E=class{constructor(i){let r=i??j;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:T,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:M,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(i){this.output+=i}writeToStream(i){this.output.write(i)}writeAndMap(i,r){this.output+=i,this.map(i,r)}writeToStreamAndMap(i,r){this.output.write(i),this.map(i,r)}map(i,r){if(r!=null){let{type:l}=r;if(l[0]==="L"&&l[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){let{mapping:s}=this;s.original=r.loc.start,s.name=r.name,this.sourceMap.addMapping(s)}if(l[0]==="T"&&l[8]==="E"||l[0]==="L"&&l[1]==="i"&&typeof r.value=="string"){let{length:s}=i,{column:p,line:c}=this;for(let o=0;o<s;o++)i[o]===`
`?(p=0,c++):p++;this.column=p,this.line=c;return}}let{length:t}=i,{lineEnd:n}=this;t>0&&(this.lineEndSize>0&&(n.length===1?i[t-1]===n:i.endsWith(n))?(this.line+=this.lineEndSize,this.column=0):this.column+=t)}toString(){return this.output}};function B(e,i){let r=new E(i);return r.generator[e.type](e,r),r.output}export{M as EXPRESSIONS_PRECEDENCE,T as GENERATOR,u as NEEDS_PARENTHESES,R as baseGenerator,B as generate};