/* esm.sh - esbuild bundle(@mdx-js/mdx@2.2.1) es2022 production */import{unified as Se}from"/cdn/v99/unified@10.1.2/es2022/unified.js";import ve from"/cdn/v99/remark-mdx@2.2.1/es2022/remark-mdx.js";import De from"/cdn/v99/remark-parse@10.0.1/es2022/remark-parse.js";import we from"/cdn/v99/remark-rehype@10.1.0/es2022/remark-rehype.js";import{buildJsx as me}from"/cdn/v99/estree-util-build-jsx@2.2.0/es2022/estree-util-build-jsx.js";function M(e,t){let r=["start","end","loc","range","comments"],n=-1;for(;++n<r.length;){let p=r[n];p in e&&(t[p]=e[p])}return t}function C(e,t){let r=-1,n=[],p=[],f;for(;++r<e.length;){let c=e[r];c.type==="ImportNamespaceSpecifier"?f=c:p.push(c)}return f&&n.push(M(f,{type:"VariableDeclarator",id:f.local,init:t})),n.push({type:"VariableDeclarator",id:{type:"ObjectPattern",properties:p.map(c=>{let y=c.type==="ImportSpecifier"?c.imported:c.type==="ExportSpecifier"?c.exported:{type:"Identifier",name:"default"},d=c.local;return c.type==="ExportSpecifier"&&(d=y,y=c.local),M(c,{type:"Property",kind:"init",shorthand:y.name===d.name,method:!1,computed:!1,key:y,value:d})})},init:f?{type:"Identifier",name:f.local.name}:t}),n}import{start as ae,cont as pe,name as se}from"/cdn/v99/estree-util-is-identifier-name@2.0.1/es2022/estree-util-is-identifier-name.js";var j=q("Identifier","MemberExpression",se),P=q("JSXIdentifier","JSXMemberExpression",le);function q(e,t,r){return n;function n(p){let f=-1,c;for(;++f<p.length;){let y=p[f],d=typeof y=="string"&&r(y);if(e==="JSXIdentifier"&&!d)throw new Error("Cannot turn `"+y+"` into a JSX identifier");let h=d?{type:e,name:y}:{type:"Literal",value:y};c=c?{type:t,object:c,property:h,computed:h.type==="Literal",optional:!1}:h}if(!c)throw new Error("Expected non-empty `ids` to be passed");if(c.type==="Literal")throw new Error("Expected identifier as left-most value");return c}}function le(e){let t=-1;for(;++t<e.length;)if(!(t?ce:ae)(e.charCodeAt(t)))return!1;return t>0}function ce(e){return e===45||pe(e)}function $(e={}){let{development:t,outputFormat:r}=e;return(n,p)=>{me(n,{development:t,filePath:p.history[0]}),r==="function-body"&&n.body[0]&&n.body[0].type==="ImportDeclaration"&&typeof n.body[0].source.value=="string"&&/\/jsx-(dev-)?runtime$/.test(n.body[0].source.value)&&(n.body[0]={type:"VariableDeclaration",kind:"const",declarations:C(n.body[0].specifiers,j(["arguments",0]))})}}import{analyze as fe}from"/cdn/v99/periscopic@3.0.4/es2022/periscopic.js";import{stringifyPosition as K}from"/cdn/v99/unist-util-stringify-position@3.0.2/es2022/unist-util-stringify-position.js";import{positionFromEstree as F}from"/cdn/v99/unist-util-position-from-estree@1.1.1/es2022/unist-util-position-from-estree.js";import{walk as ue}from"/cdn/v99/estree-walker@3.0.1/es2022/estree-walker.js";function G(e){if(e.type==="FunctionDeclaration")return{...e,type:"FunctionExpression"};if(e.type==="ClassDeclaration")return{...e,type:"ClassExpression"};throw new Error("Cannot turn `"+e.type+"` into an expression")}function H(e){let t=e&&typeof e=="object"&&e.type;return Boolean(t==="FunctionDeclaration"||t==="ClassDeclaration"||t==="VariableDeclaration")}function Q(e={}){let{baseUrl:t,useDynamicImport:r,outputFormat:n="program",pragma:p="React.createElement",pragmaFrag:f="React.Fragment",pragmaImportSource:c="react",jsxImportSource:y="react",jsxRuntime:d="automatic"}=e;return(E,I)=>{let s=[],l=[],a=[],g=0,m,x,o;if(E.comments||(E.comments=[]),d&&a.push("@jsxRuntime "+d),d==="automatic"&&y&&a.push("@jsxImportSource "+y),d==="classic"&&p&&a.push("@jsx "+p),d==="classic"&&f&&a.push("@jsxFrag "+f),a.length>0&&E.comments.unshift({type:"Block",value:a.join(" ")}),d==="classic"&&c){if(!p)throw new Error("Missing `pragma` in classic runtime with `pragmaImportSource`");D({type:"ImportDeclaration",specifiers:[{type:"ImportDefaultSpecifier",local:{type:"Identifier",name:p.split(".")[0]}}],source:{type:"Literal",value:c}})}for(o of E.body)if(o.type==="ExportDefaultDeclaration")m&&I.fail("Cannot specify multiple layouts (previous: "+K(F(m))+")",F(o),"recma-document:duplicate-layout"),m=o,l.push({type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"MDXLayout"},init:H(o.declaration)?G(o.declaration):o.declaration}]});else if(o.type==="ExportNamedDeclaration"&&o.source){let i=o.source;o.specifiers=o.specifiers.filter(u=>u.exported.name==="default"?(m&&I.fail("Cannot specify multiple layouts (previous: "+K(F(m))+")",F(o),"recma-document:duplicate-layout"),m=u,D(M(u,{type:"ImportDeclaration",specifiers:[u.local.name==="default"?{type:"ImportDefaultSpecifier",local:{type:"Identifier",name:"MDXLayout"}}:M(u.local,{type:"ImportSpecifier",imported:u.local,local:{type:"Identifier",name:"MDXLayout"}})],source:M(i,{type:"Literal",value:i.value})})),!1):!0),o.specifiers.length>0&&w(o)}else o.type==="ExportNamedDeclaration"||o.type==="ExportAllDeclaration"?w(o):o.type==="ImportDeclaration"?D(o):o.type==="ExpressionStatement"&&(o.expression.type==="JSXFragment"||o.expression.type==="JSXElement")?(x=!0,l.push(...h(o.expression,Boolean(m)))):l.push(o);x||l.push(...h(void 0,Boolean(m))),s.push(["MDXContent","default"]),n==="function-body"?l.push({type:"ReturnStatement",argument:{type:"ObjectExpression",properties:[...Array.from({length:g}).map((i,u)=>({type:"SpreadElement",argument:{type:"Identifier",name:"_exportAll"+(u+1)}})),...s.map(i=>({type:"Property",kind:"init",method:!1,computed:!1,shorthand:typeof i=="string",key:{type:"Identifier",name:typeof i=="string"?i:i[1]},value:{type:"Identifier",name:typeof i=="string"?i:i[0]}}))]}}):l.push({type:"ExportDefaultDeclaration",declaration:{type:"Identifier",name:"MDXContent"}}),E.body=l,t&&ue(E,{enter(i){let u=i;if(u.type==="MemberExpression"&&"object"in u&&u.object.type==="MetaProperty"&&u.property.type==="Identifier"&&u.object.meta.name==="import"&&u.object.property.name==="meta"&&u.property.name==="url"){let v={type:"Literal",value:t};this.replace(v)}}});function w(i){if(i.type==="ExportNamedDeclaration"){i.declaration&&s.push(...fe(i.declaration).scope.declarations.keys());for(o of i.specifiers)s.push(o.exported.name)}D(i)}function D(i){if(t&&i.source){let b=String(i.source.value);try{b=String(new URL(b))}catch{/^\.{0,2}\//.test(b)&&(b=String(new URL(b,t)))}i.source=M(i.source,{type:"Literal",value:b})}let u,v;if(n==="function-body"){if(i.type==="ImportDeclaration"||i.type==="ExportAllDeclaration"||i.type==="ExportNamedDeclaration"&&i.source){if(r||I.fail("Cannot use `import` or `export \u2026 from` in `evaluate` (outputting a function body) by default: please set `useDynamicImport: true` (and probably specify a `baseUrl`)",F(i),"recma-document:invalid-esm-statement"),!i.source)throw new Error("Expected `node.source` to be defined");v={type:"AwaitExpression",argument:M(i,{type:"ImportExpression",source:i.source})},(i.type==="ImportDeclaration"||i.type==="ExportNamedDeclaration")&&i.specifiers.length===0?u={type:"ExpressionStatement",expression:v}:u={type:"VariableDeclaration",kind:"const",declarations:i.type==="ExportAllDeclaration"?[{type:"VariableDeclarator",id:{type:"Identifier",name:"_exportAll"+ ++g},init:v}]:C(i.specifiers,v)}}else if(i.declaration)u=i.declaration;else{let b=i.specifiers.filter(S=>S.local.name!==S.exported.name).map(S=>({type:"VariableDeclarator",id:S.exported,init:S.local}));b.length>0&&(u={type:"VariableDeclaration",kind:"const",declarations:b})}}else u=i;u&&l.push(u)}};function h(E,I){let l={type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"MDXLayout"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!1},closingElement:{type:"JSXClosingElement",name:{type:"JSXIdentifier",name:"MDXLayout"}},children:[{type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"_createMdxContent"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!0},closingElement:null,children:[]}]};I||(l={type:"ConditionalExpression",test:{type:"Identifier",name:"MDXLayout"},consequent:l,alternate:{type:"CallExpression",callee:{type:"Identifier",name:"_createMdxContent"},arguments:[{type:"Identifier",name:"props"}],optional:!1}});let a=E||{type:"Literal",value:null};return a&&a.type==="JSXFragment"&&a.children.length===1&&a.children[0].type==="JSXElement"&&(a=a.children[0]),[{type:"FunctionDeclaration",id:{type:"Identifier",name:"_createMdxContent"},params:[{type:"Identifier",name:"props"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:a}]}},{type:"FunctionDeclaration",id:{type:"Identifier",name:"MDXContent"},params:[{type:"AssignmentPattern",left:{type:"Identifier",name:"props"},right:{type:"ObjectExpression",properties:[]}}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:l}]}}]}}import{stringifyPosition as ye}from"/cdn/v99/unist-util-stringify-position@3.0.2/es2022/unist-util-stringify-position.js";import{positionFromEstree as de}from"/cdn/v99/unist-util-position-from-estree@1.1.1/es2022/unist-util-position-from-estree.js";import{name as A}from"/cdn/v99/estree-util-is-identifier-name@2.0.1/es2022/estree-util-is-identifier-name.js";import{walk as xe}from"/cdn/v99/estree-walker@3.0.1/es2022/estree-walker.js";import{analyze as he}from"/cdn/v99/periscopic@3.0.4/es2022/periscopic.js";function T(e){let t=-1,r;for(;++t<e.length;){let n=e[t];r=r?{type:"BinaryExpression",left:r,operator:"+",right:n}:n}if(!r)throw new Error("Expected non-empty `expressions` to be passed");return r}var X={}.hasOwnProperty;function W(e={}){let{development:t,providerImportSource:r,outputFormat:n}=e;return(p,f)=>{let c=he(p),y=[],d,h,E;if(xe(p,{enter(I){let s=I,l=c.map.get(s);(s.type==="FunctionDeclaration"||s.type==="FunctionExpression"||s.type==="ArrowFunctionExpression")&&(y.push({objects:[],components:[],tags:[],references:{},idToInvalidComponentName:new Map,node:s}),k(s,"MDXContent")&&l&&!N(l,"MDXLayout")&&y[0].components.push("MDXLayout"));let a=y[0];if(!(!a||!k(a.node,"_createMdxContent")&&!r)&&(l&&(l.node=s,E=l),E&&s.type==="JSXElement")){let g=s.openingElement.name;if(g.type==="JSXMemberExpression"){let m=[];for(;g.type==="JSXMemberExpression";)m.unshift(g.property.name),g=g.object;m.unshift(g.name);let x=m.join("."),o=g.name,w=N(E,o);if(!X.call(a.references,x)){let D=E.parent;(!w||D&&D.node.type==="FunctionDeclaration"&&k(D.node,"_createMdxContent"))&&(a.references[x]={node:s,component:!0})}!a.objects.includes(o)&&!w&&a.objects.push(o)}else if(g.type!=="JSXNamespacedName"){if(A(g.name)&&!/^[a-z]/.test(g.name)){let m=g.name;N(E,m)||(m!=="MDXLayout"&&!X.call(a.references,m)&&(a.references[m]={node:s,component:!0}),a.components.includes(m)||a.components.push(m))}else if(!(s.data&&s.data._mdxExplicitJsx)){let m=g.name;a.tags.includes(m)||a.tags.push(m);let x=["_components",m];if(A(m)===!1){let o=a.idToInvalidComponentName.get(m);o===void 0&&(o=`_component${a.idToInvalidComponentName.size}`,a.idToInvalidComponentName.set(m,o)),x=[o]}s.openingElement.name=P(x),s.closingElement&&(s.closingElement.name=P(x))}}}},leave(I){let s=[],l=[],a=[],g=[];if(E&&E.node===I&&(E=E.parent),I.type==="FunctionDeclaration"||I.type==="FunctionExpression"||I.type==="ArrowFunctionExpression"){let m=I,x=y[y.length-1],o;for(o of x.tags)s.push({type:"Property",kind:"init",key:A(o)?{type:"Identifier",name:o}:{type:"Literal",value:o},value:{type:"Literal",value:o},method:!1,shorthand:!1,computed:!1});l.push(...x.components);for(o of x.objects)l.includes(o)||l.push(o);let w=[];if(s.length>0||l.length>0||x.idToInvalidComponentName.size>0){r&&(d=!0,a.push({type:"CallExpression",callee:{type:"Identifier",name:"_provideComponents"},arguments:[],optional:!1})),(k(x.node,"MDXContent")||k(x.node,"_createMdxContent"))&&a.push(j(["props","components"])),(s.length>0||a.length>1)&&a.unshift({type:"ObjectExpression",properties:s});let v=a.length>1?{type:"CallExpression",callee:j(["Object","assign"]),arguments:a,optional:!1}:a[0].type==="MemberExpression"?{type:"LogicalExpression",operator:"||",left:a[0],right:{type:"ObjectExpression",properties:[]}}:a[0],b;if(l.length>0&&(b={type:"ObjectPattern",properties:l.map(S=>({type:"Property",kind:"init",key:{type:"Identifier",name:S==="MDXLayout"?"wrapper":S},value:{type:"Identifier",name:S},method:!1,shorthand:S!=="MDXLayout",computed:!1}))}),x.tags.length>0&&(g.push({type:"VariableDeclarator",id:{type:"Identifier",name:"_components"},init:v}),v={type:"Identifier",name:"_components"}),k(x.node,"_createMdxContent"))for(let[S,J]of x.idToInvalidComponentName)g.push({type:"VariableDeclarator",id:{type:"Identifier",name:J},init:{type:"MemberExpression",object:{type:"Identifier",name:"_components"},property:{type:"Literal",value:S},computed:!0,optional:!1}});b&&g.push({type:"VariableDeclarator",id:b,init:v}),g.length>0&&w.push({type:"VariableDeclaration",kind:"const",declarations:g})}let D;for(D in x.references)if(X.call(x.references,D)){let v=D.split("."),b=0;for(;++b<v.length;){let S=v.slice(0,b).join(".");X.call(x.references,S)||(x.references[S]={node:x.references[D].node,component:!1})}}let i=Object.keys(x.references).sort(),u=-1;for(;++u<i.length;){let v=i[u],b=x.references[v],S=ye(de(b.node)),J=[{type:"Literal",value:v},{type:"Literal",value:b.component}];h=!0,t&&S!=="1:1-1:1"&&J.push({type:"Literal",value:S}),w.push({type:"IfStatement",test:{type:"UnaryExpression",operator:"!",prefix:!0,argument:j(v.split("."))},consequent:{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"_missingMdxReference"},arguments:J,optional:!1}},alternate:null})}w.length>0&&(m.body.type!=="BlockStatement"&&(m.body={type:"BlockStatement",body:[{type:"ReturnStatement",argument:m.body}]}),m.body.body.unshift(...w)),y.pop()}}}),d&&r&&p.body.unshift(ge(r,n)),h){let I=[{type:"Literal",value:"Expected "},{type:"ConditionalExpression",test:{type:"Identifier",name:"component"},consequent:{type:"Literal",value:"component"},alternate:{type:"Literal",value:"object"}},{type:"Literal",value:" `"},{type:"Identifier",name:"id"},{type:"Literal",value:"` to be defined: you likely forgot to import, pass, or provide it."}],s=[{type:"Identifier",name:"id"},{type:"Identifier",name:"component"}];t&&(I.push({type:"ConditionalExpression",test:{type:"Identifier",name:"place"},consequent:T([{type:"Literal",value:"\nIt\u2019s referenced in your code at `"},{type:"Identifier",name:"place"},{type:"Literal",value:(f.path?"` in `"+f.path:"")+"`"}]),alternate:{type:"Literal",value:""}}),s.push({type:"Identifier",name:"place"})),p.body.push({type:"FunctionDeclaration",id:{type:"Identifier",name:"_missingMdxReference"},generator:!1,async:!1,params:s,body:{type:"BlockStatement",body:[{type:"ThrowStatement",argument:{type:"NewExpression",callee:{type:"Identifier",name:"Error"},arguments:[T(I)]}}]}})}}}function ge(e,t){let r=[{type:"ImportSpecifier",imported:{type:"Identifier",name:"useMDXComponents"},local:{type:"Identifier",name:"_provideComponents"}}];return t==="function-body"?{type:"VariableDeclaration",kind:"const",declarations:C(r,j(["arguments",0]))}:{type:"ImportDeclaration",specifiers:r,source:{type:"Literal",value:e}}}function k(e,t){return Boolean(e&&"id"in e&&e.id&&e.id.name===t)}function N(e,t){let r=e;for(;r;){if(r.declarations.has(t))return!0;r=r.parent}return!1}import{toJs as Y,jsx as Z}from"/cdn/v99/estree-util-to-js@1.1.0/es2022/estree-util-to-js.js";function ee(e={}){let{SourceMapGenerator:t}=e;Object.assign(this,{Compiler:r});function r(n,p){let f=t?Y(n,{filePath:p.path||"unknown.mdx",SourceMapGenerator:t,handlers:Z}):Y(n,{handlers:Z});return p.map=f.map,f.value}}import{toEstree as Ee}from"/cdn/v99/hast-util-to-estree@2.1.0/es2022/hast-util-to-estree.js";function te(){return e=>Ee(e)}import{visit as be}from"/cdn/v99/unist-util-visit@4.1.1/es2022/unist-util-visit.js";function re(){return e=>{be(e,"raw",(t,r,n)=>{if(n&&typeof r=="number")return n.children.splice(r,1),r})}}import{visit as Ie}from"/cdn/v99/unist-util-visit@4.1.1/es2022/unist-util-visit.js";function ne(){return e=>{Ie(e,(t,r,n)=>{let p=n,f=-1,c=!0,y;if(p&&typeof r=="number"&&t.type==="paragraph"){let d=t.children;for(;++f<d.length;){let h=d[f];if(h.type==="mdxJsxTextElement"||h.type==="mdxTextExpression")y=!0;else if(!(h.type==="text"&&/^[\t\r\n ]+$/.test(String(h.value)))){c=!1;break}}if(c&&y){for(f=-1;++f<d.length;){let h=d[f];h.type==="mdxJsxTextElement"&&(h.type="mdxJsxFlowElement"),h.type==="mdxTextExpression"&&(h.type="mdxFlowExpression")}return p.children.splice(r,1,...d),r}}if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement"){let d=t.data||(t.data={});d._mdxExplicitJsx=!0}})}}var R=["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"];var oe=["filepath","compilers","hastPlugins","mdPlugins","skipExport","wrapExport"];function L(e={}){let{development:t=!1,jsx:r,format:n,outputFormat:p,providerImportSource:f,recmaPlugins:c,rehypePlugins:y,remarkPlugins:d,remarkRehypeOptions:h={},SourceMapGenerator:E,...I}=e,s=-1;for(;++s<oe.length;){let a=oe[s];if(a in e)throw new Error("`options."+a+"` is no longer supported. Please see <https://mdxjs.com/migrating/v2/> for more information")}if(n==="detect")throw new Error("Incorrect `format: 'detect'`: `createProcessor` can support either `md` or `mdx`; it does not support detecting the format");let l=Se().use(De);return n!=="md"&&l.use(ve),l.use(ne).use(d||[]).use(we,{...h,allowDangerousHtml:!0,passThrough:[...(h.passThrough||[]),...R]}).use(y||[]),n==="md"&&l.use(re),l.use(te).use(Q,{...I,outputFormat:p}).use(W,{development:t,providerImportSource:f,outputFormat:p}),r||l.use($,{development:t,outputFormat:p}),l.use(ee,{SourceMapGenerator:E}).use(c||[]),l}import{VFile as je}from"/cdn/v99/vfile@5.3.6/es2022/vfile.js";import Me from"/cdn/v99/markdown-extensions@1.1.1/es2022/markdown-extensions.js";var ie=Me.map(e=>"."+e);function _(e,t){let r=Ce(e)?e:new je(e),{format:n,...p}=t||{};return{file:r,options:{format:n==="md"||n==="mdx"?n:r.extname&&(p.mdExtensions||ie).includes(r.extname)?"md":"mdx",...p}}}function Ce(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function V(e,t){let{file:r,options:n}=_(e,t);return L(n).process(r)}function B(e,t){let{file:r,options:n}=_(e,t);return L(n).processSync(r)}var ke=Object.getPrototypeOf(O).constructor;async function O(e,t){return new ke(String(e))(t)}function U(e,t){return new Function(String(e))(t)}function z(e){let{development:t,Fragment:r,jsx:n,jsxs:p,jsxDEV:f,useMDXComponents:c,...y}=e||{};if(!r)throw new Error("Expected `Fragment` given to `evaluate`");if(t){if(!f)throw new Error("Expected `jsxDEV` given to `evaluate`")}else{if(!n)throw new Error("Expected `jsx` given to `evaluate`");if(!p)throw new Error("Expected `jsxs` given to `evaluate`")}return{compiletime:{...y,development:t,outputFormat:"function-body",providerImportSource:c?"#":void 0},runtime:{Fragment:r,jsx:n,jsxs:p,jsxDEV:f,useMDXComponents:c}}}async function Fe(e,t){let{compiletime:r,runtime:n}=z(t);return O(await V(e,r),n)}function Je(e,t){let{compiletime:r,runtime:n}=z(t);return U(B(e,r),n)}export{V as compile,B as compileSync,L as createProcessor,Fe as evaluate,Je as evaluateSync,R as nodeTypes,O as run,U as runSync};